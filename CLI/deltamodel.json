{
    "modelName": "New model",
    "collections": [
        {
            "collectionName": "comparisonModelCollection",
            "type": "object",
            "properties": [
                {
                    "name": "containers",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "f7d141bf-eaca-4758-9803-abebaab05349"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "dfc9c8d3-d11a-436d-992b-b1c24ae7d943"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "public",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3c191797-38b2-4d29-826a-49db75e91811",
                                            "role": {
                                                "name": "public",
                                                "type": "bucket",
                                                "collectionIds": [
                                                    "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                    "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                    "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                    "07f5c08f-ca86-400e-b213-0186982d89da",
                                                    "1934464b-2d0c-457e-a862-03abab3c889d",
                                                    "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                    "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                    "c756f3bc-2217-46a3-8712-408b21b761d1",
                                                    "0ae060fb-f1db-4c29-8e4e-9ab1e324d80e",
                                                    "96d550bd-3c38-4d96-b7ec-c8ed09db9661",
                                                    "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                    "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                    "6525d75b-5a4a-4466-984b-123ea7918dfe",
                                                    "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                    "3c0f31e5-aeb3-43d2-955f-e3125d7a6d5d"
                                                ],
                                                "backgroundColor": {
                                                    "r": 216,
                                                    "g": 0,
                                                    "b": 115,
                                                    "a": 1
                                                },
                                                "show": true,
                                                "isActivated": true,
                                                "ifNotExist": true,
                                                "GUID": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "hackoladeMeta": {},
                                                "UDFs": [
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                        "name": "_group_concat",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "text",
                                                        "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                        "name": "film_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                        "name": "film_not_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                        "name": "get_customer_balance",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_customer_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_effective_date",
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "numeric",
                                                        "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                        "name": "inventory_held_by_customer",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                        "name": "inventory_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "bool",
                                                        "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "STRICT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                        "name": "last_day",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "date",
                                                        "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                        "name": "last_updated",
                                                        "functionDescription": null,
                                                        "functionArguments": [],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "trigger",
                                                        "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "DEFINER",
                                                        "functionParallel": "",
                                                        "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                        "name": "rewards_report",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_monthly_purchases",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_dollar_amount_purchased",
                                                                "argumentType": "numeric",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "customer",
                                                        "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                        "functionLeakProof": false
                                                    }
                                                ],
                                                "Procedures": [],
                                                "code": "",
                                                "addFieldsToBucket": true,
                                                "isPlugin": true,
                                                "compMod": {
                                                    "name": {
                                                        "new": "public",
                                                        "old": "public"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "UDFs": {
                                                        "new": [
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                "name": "_group_concat",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "text",
                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                "name": "film_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                "name": "film_not_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                "name": "get_customer_balance",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_customer_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_effective_date",
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "numeric",
                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                "name": "inventory_held_by_customer",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                "name": "inventory_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "bool",
                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "STRICT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                "name": "last_day",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "date",
                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                "name": "last_updated",
                                                                "functionDescription": null,
                                                                "functionArguments": [],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "trigger",
                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "DEFINER",
                                                                "functionParallel": "",
                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                "name": "rewards_report",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_monthly_purchases",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                        "argumentType": "numeric",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "customer",
                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                "functionLeakProof": false
                                                            }
                                                        ]
                                                    },
                                                    "Procedures": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "50994954-8870-4a1d-ae9e-8c48d223edfd": "public"
                                                    }
                                                },
                                                "roleType": "container"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "6953b3c8-ceda-4900-aa6f-f9bd579d80a3",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "6bc3d3e9-4b3e-44f3-83d0-677cd138583b"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "244c1c07-120c-4186-b05b-c18bd973613e"
                },
                {
                    "name": "entities",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "language",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('language_language_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "language_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "f5f4722e-54fd-4741-b6e3-c15479101d32"
                                                        }
                                                    ],
                                                    "GUID": "499aaf36-51c8-4b5f-ba1c-815317721ea8",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "815625d8-8188-4720-ac25-f1609e9f33c3"
                                                    ],
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "name",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "char",
                                                    "length": 20,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bpchar",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "8fbe4865-ba54-411a-8f53-cedabd1353ec",
                                                    "required": true,
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "3239b0ae-1bca-417f-8260-fed84b035ad3",
                                                    "required": true,
                                                    "error": {}
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "276fb713-b26c-4966-a802-5206d36b265a",
                                            "compMod": {
                                                "keyspaceName": "public",
                                                "bucketProperties": {
                                                    "name": "public",
                                                    "isActivated": true,
                                                    "ifNotExist": true,
                                                    "code": ""
                                                },
                                                "created": true,
                                                "deleted": false
                                            },
                                            "role": {
                                                "collectionName": "language",
                                                "type": "object",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "memory_optimized": false,
                                                "collectionUsers": [],
                                                "ifNotExist": true,
                                                "on_commit": "PRESERVE ROWS",
                                                "table_tablespace_name": "pg_default",
                                                "GUID": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "code": "",
                                                "temporary": false,
                                                "unlogged": false,
                                                "inherits": [],
                                                "primaryKey": [],
                                                "uniqueKey": [],
                                                "Indxs": [
                                                    {
                                                        "isActivated": true,
                                                        "index_method": "btree",
                                                        "ifNotExist": true,
                                                        "only": true,
                                                        "index_tablespace_name": "",
                                                        "GUID": "45a83c79-aaf5-48f2-b7b7-608d8f0bb92e",
                                                        "indxName": "language_pkey",
                                                        "unique": true,
                                                        "columns": [
                                                            {
                                                                "keyId": "499aaf36-51c8-4b5f-ba1c-815317721ea8",
                                                                "sortOrder": "ASC",
                                                                "nullsOrder": "NULLS LAST",
                                                                "collation": null,
                                                                "opclass": "pg_catalog.int4_ops"
                                                            }
                                                        ],
                                                        "include": [],
                                                        "where": ""
                                                    }
                                                ],
                                                "chkConstr": [],
                                                "triggers": [
                                                    {
                                                        "triggerType": "BEFORE",
                                                        "GUID": "d4eae8ca-8c49-4ecf-8544-90352f6f86da",
                                                        "name": "last_updated",
                                                        "triggerDescription": null,
                                                        "triggerConstraint": false,
                                                        "triggerEvents": [
                                                            {
                                                                "GUID": "5b7ad2b2-2e2d-42ee-81c5-5f29d42fb827",
                                                                "triggerEvent": "UPDATE"
                                                            }
                                                        ],
                                                        "triggerUpdateColumns": [],
                                                        "triggerReferencing": false,
                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                        "triggerCondition": null,
                                                        "triggerFunction": "last_updated()"
                                                    }
                                                ],
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "created": true,
                                                    "deleted": false
                                                },
                                                "name": "language",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a80d3cb5-58d3-4d45-bc2a-a094c979e14c",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "907c57e5-2089-47f5-8140-23243257249b"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ad7f5e96-1507-41d6-b90e-ae431b59123d"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "actor_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "3b9578cc-8abb-4f40-8285-51ec593bfee1"
                                                        }
                                                    ],
                                                    "GUID": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "75caa456-b94e-4846-9f64-d56d861b7e37"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "fe7cabbc-284f-4743-9868-c0817d50edb4",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "ac17a6ec-d080-49be-9dd2-d9e208b26f13",
                                            "role": {
                                                "collectionName": "actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                        "constraintName": "actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "6d5e8b7d-d55b-4612-9768-4a4c74a6a5c3",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('actor_actor_id_seq'::regclass)",
                                                        "GUID": "6d5e8b7d-d55b-4612-9768-4a4c74a6a5c3",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "3b8f74ab-376d-49fe-8808-6241fa630e32"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "96208afa-ce91-45a4-8f4c-2f51167370d8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "949e24bd-5107-467d-8fa1-5b874a0c485d",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "c332d826-4eeb-4a66-8650-adbd90e0adb5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "6e544b4b-68f9-4949-8862-8d5b7ebb762f",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "actor",
                                                        "old": "actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                                "constraintName": "actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "6d5e8b7d-d55b-4612-9768-4a4c74a6a5c3",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                "indxName": "actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                "indxName": "idx_actor_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
                                                        "6d5e8b7d-d55b-4612-9768-4a4c74a6a5c3": "actor_id",
                                                        "96208afa-ce91-45a4-8f4c-2f51167370d8": "first_name",
                                                        "949e24bd-5107-467d-8fa1-5b874a0c485d": "last_name",
                                                        "c332d826-4eeb-4a66-8650-adbd90e0adb5": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "9a2001af-2477-473e-a86e-ed7038edb0c0": "actor",
                                                        "6098bf79-7a4b-4d3b-819f-56e61a302310": "actor_id",
                                                        "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52": "first_name",
                                                        "92e5ef5d-951e-447c-90fd-62fddb9b7196": "last_name",
                                                        "fe7cabbc-284f-4743-9868-c0817d50edb4": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('actor_actor_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "actor_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "3b9578cc-8abb-4f40-8285-51ec593bfee1"
                                                                }
                                                            ],
                                                            "GUID": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "75caa456-b94e-4846-9f64-d56d861b7e37"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "fe7cabbc-284f-4743-9868-c0817d50edb4",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "f3662126-db90-4b09-9545-59c703d53bdc",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "address",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('address_address_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "address_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "cdb0f16c-9fcb-4458-8344-ab397e4f2d10"
                                                        }
                                                    ],
                                                    "GUID": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "3aef1f36-2e07-4b98-a147-0b8faa48428e",
                                                        "7ce61918-e7f4-48e2-805e-324020e621f1",
                                                        "fe1c7d15-205a-4698-b50b-3039a3ae9079"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "07f5c08f-ca86-400e-b213-0186982d89da",
                                                    "foreignField": [
                                                        "07f5c08f-ca86-400e-b213-0186982d89da",
                                                        "6207e612-2a22-48ee-8d26-ee566a23a519"
                                                    ],
                                                    "parentRelationship": "fee20d4e-0257-4cd7-acdc-b0b1e9c3b02b",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "6ce51ba2-20bf-4e03-93c6-3cf5e6768164",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "eee66938-4b62-4318-a1f2-e35dbabacfa4",
                                            "role": {
                                                "collectionName": "address",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                        "constraintName": "address_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "a8d04aba-8b10-4dd1-be97-c82610ffd7b2",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('address_address_id_seq'::regclass)",
                                                        "GUID": "a8d04aba-8b10-4dd1-be97-c82610ffd7b2",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                            "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                            "de5d6fab-0969-4e75-8d15-13e259c84972"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "89c003e3-70fc-4f09-a4bf-e18d53a269d8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address2",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "1faa522a-fec1-472d-9c7b-9477242e3abc",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "district",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "a7912084-96fe-4084-87f7-5e15ad878d85",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                        "foreignField": [
                                                            "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                            "11077fc5-5f0e-4cd8-a036-d68b7d8fe54d"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "f6f80800-0164-4ff7-a213-ab3eaccad60c",
                                                        "error": {},
                                                        "parentRelationship": "5b249fee-16bc-40e4-9fd1-2cc46c80b472",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "postal_code",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "754f8d6c-7f4f-4b2f-94dc-0318b61b4f9b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "phone",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "fe78602c-61d5-4356-a219-997418864e3c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "347487fa-a02e-4265-b89e-0ab037ea98fc",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "f127e4c1-7759-4ce5-af6c-7d9d5357aef3",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "address",
                                                        "old": "address"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                                "constraintName": "address_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "a8d04aba-8b10-4dd1-be97-c82610ffd7b2",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                "indxName": "address_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                "indxName": "idx_fk_city_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
                                                        "a8d04aba-8b10-4dd1-be97-c82610ffd7b2": "address_id",
                                                        "89c003e3-70fc-4f09-a4bf-e18d53a269d8": "address",
                                                        "1faa522a-fec1-472d-9c7b-9477242e3abc": "address2",
                                                        "a7912084-96fe-4084-87f7-5e15ad878d85": "district",
                                                        "f6f80800-0164-4ff7-a213-ab3eaccad60c": "city_id",
                                                        "754f8d6c-7f4f-4b2f-94dc-0318b61b4f9b": "postal_code",
                                                        "fe78602c-61d5-4356-a219-997418864e3c": "phone",
                                                        "347487fa-a02e-4265-b89e-0ab037ea98fc": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "8e50d01d-2b90-4369-b8f6-ce177f9abe43": "address",
                                                        "aee3dc96-7b62-483e-a40c-1afd2322c2cc": "address_id",
                                                        "63ed2d12-b6b8-4f9f-8866-d5330629fb24": "address",
                                                        "dbc4d119-329c-4b1d-88f0-1db148de7414": "address2",
                                                        "ce77f2a6-e23f-4763-8024-11c2f404107a": "district",
                                                        "0d1fbb73-f549-4ba0-8654-475a32dc1f36": "city_id",
                                                        "c0298d5e-a70e-4ae3-80e9-a00a998bc82e": "postal_code",
                                                        "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa": "phone",
                                                        "6ce51ba2-20bf-4e03-93c6-3cf5e6768164": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('address_address_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "address_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "cdb0f16c-9fcb-4458-8344-ab397e4f2d10"
                                                                }
                                                            ],
                                                            "GUID": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "3aef1f36-2e07-4b98-a147-0b8faa48428e",
                                                                "7ce61918-e7f4-48e2-805e-324020e621f1",
                                                                "fe1c7d15-205a-4698-b50b-3039a3ae9079"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "63ed2d12-b6b8-4f9f-8866-d5330629fb24",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address2",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "dbc4d119-329c-4b1d-88f0-1db148de7414",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "district",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ce77f2a6-e23f-4763-8024-11c2f404107a",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "07f5c08f-ca86-400e-b213-0186982d89da",
                                                            "foreignField": [
                                                                "07f5c08f-ca86-400e-b213-0186982d89da",
                                                                "6207e612-2a22-48ee-8d26-ee566a23a519"
                                                            ],
                                                            "parentRelationship": "fee20d4e-0257-4cd7-acdc-b0b1e9c3b02b",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "postal_code",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c0298d5e-a70e-4ae3-80e9-a00a998bc82e",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "phone",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "6ce51ba2-20bf-4e03-93c6-3cf5e6768164",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "address",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "ab05c085-2fc0-450b-85e4-d53efb4ed4a8",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('category_category_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "category_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "cc0c0f77-dc44-4c12-8a37-e3642d2d5be5"
                                                        }
                                                    ],
                                                    "GUID": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "438a4308-dac4-497a-aafb-98c24fc40b9d"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "879a41ea-b6f1-4fb0-8da6-8a2a623ee34c",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "ea46c402-ffae-4c83-a461-ea6a319be017",
                                            "role": {
                                                "collectionName": "category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                        "constraintName": "category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "30d79b4a-70f0-4b1c-b7e5-c20ac8c3e047",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('category_category_id_seq'::regclass)",
                                                        "GUID": "30d79b4a-70f0-4b1c-b7e5-c20ac8c3e047",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d03dd0f4-e0ba-481d-830d-6a3d8a197237"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 25,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "4f023041-34b5-4401-aa6e-2de2946f63d2",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "5708ac61-2596-45a1-93ae-974604747713",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "c5826c42-6bdf-4fce-8702-ef9facfb5666",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "category",
                                                        "old": "category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                                "constraintName": "category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "30d79b4a-70f0-4b1c-b7e5-c20ac8c3e047",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                "indxName": "category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
                                                        "30d79b4a-70f0-4b1c-b7e5-c20ac8c3e047": "category_id",
                                                        "4f023041-34b5-4401-aa6e-2de2946f63d2": "name",
                                                        "5708ac61-2596-45a1-93ae-974604747713": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e52ee789-379c-4a0e-8ddc-cdc20e093c6b": "category",
                                                        "0b360270-910a-4558-b007-3d702c4ccaa6": "category_id",
                                                        "6a1553f0-e655-4cfa-ae43-90b8929fa76f": "name",
                                                        "879a41ea-b6f1-4fb0-8da6-8a2a623ee34c": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('category_category_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "category_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "cc0c0f77-dc44-4c12-8a37-e3642d2d5be5"
                                                                }
                                                            ],
                                                            "GUID": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "438a4308-dac4-497a-aafb-98c24fc40b9d"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 25,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "879a41ea-b6f1-4fb0-8da6-8a2a623ee34c",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "545ca4ef-37ee-4e29-85a9-dade8f4c31f4",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('city_city_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "city_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "14463b47-2736-4ffe-aca0-a1da21c65b00"
                                                        }
                                                    ],
                                                    "GUID": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "fee20d4e-0257-4cd7-acdc-b0b1e9c3b02b"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "1934464b-2d0c-457e-a862-03abab3c889d",
                                                    "foreignField": [
                                                        "1934464b-2d0c-457e-a862-03abab3c889d",
                                                        "39d8030e-56a1-4edd-9eea-ba0a54012a87"
                                                    ],
                                                    "parentRelationship": "185352af-991c-4436-9f92-61e9be2de4a4",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "74b45309-eb9f-42a3-b54f-2f280ee7766c",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "2a97d8c3-5e1b-4a2c-8654-a7d3fbe2e42d",
                                            "role": {
                                                "collectionName": "city",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                        "constraintName": "city_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "11077fc5-5f0e-4cd8-a036-d68b7d8fe54d",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('city_city_id_seq'::regclass)",
                                                        "GUID": "11077fc5-5f0e-4cd8-a036-d68b7d8fe54d",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "5b249fee-16bc-40e4-9fd1-2cc46c80b472"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "1ad6b955-0449-4a41-8c3c-d153b0174580",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                        "foreignField": [
                                                            "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                            "77fd93d0-a287-4a1c-9863-4dfcb96f8a4a"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "fffc4624-ba54-46c2-917d-8fa27c1f1cb4",
                                                        "error": {},
                                                        "parentRelationship": "d374bba1-7534-4b1b-8812-6aa507c55623",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "31775a4b-63f0-4b2e-bfde-8e5e0bdc7b38",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "7d1ffb6a-5f14-4bf3-9757-3e18f1159773",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "city",
                                                        "old": "city"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                                "constraintName": "city_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "11077fc5-5f0e-4cd8-a036-d68b7d8fe54d",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "7abb7ca6-69f7-4291-a80e-e3bd34cdc40e",
                                                                "indxName": "city_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "95b4bd99-3c61-4fbb-8232-735d56bfb200",
                                                                "indxName": "idx_fk_country_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "24dfbe27-d539-4000-b0d5-f6d07bdf96e4",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "4501edcd-7075-4cb1-a068-d2b793740494",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
                                                        "11077fc5-5f0e-4cd8-a036-d68b7d8fe54d": "city_id",
                                                        "1ad6b955-0449-4a41-8c3c-d153b0174580": "city",
                                                        "fffc4624-ba54-46c2-917d-8fa27c1f1cb4": "country_id",
                                                        "31775a4b-63f0-4b2e-bfde-8e5e0bdc7b38": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "07f5c08f-ca86-400e-b213-0186982d89da": "city",
                                                        "6207e612-2a22-48ee-8d26-ee566a23a519": "city_id",
                                                        "39af1240-bd63-4e61-881a-bbb1100d0f4f": "city",
                                                        "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a": "country_id",
                                                        "74b45309-eb9f-42a3-b54f-2f280ee7766c": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('city_city_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "city_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "14463b47-2736-4ffe-aca0-a1da21c65b00"
                                                                }
                                                            ],
                                                            "GUID": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "fee20d4e-0257-4cd7-acdc-b0b1e9c3b02b"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "1934464b-2d0c-457e-a862-03abab3c889d",
                                                            "foreignField": [
                                                                "1934464b-2d0c-457e-a862-03abab3c889d",
                                                                "39d8030e-56a1-4edd-9eea-ba0a54012a87"
                                                            ],
                                                            "parentRelationship": "185352af-991c-4436-9f92-61e9be2de4a4",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "74b45309-eb9f-42a3-b54f-2f280ee7766c",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "city",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "cf79c2d8-889b-4a17-af75-64d32d3bc47f",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "country",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('country_country_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "country_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "3a1f3bbf-065a-4364-9928-5a40c7d86430"
                                                        }
                                                    ],
                                                    "GUID": "39d8030e-56a1-4edd-9eea-ba0a54012a87",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "185352af-991c-4436-9f92-61e9be2de4a4"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "b1f8d6cd-b2aa-474c-8f2b-091848223005",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "641d8d53-936f-4cc3-b9cd-082c9d0e4e8b",
                                            "role": {
                                                "collectionName": "country",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                        "constraintName": "country_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "77fd93d0-a287-4a1c-9863-4dfcb96f8a4a",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('country_country_id_seq'::regclass)",
                                                        "GUID": "77fd93d0-a287-4a1c-9863-4dfcb96f8a4a",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d374bba1-7534-4b1b-8812-6aa507c55623"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "10cc213c-9602-46c4-8b00-fd16fecc01d5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "4ead5995-c020-4de4-9fb4-dd82875bb9b2",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "0167b448-3231-47a8-9050-82b6261c1619",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "country",
                                                        "old": "country"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                                "constraintName": "country_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "77fd93d0-a287-4a1c-9863-4dfcb96f8a4a",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "6ef8e45e-d1e6-4cfb-8f62-c8a988cdea63",
                                                                "indxName": "country_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "39d8030e-56a1-4edd-9eea-ba0a54012a87",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "53dd9cb8-76a9-4291-b4f9-a9bc4ab6e795",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "0e193ee7-f23e-4d81-8e82-c5fc1c53aed0",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
                                                        "77fd93d0-a287-4a1c-9863-4dfcb96f8a4a": "country_id",
                                                        "10cc213c-9602-46c4-8b00-fd16fecc01d5": "country",
                                                        "4ead5995-c020-4de4-9fb4-dd82875bb9b2": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "1934464b-2d0c-457e-a862-03abab3c889d": "country",
                                                        "39d8030e-56a1-4edd-9eea-ba0a54012a87": "country_id",
                                                        "82131157-cdeb-4b38-8a30-9671aeec8cba": "country",
                                                        "b1f8d6cd-b2aa-474c-8f2b-091848223005": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('country_country_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "country_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "3a1f3bbf-065a-4364-9928-5a40c7d86430"
                                                                }
                                                            ],
                                                            "GUID": "39d8030e-56a1-4edd-9eea-ba0a54012a87",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "185352af-991c-4436-9f92-61e9be2de4a4"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "82131157-cdeb-4b38-8a30-9671aeec8cba",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "b1f8d6cd-b2aa-474c-8f2b-091848223005",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "country",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "8cbdeb79-2425-46c8-b85d-6ad61984356b",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "customer_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "bcfc18e2-03da-4cff-860c-4524e559ba17"
                                                        }
                                                    ],
                                                    "GUID": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "6e0907dc-53dc-40ef-bc05-48077a6a9917",
                                                        "c2dc6691-2618-4bb3-b998-39244039df49"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "a993d776-3336-4c53-8087-ce30534020e4",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                    "foreignField": [
                                                        "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                        "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                    ],
                                                    "parentRelationship": "7ce61918-e7f4-48e2-805e-324020e621f1",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "create_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "date",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "('now'::text)::date",
                                                    "timePrecision": "",
                                                    "udt_name": "date",
                                                    "numberOfArrayDimensions": 0,
                                                    "GUID": "a216c170-5bf3-4b4f-a971-1b44412432a6",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        },
                                                        "newField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "ac1f917a-fe9e-45d9-ba97-0f345f89dde9",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "active",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "6eeb69d2-449c-437c-8219-e1a5dbb868a7",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "96e7971b-b7cf-421a-a959-e754282fc089",
                                            "role": {
                                                "collectionName": "customer",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                        "constraintName": "customer_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('customer_customer_id_seq'::regclass)",
                                                        "GUID": "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                            "bb069ade-4229-4938-a44d-e3a732655054"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "36cf7fd9-af25-485e-a64f-18f6932765c3",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "055cdd61-2aa4-4a24-b565-6e4bce12cdaf",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "6bd6bfbc-a63f-4c6f-852b-dcb1cd04d15f",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "bcd59348-9c75-4eed-89a9-853fe86510f6",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "a8d04aba-8b10-4dd1-be97-c82610ffd7b2"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "160a8d49-545c-4cad-a7d7-831ee09f7fe9",
                                                        "error": {},
                                                        "parentRelationship": "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "activebool",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "df90fdaa-1ad0-4de2-a40a-8fced4674ea1",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "date",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "create_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "('now'::text)::date",
                                                        "GUID": "bbdee2ea-c40f-4881-9fcc-c203c63a54a1",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            },
                                                            "newField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "b3262a5d-6adf-4e1d-99e8-8c4a7e16e1e4",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "d1ce1441-c358-48c0-b17e-62caea1e3dee",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "c72a688c-a059-4a68-8b93-f1c6de1c55f9",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "customer",
                                                        "old": "customer"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                                "constraintName": "customer_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                "indxName": "customer_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                "indxName": "idx_fk_address_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                "indxName": "idx_fk_store_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                "indxName": "idx_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
                                                        "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47": "customer_id",
                                                        "36cf7fd9-af25-485e-a64f-18f6932765c3": "store_id",
                                                        "055cdd61-2aa4-4a24-b565-6e4bce12cdaf": "first_name",
                                                        "6bd6bfbc-a63f-4c6f-852b-dcb1cd04d15f": "last_name",
                                                        "bcd59348-9c75-4eed-89a9-853fe86510f6": "email",
                                                        "160a8d49-545c-4cad-a7d7-831ee09f7fe9": "address_id",
                                                        "df90fdaa-1ad0-4de2-a40a-8fced4674ea1": "activebool",
                                                        "bbdee2ea-c40f-4881-9fcc-c203c63a54a1": "create_date",
                                                        "b3262a5d-6adf-4e1d-99e8-8c4a7e16e1e4": "last_update",
                                                        "d1ce1441-c358-48c0-b17e-62caea1e3dee": "active"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "353e9ba8-f3ae-4fc0-b0fd-63156f796d35": "customer",
                                                        "a6bda98c-7574-4777-b6e8-92f44d30b887": "customer_id",
                                                        "a993d776-3336-4c53-8087-ce30534020e4": "store_id",
                                                        "d22db3a7-6647-429c-a96c-4fe32dbab596": "first_name",
                                                        "7dec4c8a-8431-4569-9d68-de9ccfefbef3": "last_name",
                                                        "9bacff07-cc80-4414-ad8c-232459b756a4": "email",
                                                        "e4dada41-090d-407e-9c08-a70fa2dcad8a": "address_id",
                                                        "a4b2df30-3723-492d-b79c-d9fe3999a8f2": "activebool",
                                                        "a216c170-5bf3-4b4f-a971-1b44412432a6": "create_date",
                                                        "ac1f917a-fe9e-45d9-ba97-0f345f89dde9": "last_update",
                                                        "6eeb69d2-449c-437c-8219-e1a5dbb868a7": "active"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('customer_customer_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "customer_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "bcfc18e2-03da-4cff-860c-4524e559ba17"
                                                                }
                                                            ],
                                                            "GUID": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "6e0907dc-53dc-40ef-bc05-48077a6a9917",
                                                                "c2dc6691-2618-4bb3-b998-39244039df49"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a993d776-3336-4c53-8087-ce30534020e4",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "d22db3a7-6647-429c-a96c-4fe32dbab596",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "9bacff07-cc80-4414-ad8c-232459b756a4",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "foreignField": [
                                                                "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                                "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                            ],
                                                            "parentRelationship": "7ce61918-e7f4-48e2-805e-324020e621f1",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "activebool",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a4b2df30-3723-492d-b79c-d9fe3999a8f2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "create_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "date",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "('now'::text)::date",
                                                            "timePrecision": "",
                                                            "udt_name": "date",
                                                            "numberOfArrayDimensions": 0,
                                                            "GUID": "a216c170-5bf3-4b4f-a971-1b44412432a6",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                },
                                                                "newField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "ac1f917a-fe9e-45d9-ba97-0f345f89dde9",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "6eeb69d2-449c-437c-8219-e1a5dbb868a7",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "customer",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "ab3ed0a3-81f8-4c08-9b5c-2ffb162444b9",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "film_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                        }
                                                    ],
                                                    "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                        "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                        "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                    "foreignField": [
                                                        "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                        "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                    ],
                                                    "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_duration",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "3",
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "length",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "special_features",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "text",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "_text",
                                                    "numberOfArrayDimensions": 1,
                                                    "timePrecision": "",
                                                    "array_type": [
                                                        {
                                                            "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                        }
                                                    ],
                                                    "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        },
                                                        "newField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "fulltext",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "tsvector",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "tsvector",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "char"
                                                        },
                                                        "newField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "tsvector"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "d0411792-43b5-4d55-8e62-538c3da12e70",
                                            "role": {
                                                "collectionName": "film",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                        "constraintName": "film_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "449cde3f-3926-4ffb-9fca-39c19aaacc70",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                        "GUID": "449cde3f-3926-4ffb-9fca-39c19aaacc70",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                            "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                            "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 255,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "title",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "0b17e67e-3482-4a5d-9521-9215075263d1",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "description",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "ee61a01b-9321-4b76-995d-b9e9f634a36e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "release_year",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/year",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                        ],
                                                        "ref": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                                                        "GUID": "1094fdec-ea91-4d59-bc81-09463872bdfc",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                    "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "language_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "c5d8574a-9f86-4e14-8f67-f685642cf38a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_duration",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "3",
                                                        "GUID": "2e274b9b-78fd-48c2-935d-1a54fbfdbcc2",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_rate",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 4,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "4.99",
                                                        "GUID": "3372c01a-876c-4d56-aff1-eb8d9400b420",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "length",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "303e46e7-e768-4020-b429-78852d64dd9a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "replacement_cost",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "19.99",
                                                        "GUID": "ee1cda20-eed0-4fa5-935f-d685c243cb2b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "rating",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/mpaa_rating",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                        ],
                                                        "ref": "aef4047c-1b18-4be6-8785-760ae34f2043",
                                                        "GUID": "fdec2644-4662-454c-b417-94b272761cc9",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                    "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "3621a2cf-1440-48e3-b361-dbb5e50e4355",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "special_features",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "3af66982-8f02-473b-9069-83a5d64b5aae",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "char",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "fulltext",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "338c122f-db29-4c60-8f05-c15e1b3308a0",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "char"
                                                            },
                                                            "newField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "tsvector"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "8752ad30-3b5f-47e8-b367-f031700d14de",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film",
                                                        "old": "film"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                                "constraintName": "film_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "449cde3f-3926-4ffb-9fca-39c19aaacc70",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "gist",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                "indxName": "film_fulltext_idx",
                                                                "columns": [
                                                                    {
                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                "indxName": "film_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                "indxName": "idx_fk_language_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                "indxName": "idx_title",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                "name": "film_fulltext_trigger",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                        "triggerEvent": "INSERT"
                                                                    },
                                                                    {
                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                            },
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
                                                        "449cde3f-3926-4ffb-9fca-39c19aaacc70": "film_id",
                                                        "0b17e67e-3482-4a5d-9521-9215075263d1": "title",
                                                        "ee61a01b-9321-4b76-995d-b9e9f634a36e": "description",
                                                        "1094fdec-ea91-4d59-bc81-09463872bdfc": "release_year",
                                                        "c5d8574a-9f86-4e14-8f67-f685642cf38a": "language_id",
                                                        "2e274b9b-78fd-48c2-935d-1a54fbfdbcc2": "rental_duration",
                                                        "3372c01a-876c-4d56-aff1-eb8d9400b420": "rental_rate",
                                                        "303e46e7-e768-4020-b429-78852d64dd9a": "length",
                                                        "ee1cda20-eed0-4fa5-935f-d685c243cb2b": "replacement_cost",
                                                        "fdec2644-4662-454c-b417-94b272761cc9": "rating",
                                                        "3621a2cf-1440-48e3-b361-dbb5e50e4355": "last_update",
                                                        "3af66982-8f02-473b-9069-83a5d64b5aae": "special_features",
                                                        "338c122f-db29-4c60-8f05-c15e1b3308a0": "fulltext"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e": "film",
                                                        "e8558028-9ff9-43f1-a0c8-85834dea226b": "film_id",
                                                        "8d19215f-7456-4011-85a7-b9a339bfa605": "title",
                                                        "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8": "description",
                                                        "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8": "release_year",
                                                        "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a": "language_id",
                                                        "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7": "rental_duration",
                                                        "26e12c13-c927-4222-bfed-6d9ba681c933": "rental_rate",
                                                        "d9283c54-8983-4854-b094-595892e0f33a": "length",
                                                        "e83dd456-acba-45d7-89cf-a933e1e40259": "replacement_cost",
                                                        "0698f1f2-07ae-447a-8523-2b4f5b0d87a2": "rating",
                                                        "934506ce-7e98-4f52-999b-eac0bae0b7e5": "last_update",
                                                        "84fb29c7-fef9-43d2-9415-d62d071aa1b9": "special_features",
                                                        "5e48e646-931d-47e0-bcbc-3170a6704be2": "fulltext"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('film_film_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "film_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                }
                                                            ],
                                                            "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                                "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                                "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "title",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 255,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "description",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "text",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8",
                                                            "type": "reference",
                                                            "name": "release_year",
                                                            "$ref": "#model/definitions/year",
                                                            "refType": "model",
                                                            "ref": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                            "refIdPath": [
                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "language_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                            "foreignField": [
                                                                "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                            ],
                                                            "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_duration",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "3",
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_rate",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "4.99",
                                                            "precision": 4,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "length",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "replacement_cost",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "19.99",
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e83dd456-acba-45d7-89cf-a933e1e40259",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                            "type": "reference",
                                                            "name": "rating",
                                                            "$ref": "#model/definitions/mpaa_rating",
                                                            "refType": "model",
                                                            "ref": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                            "refIdPath": [
                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                "495351c7-ac25-42ad-956f-c5020d01b673"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "special_features",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "_text",
                                                            "numberOfArrayDimensions": 1,
                                                            "timePrecision": "",
                                                            "array_type": [
                                                                {
                                                                    "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                                }
                                                            ],
                                                            "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "fulltext",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "tsvector",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "tsvector",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "char"
                                                                },
                                                                "newField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "tsvector"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1640fe7d-8572-4dea-a285-afa70c831551",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "971ef80c-f6cc-46e4-87f6-4f678d69a401",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                    "foreignField": [
                                                        "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                        "6098bf79-7a4b-4d3b-819f-56e61a302310"
                                                    ],
                                                    "parentRelationship": "75caa456-b94e-4846-9f64-d56d861b7e37",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                    "foreignField": [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                    ],
                                                    "parentRelationship": "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "88c204a5-5c1d-438f-ab88-60fee77538fd",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "28c5e920-c033-4341-87f1-7e909a8bf581",
                                            "role": {
                                                "collectionName": "film_actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                        "constraintName": "film_actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "0d557db5-d041-434f-a315-af1422e5211f",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "a675527b-9cc9-4d76-885b-43ce5143cc82",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                        "foreignField": [
                                                            "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                            "6d5e8b7d-d55b-4612-9768-4a4c74a6a5c3"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "0d557db5-d041-434f-a315-af1422e5211f",
                                                        "error": {},
                                                        "parentRelationship": "3b8f74ab-376d-49fe-8808-6241fa630e32",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "449cde3f-3926-4ffb-9fca-39c19aaacc70"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "a675527b-9cc9-4d76-885b-43ce5143cc82",
                                                        "error": {},
                                                        "parentRelationship": "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "cc72b35b-151b-474c-82d8-5cb5898bf224",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "0d178f82-7551-4b76-bc1b-7ca12ae04331",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "778aab3c-fb93-4786-90ff-7cbc4b08b4e0",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_actor",
                                                        "old": "film_actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "abb6ddf8-a735-40b8-9ef5-b23207e9294f",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "971ef80c-f6cc-46e4-87f6-4f678d69a401",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "0d557db5-d041-434f-a315-af1422e5211f",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "a675527b-9cc9-4d76-885b-43ce5143cc82",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "aed44407-9858-49dd-be20-9a2e5665d21f",
                                                                "indxName": "film_actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "971ef80c-f6cc-46e4-87f6-4f678d69a401",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "67d40321-9860-4711-973b-baaeda7424ba",
                                                                "indxName": "idx_fk_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "52955f7d-ff2d-4aca-9319-c7f612022692",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "830828ea-8f6c-4d9c-9840-fcf3f36a368f",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
                                                        "0d557db5-d041-434f-a315-af1422e5211f": "actor_id",
                                                        "a675527b-9cc9-4d76-885b-43ce5143cc82": "film_id",
                                                        "cc72b35b-151b-474c-82d8-5cb5898bf224": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "c756f3bc-2217-46a3-8712-408b21b761d1": "film_actor",
                                                        "971ef80c-f6cc-46e4-87f6-4f678d69a401": "actor_id",
                                                        "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d": "film_id",
                                                        "88c204a5-5c1d-438f-ab88-60fee77538fd": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "971ef80c-f6cc-46e4-87f6-4f678d69a401",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "foreignField": [
                                                                "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                                "6098bf79-7a4b-4d3b-819f-56e61a302310"
                                                            ],
                                                            "parentRelationship": "75caa456-b94e-4846-9f64-d56d861b7e37",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "foreignField": [
                                                                "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                            ],
                                                            "parentRelationship": "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "88c204a5-5c1d-438f-ab88-60fee77538fd",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "d9ab74d1-eb94-4cf9-a3f5-9af6e6be760e",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "990fa572-c9bc-4b33-8553-f9e99effc1e8",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                    "foreignField": [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                    ],
                                                    "parentRelationship": "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "e09611ed-58dc-4e93-9ed9-3236bcb82a80",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                    "foreignField": [
                                                        "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                        "0b360270-910a-4558-b007-3d702c4ccaa6"
                                                    ],
                                                    "parentRelationship": "438a4308-dac4-497a-aafb-98c24fc40b9d",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "49405d1c-a4ab-48bd-bd9f-1469a0cff4b4",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "8f02564d-3dae-4afd-af0a-05492b2d6ccc",
                                            "role": {
                                                "collectionName": "film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                        "constraintName": "film_category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "58366e1d-cca3-49db-9025-465514cc3c26",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "8559ddce-c6cf-4bd2-b0e6-77c092b11481",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "449cde3f-3926-4ffb-9fca-39c19aaacc70"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "58366e1d-cca3-49db-9025-465514cc3c26",
                                                        "error": {},
                                                        "parentRelationship": "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                        "foreignField": [
                                                            "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                            "30d79b4a-70f0-4b1c-b7e5-c20ac8c3e047"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "8559ddce-c6cf-4bd2-b0e6-77c092b11481",
                                                        "error": {},
                                                        "parentRelationship": "d03dd0f4-e0ba-481d-830d-6a3d8a197237",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "28a89b9b-fb38-48bf-b27f-aad7ad06cd4b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "9dd6a169-3ae3-4d94-9d20-9d1e2b3f359a",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe5a1aab-f5e2-4eec-8d67-edf3f2243110",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_category",
                                                        "old": "film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "6af013ed-4b08-4238-8355-b32c6f6794d8",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "990fa572-c9bc-4b33-8553-f9e99effc1e8",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "e09611ed-58dc-4e93-9ed9-3236bcb82a80",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "58366e1d-cca3-49db-9025-465514cc3c26",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "8559ddce-c6cf-4bd2-b0e6-77c092b11481",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "315c47c4-f9bc-4e39-a7e8-e1a4dd762681",
                                                                "indxName": "film_category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "990fa572-c9bc-4b33-8553-f9e99effc1e8",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "e09611ed-58dc-4e93-9ed9-3236bcb82a80",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "7704fdd8-4fef-4f48-a079-95c915c7a193",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "5e33ae94-f63f-4ce0-84d2-719ac18cc081",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
                                                        "58366e1d-cca3-49db-9025-465514cc3c26": "film_id",
                                                        "8559ddce-c6cf-4bd2-b0e6-77c092b11481": "category_id",
                                                        "28a89b9b-fb38-48bf-b27f-aad7ad06cd4b": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "0ae060fb-f1db-4c29-8e4e-9ab1e324d80e": "film_category",
                                                        "990fa572-c9bc-4b33-8553-f9e99effc1e8": "film_id",
                                                        "e09611ed-58dc-4e93-9ed9-3236bcb82a80": "category_id",
                                                        "49405d1c-a4ab-48bd-bd9f-1469a0cff4b4": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "990fa572-c9bc-4b33-8553-f9e99effc1e8",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "foreignField": [
                                                                "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                            ],
                                                            "parentRelationship": "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e09611ed-58dc-4e93-9ed9-3236bcb82a80",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                            "foreignField": [
                                                                "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                                "0b360270-910a-4558-b007-3d702c4ccaa6"
                                                            ],
                                                            "parentRelationship": "438a4308-dac4-497a-aafb-98c24fc40b9d",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "49405d1c-a4ab-48bd-bd9f-1469a0cff4b4",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "9d84add2-5f2b-4248-8233-8392ec5fb565",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "inventory",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "inventory_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "15051dba-98db-4881-baf5-f8cbde86ae28"
                                                        }
                                                    ],
                                                    "GUID": "01099b97-5a4a-4659-90c3-2b682912f7cb",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "afdc3db5-09df-4617-9328-0c960a02eb60"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "f0a5020e-3611-4b85-93d3-31a13b44dabe",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                    "foreignField": [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                    ],
                                                    "parentRelationship": "ae61a4c9-cceb-4018-99c6-332b75a8542c",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "9304a3d5-48c1-4e39-b88d-acd579ae78a8",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "a1e85bc6-a5fb-4c87-aced-688a8c9f428d",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "1331fcd8-12d4-4165-915f-5e3afc7ccd17",
                                            "role": {
                                                "collectionName": "inventory",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                        "constraintName": "inventory_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "83419dbf-af7c-4dd9-a008-99de4eb1009b",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                        "GUID": "83419dbf-af7c-4dd9-a008-99de4eb1009b",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "7e0103a3-1f38-493a-aa5a-86fa4266ffc4"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "449cde3f-3926-4ffb-9fca-39c19aaacc70"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "7729213e-852a-4b8e-9bd3-f3677f911ed3",
                                                        "error": {},
                                                        "parentRelationship": "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "6ecf737e-3eae-4c1f-9f9f-71cb3202b1a5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "3bdacab3-254e-4a45-b197-02b6e5e07b65",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "83cc7a3a-2fe7-40ee-9de5-bd06cb04f0d7",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "inventory",
                                                        "old": "inventory"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                                "constraintName": "inventory_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "83419dbf-af7c-4dd9-a008-99de4eb1009b",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "7d305a59-59fb-4d9f-8600-b209cbedceb7",
                                                                "indxName": "idx_store_id_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "9304a3d5-48c1-4e39-b88d-acd579ae78a8",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "f0a5020e-3611-4b85-93d3-31a13b44dabe",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "231aca80-68eb-4993-8088-8939654fc99b",
                                                                "indxName": "inventory_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "01099b97-5a4a-4659-90c3-2b682912f7cb",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "df884321-ef08-41af-8b52-65f498c3aefe",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "f305e1d6-f712-4bbd-8b02-252e73cfe69e",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
                                                        "83419dbf-af7c-4dd9-a008-99de4eb1009b": "inventory_id",
                                                        "7729213e-852a-4b8e-9bd3-f3677f911ed3": "film_id",
                                                        "6ecf737e-3eae-4c1f-9f9f-71cb3202b1a5": "store_id",
                                                        "3bdacab3-254e-4a45-b197-02b6e5e07b65": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "96d550bd-3c38-4d96-b7ec-c8ed09db9661": "inventory",
                                                        "01099b97-5a4a-4659-90c3-2b682912f7cb": "inventory_id",
                                                        "f0a5020e-3611-4b85-93d3-31a13b44dabe": "film_id",
                                                        "9304a3d5-48c1-4e39-b88d-acd579ae78a8": "store_id",
                                                        "a1e85bc6-a5fb-4c87-aced-688a8c9f428d": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "inventory_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "15051dba-98db-4881-baf5-f8cbde86ae28"
                                                                }
                                                            ],
                                                            "GUID": "01099b97-5a4a-4659-90c3-2b682912f7cb",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "afdc3db5-09df-4617-9328-0c960a02eb60"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f0a5020e-3611-4b85-93d3-31a13b44dabe",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "foreignField": [
                                                                "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                            ],
                                                            "parentRelationship": "ae61a4c9-cceb-4018-99c6-332b75a8542c",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "9304a3d5-48c1-4e39-b88d-acd579ae78a8",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "a1e85bc6-a5fb-4c87-aced-688a8c9f428d",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "inventory",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "269374f3-c069-41f2-acf1-134e3192d8cd",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "payment_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('payment_payment_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "payment_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "953f1df2-539c-4295-861f-70ad45801c58"
                                                        }
                                                    ],
                                                    "GUID": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                    "foreignField": [
                                                        "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                        "a6bda98c-7574-4777-b6e8-92f44d30b887"
                                                    ],
                                                    "parentRelationship": "c2dc6691-2618-4bb3-b998-39244039df49",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                    "foreignField": [
                                                        "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                        "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                    ],
                                                    "parentRelationship": "0da4ef06-0464-496f-9a67-f3125d14e201",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "6525d75b-5a4a-4466-984b-123ea7918dfe",
                                                    "foreignField": [
                                                        "6525d75b-5a4a-4466-984b-123ea7918dfe",
                                                        "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3"
                                                    ],
                                                    "parentRelationship": "0f276edb-0ac5-401d-9cc4-2895f059cfe2",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "payment_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "0fd29ba5-722b-4678-8498-00fd79b749de",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "41a172d6-5db3-488b-b1e7-c102576d6e0c",
                                            "role": {
                                                "collectionName": "payment",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                        "constraintName": "payment_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "9f4b6f03-3aea-4302-95ea-d4492b4a49cd",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('payment_payment_id_seq'::regclass)",
                                                        "GUID": "9f4b6f03-3aea-4302-95ea-d4492b4a49cd",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "7c3537c7-3ce4-454a-9d51-c36d1bf14eb4",
                                                        "error": {},
                                                        "parentRelationship": "bb069ade-4229-4938-a44d-e3a732655054",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "e4d23cc2-b479-42b9-b31d-92a097d21190"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "88dea90d-55ba-4ceb-9e48-d34945ea22f9",
                                                        "error": {},
                                                        "parentRelationship": "0efc6208-cac1-4e6c-8ec7-f48a71ad5742",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                        "foreignField": [
                                                            "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                            "730a6cb4-afd7-40ef-bb2e-fc932560fa44"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "cddb5ab1-11eb-4cb1-a631-3a96099c2c5e",
                                                        "error": {},
                                                        "parentRelationship": "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "amount",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "3d7661a5-f269-4f8c-ab19-264603a7f12c",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "6fd2795d-2296-41f8-aba8-492315118ece",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "b3ac0fd1-7f82-4cce-8b04-2f419b9176bf",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9fe85521-30b3-4ab0-af6d-72071b837174",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "payment",
                                                        "old": "payment"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                                "constraintName": "payment_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "9f4b6f03-3aea-4302-95ea-d4492b4a49cd",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "c340a6c9-e631-410d-92c6-c2a3485b69eb",
                                                                "indxName": "idx_fk_customer_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "7450d76b-4873-4a6c-bfa8-904a56a682ce",
                                                                "indxName": "idx_fk_rental_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "9975c044-9a9f-4b9f-95c2-d8d58cbcaaa9",
                                                                "indxName": "idx_fk_staff_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "78b3608a-e60d-4387-b05a-a42d81073f56",
                                                                "indxName": "payment_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
                                                        "9f4b6f03-3aea-4302-95ea-d4492b4a49cd": "payment_id",
                                                        "7c3537c7-3ce4-454a-9d51-c36d1bf14eb4": "customer_id",
                                                        "88dea90d-55ba-4ceb-9e48-d34945ea22f9": "staff_id",
                                                        "cddb5ab1-11eb-4cb1-a631-3a96099c2c5e": "rental_id",
                                                        "3d7661a5-f269-4f8c-ab19-264603a7f12c": "amount",
                                                        "6fd2795d-2296-41f8-aba8-492315118ece": "payment_date"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd": "payment",
                                                        "ffffff2b-e95d-4e09-b17c-34c6089a25bf": "payment_id",
                                                        "f3e8b30b-4324-48ab-80c9-957acea8949f": "customer_id",
                                                        "261a290c-5db2-4c86-a3c4-efea2cd593fc": "staff_id",
                                                        "948d4242-d37b-4a90-896a-a808d8ea8af8": "rental_id",
                                                        "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea": "amount",
                                                        "0fd29ba5-722b-4678-8498-00fd79b749de": "payment_date"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "payment_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('payment_payment_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "payment_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "953f1df2-539c-4295-861f-70ad45801c58"
                                                                }
                                                            ],
                                                            "GUID": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "foreignField": [
                                                                "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                                "a6bda98c-7574-4777-b6e8-92f44d30b887"
                                                            ],
                                                            "parentRelationship": "c2dc6691-2618-4bb3-b998-39244039df49",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "foreignField": [
                                                                "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                                "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                            ],
                                                            "parentRelationship": "0da4ef06-0464-496f-9a67-f3125d14e201",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "6525d75b-5a4a-4466-984b-123ea7918dfe",
                                                            "foreignField": [
                                                                "6525d75b-5a4a-4466-984b-123ea7918dfe",
                                                                "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3"
                                                            ],
                                                            "parentRelationship": "0f276edb-0ac5-401d-9cc4-2895f059cfe2",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "amount",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "payment_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "0fd29ba5-722b-4678-8498-00fd79b749de",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "payment",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1705135c-a095-4f23-ad84-41c617623f17",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('rental_rental_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "rental_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "abbe0821-f9ba-4853-b0ad-6b24bfc76d30"
                                                        }
                                                    ],
                                                    "GUID": "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "0f276edb-0ac5-401d-9cc4-2895f059cfe2"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "defdf688-4fee-4650-93d6-15c29ef9ddba",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "9764196d-7dfc-4236-ba2e-4d8222412b7e",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "96d550bd-3c38-4d96-b7ec-c8ed09db9661",
                                                    "foreignField": [
                                                        "96d550bd-3c38-4d96-b7ec-c8ed09db9661",
                                                        "01099b97-5a4a-4659-90c3-2b682912f7cb"
                                                    ],
                                                    "parentRelationship": "afdc3db5-09df-4617-9328-0c960a02eb60",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "20eec962-ad69-4fa0-bc84-029b920680ee",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                    "foreignField": [
                                                        "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                        "a6bda98c-7574-4777-b6e8-92f44d30b887"
                                                    ],
                                                    "parentRelationship": "6e0907dc-53dc-40ef-bc05-48077a6a9917",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "return_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "f943439d-9866-4684-864d-798b2bec242d",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "f06da88a-a8ab-4608-b949-1f8063f1a1dc",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                    "foreignField": [
                                                        "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                        "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                    ],
                                                    "parentRelationship": "1365e1b9-8d2d-4b7a-92be-4b856a1965ba",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "a0986098-c480-4768-bedc-de08437d7f7f",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "4d85cd17-264f-4257-bae4-1f96ef86ca31",
                                            "role": {
                                                "collectionName": "rental",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                        "constraintName": "rental_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "730a6cb4-afd7-40ef-bb2e-fc932560fa44",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('rental_rental_id_seq'::regclass)",
                                                        "GUID": "730a6cb4-afd7-40ef-bb2e-fc932560fa44",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "04b09bb4-640a-494a-a2b0-b49e6e6eab8f",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                        "foreignField": [
                                                            "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                            "83419dbf-af7c-4dd9-a008-99de4eb1009b"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "04f9d0ec-dff4-422d-8791-00499dbc8aaf",
                                                        "error": {},
                                                        "parentRelationship": "7e0103a3-1f38-493a-aa5a-86fa4266ffc4",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "8b9c3c17-92b6-4ce2-a01f-913e5d9cfa47"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "f8c2d44e-c4d0-46b7-9fa3-4068dcb5098d",
                                                        "error": {},
                                                        "parentRelationship": "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "return_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "8de9f0b1-a282-465e-bee7-a34aa0cb21c7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "e4d23cc2-b479-42b9-b31d-92a097d21190"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "88b77254-8872-4837-a3c8-3f1b04582bb5",
                                                        "error": {},
                                                        "parentRelationship": "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "907beca6-658c-44ff-bae5-3e8a1bd79f0b",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "29b3c766-80bb-4244-a169-14d543c833d5",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "rental",
                                                        "old": "rental"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                                "constraintName": "rental_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "730a6cb4-afd7-40ef-bb2e-fc932560fa44",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "1e2ed84c-2b9f-4a91-87d6-57e92e5197ed",
                                                                "indxName": "idx_fk_inventory_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "9764196d-7dfc-4236-ba2e-4d8222412b7e",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "19463992-5c7b-4a31-88ce-1e1eceae09d6",
                                                                "indxName": "idx_unq_rental_rental_date_inventory_id_customer_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "defdf688-4fee-4650-93d6-15c29ef9ddba",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.timestamp_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "9764196d-7dfc-4236-ba2e-4d8222412b7e",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "20eec962-ad69-4fa0-bc84-029b920680ee",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "da0e0e20-9aca-4add-9845-ce89e7130c01",
                                                                "indxName": "rental_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "ca5ad710-558c-4c4c-9e18-8ec29a9f8a85",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "063ae44d-82d2-40ec-9a41-b35757a3360d",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
                                                        "730a6cb4-afd7-40ef-bb2e-fc932560fa44": "rental_id",
                                                        "04b09bb4-640a-494a-a2b0-b49e6e6eab8f": "rental_date",
                                                        "04f9d0ec-dff4-422d-8791-00499dbc8aaf": "inventory_id",
                                                        "f8c2d44e-c4d0-46b7-9fa3-4068dcb5098d": "customer_id",
                                                        "8de9f0b1-a282-465e-bee7-a34aa0cb21c7": "return_date",
                                                        "88b77254-8872-4837-a3c8-3f1b04582bb5": "staff_id",
                                                        "907beca6-658c-44ff-bae5-3e8a1bd79f0b": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "6525d75b-5a4a-4466-984b-123ea7918dfe": "rental",
                                                        "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3": "rental_id",
                                                        "defdf688-4fee-4650-93d6-15c29ef9ddba": "rental_date",
                                                        "9764196d-7dfc-4236-ba2e-4d8222412b7e": "inventory_id",
                                                        "20eec962-ad69-4fa0-bc84-029b920680ee": "customer_id",
                                                        "f943439d-9866-4684-864d-798b2bec242d": "return_date",
                                                        "f06da88a-a8ab-4608-b949-1f8063f1a1dc": "staff_id",
                                                        "a0986098-c480-4768-bedc-de08437d7f7f": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('rental_rental_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "rental_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "abbe0821-f9ba-4853-b0ad-6b24bfc76d30"
                                                                }
                                                            ],
                                                            "GUID": "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "0f276edb-0ac5-401d-9cc4-2895f059cfe2"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "defdf688-4fee-4650-93d6-15c29ef9ddba",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "9764196d-7dfc-4236-ba2e-4d8222412b7e",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "96d550bd-3c38-4d96-b7ec-c8ed09db9661",
                                                            "foreignField": [
                                                                "96d550bd-3c38-4d96-b7ec-c8ed09db9661",
                                                                "01099b97-5a4a-4659-90c3-2b682912f7cb"
                                                            ],
                                                            "parentRelationship": "afdc3db5-09df-4617-9328-0c960a02eb60",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "20eec962-ad69-4fa0-bc84-029b920680ee",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "foreignField": [
                                                                "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                                "a6bda98c-7574-4777-b6e8-92f44d30b887"
                                                            ],
                                                            "parentRelationship": "6e0907dc-53dc-40ef-bc05-48077a6a9917",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "return_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "f943439d-9866-4684-864d-798b2bec242d",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f06da88a-a8ab-4608-b949-1f8063f1a1dc",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "foreignField": [
                                                                "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                                "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                            ],
                                                            "parentRelationship": "1365e1b9-8d2d-4b7a-92be-4b856a1965ba",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "a0986098-c480-4768-bedc-de08437d7f7f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "rental",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "993cef7a-1133-44dd-8988-9bde0d62e4a0",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "staff_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "e34ed694-124d-429e-83ed-00fe5645be5a"
                                                        }
                                                    ],
                                                    "GUID": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "cb13b1c7-5a10-4699-9ea2-098b511bedb0",
                                                        "1365e1b9-8d2d-4b7a-92be-4b856a1965ba",
                                                        "0da4ef06-0464-496f-9a67-f3125d14e201"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "2095be38-a3d7-49d4-a5eb-fbc25ce34788",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                    "foreignField": [
                                                        "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                        "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                    ],
                                                    "parentRelationship": "fe1c7d15-205a-4698-b50b-3039a3ae9079",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "ce1ac017-82b6-446d-959c-acab7832f296",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "807fdbf3-3889-43e6-b74e-2593652ad9a7",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "picture",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "bytea",
                                                    "length": 10,
                                                    "childType": "binary",
                                                    "type": "binary",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bytea",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "fff2ba5e-bb1b-4849-86c6-e1fbd267e78a",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        },
                                                        "newField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "763c849d-7a08-4f62-ab81-655cc5f94be6",
                                            "role": {
                                                "collectionName": "staff",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                        "constraintName": "staff_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "e4d23cc2-b479-42b9-b31d-92a097d21190",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('staff_staff_id_seq'::regclass)",
                                                        "GUID": "e4d23cc2-b479-42b9-b31d-92a097d21190",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                            "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                            "0efc6208-cac1-4e6c-8ec7-f48a71ad5742"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "8eb683b0-06ff-4be9-9af7-09ae43e06216",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "caebcc37-2575-4f2a-90b8-06645808b0ee",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "a8d04aba-8b10-4dd1-be97-c82610ffd7b2"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "96bf2f83-1513-42ed-9ef0-d22597a8ef37",
                                                        "error": {},
                                                        "parentRelationship": "de5d6fab-0969-4e75-8d15-13e259c84972",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "0c8aa122-bc7e-426d-bf8d-9fe45120cb18",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "6bb4de56-9382-4bfc-adfd-1da8a114d7ce",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "b8507b89-d9d0-43cf-b96d-7cd301ffff45",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 16,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "username",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "7f8d08d9-e50a-4095-841b-cf36c2480bfb",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 40,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "password",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "1909e88a-6036-45ad-bae8-eb5047bf05ae",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "03a4e4fd-af60-4860-8ac1-9b11883d4aa8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "bytea",
                                                        "childType": "binary",
                                                        "type": "binary",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "picture",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "47fabbc8-cee2-4f41-b390-4ffb09dcc75f",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            },
                                                            "newField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "3f32ca73-bdc4-4143-8c4b-aeb709c9e3bf",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "606710fd-3963-4876-894f-4a67c06a802d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "staff",
                                                        "old": "staff"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "8d4e9835-2157-4922-a2fb-99d6c5215efd"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                                "constraintName": "staff_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "e4d23cc2-b479-42b9-b31d-92a097d21190",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "482544e8-2df2-4059-bf34-77864a4fbdc7",
                                                                "indxName": "staff_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "08441494-57e5-4648-b994-f561d15ccf60",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "4c2b6662-3eeb-4d78-8b0f-f280d544f645",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
                                                        "e4d23cc2-b479-42b9-b31d-92a097d21190": "staff_id",
                                                        "8eb683b0-06ff-4be9-9af7-09ae43e06216": "first_name",
                                                        "caebcc37-2575-4f2a-90b8-06645808b0ee": "last_name",
                                                        "96bf2f83-1513-42ed-9ef0-d22597a8ef37": "address_id",
                                                        "0c8aa122-bc7e-426d-bf8d-9fe45120cb18": "email",
                                                        "6bb4de56-9382-4bfc-adfd-1da8a114d7ce": "store_id",
                                                        "b8507b89-d9d0-43cf-b96d-7cd301ffff45": "active",
                                                        "7f8d08d9-e50a-4095-841b-cf36c2480bfb": "username",
                                                        "1909e88a-6036-45ad-bae8-eb5047bf05ae": "password",
                                                        "03a4e4fd-af60-4860-8ac1-9b11883d4aa8": "last_update",
                                                        "47fabbc8-cee2-4f41-b390-4ffb09dcc75f": "picture"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c": "staff",
                                                        "a64b8e1e-d783-4823-bfb6-50850d6a3ba4": "staff_id",
                                                        "70bf45db-c440-46f0-966e-7c38b5920e22": "first_name",
                                                        "28f062e7-41d7-4c06-a142-02847b1c6f67": "last_name",
                                                        "2095be38-a3d7-49d4-a5eb-fbc25ce34788": "address_id",
                                                        "5fda7a41-00be-40b5-a6ab-40738fe57b82": "email",
                                                        "ce1ac017-82b6-446d-959c-acab7832f296": "store_id",
                                                        "a75ca9e8-cbd3-4a63-960d-04fc800ba961": "active",
                                                        "ce026072-5213-4e61-92b5-a10e7b36cc78": "username",
                                                        "b40b286b-c901-4fb1-8bbf-edf280470004": "password",
                                                        "807fdbf3-3889-43e6-b74e-2593652ad9a7": "last_update",
                                                        "fff2ba5e-bb1b-4849-86c6-e1fbd267e78a": "picture"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('staff_staff_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "staff_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "e34ed694-124d-429e-83ed-00fe5645be5a"
                                                                }
                                                            ],
                                                            "GUID": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "cb13b1c7-5a10-4699-9ea2-098b511bedb0",
                                                                "1365e1b9-8d2d-4b7a-92be-4b856a1965ba",
                                                                "0da4ef06-0464-496f-9a67-f3125d14e201"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "70bf45db-c440-46f0-966e-7c38b5920e22",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "28f062e7-41d7-4c06-a142-02847b1c6f67",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2095be38-a3d7-49d4-a5eb-fbc25ce34788",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "foreignField": [
                                                                "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                                "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                            ],
                                                            "parentRelationship": "fe1c7d15-205a-4698-b50b-3039a3ae9079",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5fda7a41-00be-40b5-a6ab-40738fe57b82",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ce1ac017-82b6-446d-959c-acab7832f296",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a75ca9e8-cbd3-4a63-960d-04fc800ba961",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "username",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 16,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ce026072-5213-4e61-92b5-a10e7b36cc78",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "password",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 40,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "b40b286b-c901-4fb1-8bbf-edf280470004",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "807fdbf3-3889-43e6-b74e-2593652ad9a7",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "picture",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "bytea",
                                                            "length": 10,
                                                            "childType": "binary",
                                                            "type": "binary",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "bytea",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "fff2ba5e-bb1b-4849-86c6-e1fbd267e78a",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                },
                                                                "newField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "staff",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "516dcb45-244b-4d89-95f3-a05cbc721cda",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('store_store_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "store_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "c567dba3-89d9-41b6-b7e1-f0a9ea955db4"
                                                        }
                                                    ],
                                                    "GUID": "11608039-c6b2-4e0c-89a0-9c114c51ff1e",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "manager_staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "f1a8a1b7-4738-4b62-8b0a-4e2da7746b29",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                    "foreignField": [
                                                        "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                        "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                    ],
                                                    "parentRelationship": "cb13b1c7-5a10-4699-9ea2-098b511bedb0",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "c6271469-cd24-4910-8ea4-9e6564b6f430",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                    "foreignField": [
                                                        "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                        "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                    ],
                                                    "parentRelationship": "3aef1f36-2e07-4b98-a147-0b8faa48428e",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "6f22c5e0-855b-4af5-8e97-12553c009aff",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "41c73069-4d3b-4d32-a6de-d1accf159380",
                                            "role": {
                                                "collectionName": "store",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                        "constraintName": "store_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "3e8b6859-5510-4e80-9fc5-7af4d041adac",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('store_store_id_seq'::regclass)",
                                                        "GUID": "3e8b6859-5510-4e80-9fc5-7af4d041adac",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "manager_staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "e4d23cc2-b479-42b9-b31d-92a097d21190"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "7ebdc49c-74c5-4dc2-9b5b-4f847a566f09",
                                                        "error": {},
                                                        "parentRelationship": "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "a8d04aba-8b10-4dd1-be97-c82610ffd7b2"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "18a16d44-c2fe-49d0-b75c-87f249ec73a2",
                                                        "error": {},
                                                        "parentRelationship": "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "70d84359-5c94-41b7-98d1-d23405f8a326",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "b4034da2-1150-40fb-ad4c-73069116a79f",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "4fd7816d-5c9e-442a-912f-5724cc5c7d60",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "store",
                                                        "old": "store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                                "constraintName": "store_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "3e8b6859-5510-4e80-9fc5-7af4d041adac",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "87db6d90-1c90-499a-abbd-6e13d786bdd8",
                                                                "indxName": "idx_unq_manager_staff_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "f1a8a1b7-4738-4b62-8b0a-4e2da7746b29",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "c16b82a7-3234-4240-9052-bedb94cc1976",
                                                                "indxName": "store_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "11608039-c6b2-4e0c-89a0-9c114c51ff1e",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "1481c932-b8b1-4d49-a070-8604a36a5665",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "c06b2521-2f61-46c9-bd1e-6e11aff21465",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
                                                        "3e8b6859-5510-4e80-9fc5-7af4d041adac": "store_id",
                                                        "7ebdc49c-74c5-4dc2-9b5b-4f847a566f09": "manager_staff_id",
                                                        "18a16d44-c2fe-49d0-b75c-87f249ec73a2": "address_id",
                                                        "70d84359-5c94-41b7-98d1-d23405f8a326": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "3c0f31e5-aeb3-43d2-955f-e3125d7a6d5d": "store",
                                                        "11608039-c6b2-4e0c-89a0-9c114c51ff1e": "store_id",
                                                        "f1a8a1b7-4738-4b62-8b0a-4e2da7746b29": "manager_staff_id",
                                                        "c6271469-cd24-4910-8ea4-9e6564b6f430": "address_id",
                                                        "6f22c5e0-855b-4af5-8e97-12553c009aff": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('store_store_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "store_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "c567dba3-89d9-41b6-b7e1-f0a9ea955db4"
                                                                }
                                                            ],
                                                            "GUID": "11608039-c6b2-4e0c-89a0-9c114c51ff1e",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "manager_staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f1a8a1b7-4738-4b62-8b0a-4e2da7746b29",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "foreignField": [
                                                                "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                                "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                            ],
                                                            "parentRelationship": "cb13b1c7-5a10-4699-9ea2-098b511bedb0",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c6271469-cd24-4910-8ea4-9e6564b6f430",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "foreignField": [
                                                                "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                                "aee3dc96-7b62-483e-a40c-1afd2322c2cc"
                                                            ],
                                                            "parentRelationship": "3aef1f36-2e07-4b98-a147-0b8faa48428e",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "6f22c5e0-855b-4af5-8e97-12553c009aff",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "store",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "71ab86c2-07fb-4826-a291-e921a512bc0a",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "f4e8d503-ce46-4842-b3da-b4ff9d797b03"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "f61d5ffa-fcde-4e8a-8ddc-9f2109a283ef"
                },
                {
                    "name": "relationships",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_language_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3c48217e-12bb-44a0-b15c-951cfdbd4802",
                                            "role": {
                                                "name": "film_language_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                        "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                "parentCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                "childCollection": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "57453b9a-6616-4b35-bbc3-84ae46bda8f5",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1718,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1487.0000009536743
                                                        },
                                                        {
                                                            "x": 1671.5,
                                                            "y": 1487.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "right"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": true,
                                                    "deleted": false,
                                                    "parent": {
                                                        "bucket": {
                                                            "name": "public",
                                                            "isActivated": true
                                                        },
                                                        "collection": {
                                                            "name": "language",
                                                            "isActivated": true,
                                                            "fkFields": [
                                                                {
                                                                    "isActivated": true,
                                                                    "name": "language_id"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "child": {
                                                        "bucket": {
                                                            "name": "public",
                                                            "isActivated": true
                                                        },
                                                        "collection": {
                                                            "name": "film",
                                                            "isActivated": true,
                                                            "fkFields": [
                                                                {
                                                                    "isActivated": true,
                                                                    "name": "language_id"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "name": {
                                                        "new": "film_language_id_fkey",
                                                        "old": ""
                                                    },
                                                    "isActivated": {
                                                        "new": true
                                                    },
                                                    "customProperties": {
                                                        "new": {
                                                            "relationshipOnDelete": "RESTRICT",
                                                            "relationshipOnUpdate": "CASCADE",
                                                            "relationshipMatch": "SIMPLE"
                                                        }
                                                    }
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "25121e7c-53f5-4165-9ee1-44515380d4c1",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "208733fa-f7d5-4b61-91ec-95854c585742"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "a3f6e3b4-ef60-4895-b230-fd929f756eba"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "955d70e6-50a9-45ac-9d5e-e3b47752a288"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "495a5914-96fe-4820-a74b-bfb4553f2227"
                },
                {
                    "name": "views",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "3ce08baf-166b-4261-964e-0fee33694853"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "2e5e9bb1-1630-47ab-a4cd-183204cf298e"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor_info",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "0f68b670-1bc2-4e13-b573-a565396337f3",
                                            "role": {
                                                "name": "actor_info",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "6dd2855f-c147-42d2-9d7c-2a42b6f5d184"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "actor_id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/actor_id",
                                                        "GUID": "fb16a23d-645a-4803-8b18-ee3446f36a9b",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "6098bf79-7a4b-4d3b-819f-56e61a302310"
                                                        ],
                                                        "ref": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "first_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "4ce965d7-4570-4993-a9f3-ab945717fdb6",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52"
                                                        ],
                                                        "ref": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "last_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/last_name",
                                                        "GUID": "ea95c832-f5ac-46a8-90cf-ec493108cb8e",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "92e5ef5d-951e-447c-90fd-62fddb9b7196"
                                                        ],
                                                        "ref": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "film_info",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/film_info",
                                                        "GUID": "58fb10db-2599-40e6-be24-9eef56fcbbe9",
                                                        "refIdPath": [],
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "31f03d5c-0285-4914-90f4-2998410a6bb8",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "actor_info",
                                                        "old": "actor_info"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "6dd2855f-c147-42d2-9d7c-2a42b6f5d184"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                        "old": "598d6c54-2278-4e16-9776-ff10b7fc0049"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
                                                        "4e3b3410-3f4f-49b7-a850-bb902b476084": "actor_id",
                                                        "2dce4b11-e3c1-4048-962f-031445f77d90": "first_name",
                                                        "db3da6b4-59e7-4b73-844a-5af74beca197": "last_name",
                                                        "0d6f45d6-20ab-45ad-ab4c-3e20d6c89b9c": "film_info"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "31f03d5c-0285-4914-90f4-2998410a6bb8": "actor_info",
                                                        "fb16a23d-645a-4803-8b18-ee3446f36a9b": "actor_id",
                                                        "4ce965d7-4570-4993-a9f3-ab945717fdb6": "first_name",
                                                        "ea95c832-f5ac-46a8-90cf-ec493108cb8e": "last_name",
                                                        "58fb10db-2599-40e6-be24-9eef56fcbbe9": "film_info"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "fb16a23d-645a-4803-8b18-ee3446f36a9b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                "name": "actor_id",
                                                                "definition": {
                                                                    "name": "actor_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "actor_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "3b9578cc-8abb-4f40-8285-51ec593bfee1"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "4ce965d7-4570-4993-a9f3-ab945717fdb6": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "ea95c832-f5ac-46a8-90cf-ec493108cb8e": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                "name": "last_name",
                                                                "definition": {
                                                                    "name": "last_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "58fb10db-2599-40e6-be24-9eef56fcbbe9": {
                                                                "bucket": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "collection": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definition": {}
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "actor",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                        "indxName": "actor_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                        "indxName": "idx_actor_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "154a5322-e466-4a24-89cc-3f199bd05fe2",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f2fe17bf-6157-4370-93fc-b87e34e6c7e7",
                                            "role": {
                                                "name": "customer_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "6d890bf8-187a-4e28-a27e-0093966dba75"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/customer_id",
                                                        "GUID": "8cfcf46a-ed29-4365-8946-1775efbb9940",
                                                        "refIdPath": [
                                                            "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "a6bda98c-7574-4777-b6e8-92f44d30b887"
                                                        ],
                                                        "ref": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/first_name",
                                                        "GUID": "ad31efbe-c00f-4985-810a-1071f0839708",
                                                        "refIdPath": [
                                                            "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "d22db3a7-6647-429c-a96c-4fe32dbab596"
                                                        ],
                                                        "ref": "d22db3a7-6647-429c-a96c-4fe32dbab596",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "5700b136-4ef7-4d7a-8e84-d91d78f5f934",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "63ed2d12-b6b8-4f9f-8866-d5330629fb24"
                                                        ],
                                                        "ref": "63ed2d12-b6b8-4f9f-8866-d5330629fb24",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "5f0cc9ce-714a-41f4-b374-5e688aa7114f",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "c0298d5e-a70e-4ae3-80e9-a00a998bc82e"
                                                        ],
                                                        "ref": "c0298d5e-a70e-4ae3-80e9-a00a998bc82e",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "966c19f3-592f-47c6-a0cb-4748d5b2b91e",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa"
                                                        ],
                                                        "ref": "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "6bb4a982-e7d0-4641-895a-b47f58c68a73",
                                                        "refIdPath": [
                                                            "07f5c08f-ca86-400e-b213-0186982d89da",
                                                            "39af1240-bd63-4e61-881a-bbb1100d0f4f"
                                                        ],
                                                        "ref": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "26b8e193-c8dd-4f97-abde-7d0dc81e2c5e",
                                                        "refIdPath": [
                                                            "1934464b-2d0c-457e-a862-03abab3c889d",
                                                            "82131157-cdeb-4b38-8a30-9671aeec8cba"
                                                        ],
                                                        "ref": "82131157-cdeb-4b38-8a30-9671aeec8cba",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "notes",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/activebool",
                                                        "GUID": "052e0cfa-e001-4205-ad54-b3bf2a39a2f5",
                                                        "refIdPath": [
                                                            "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "a4b2df30-3723-492d-b79c-d9fe3999a8f2"
                                                        ],
                                                        "ref": "a4b2df30-3723-492d-b79c-d9fe3999a8f2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/store_id",
                                                        "GUID": "11c2caf2-e658-45e6-84d0-415555f8a015",
                                                        "refIdPath": [
                                                            "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                            "a993d776-3336-4c53-8087-ce30534020e4"
                                                        ],
                                                        "ref": "a993d776-3336-4c53-8087-ce30534020e4",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "6f83fef1-6eae-4db3-af5f-9cb59a80f52e",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "customer_list",
                                                        "old": "customer_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "6d890bf8-187a-4e28-a27e-0093966dba75"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "353e9ba8-f3ae-4fc0-b0fd-63156f796d35",
                                                        "old": "9ffbb409-fe3e-425b-91b7-c63908114dac"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
                                                        "c2fbd5b4-a402-490d-bd7c-bd54ba7dc0b2": "id",
                                                        "bc00d8d0-6be5-4081-a433-ef6a03b070ea": "name",
                                                        "097fd34e-33f7-457b-819f-c460c3c43495": "address",
                                                        "05cd36ab-a393-4247-ac49-509e89c3f929": "zip code",
                                                        "6bf90a9b-c9a1-4f14-a098-e440ca48c02f": "phone",
                                                        "e316680c-3c82-4ecb-9dc9-f84246789eca": "city",
                                                        "6c320329-394e-4308-8d38-ed65132a5482": "country",
                                                        "8e602fa0-dcaa-4f5a-9724-efad5b04490b": "notes",
                                                        "c68d058a-fb30-4afa-92db-1c8946a4869f": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "6f83fef1-6eae-4db3-af5f-9cb59a80f52e": "customer_list",
                                                        "8cfcf46a-ed29-4365-8946-1775efbb9940": "id",
                                                        "ad31efbe-c00f-4985-810a-1071f0839708": "name",
                                                        "5700b136-4ef7-4d7a-8e84-d91d78f5f934": "address",
                                                        "5f0cc9ce-714a-41f4-b374-5e688aa7114f": "zip code",
                                                        "966c19f3-592f-47c6-a0cb-4748d5b2b91e": "phone",
                                                        "6bb4a982-e7d0-4641-895a-b47f58c68a73": "city",
                                                        "26b8e193-c8dd-4f97-abde-7d0dc81e2c5e": "country",
                                                        "052e0cfa-e001-4205-ad54-b3bf2a39a2f5": "notes",
                                                        "11c2caf2-e658-45e6-84d0-415555f8a015": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "8cfcf46a-ed29-4365-8946-1775efbb9940": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                "name": "customer_id",
                                                                "definition": {
                                                                    "name": "customer_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "customer_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "bcfc18e2-03da-4cff-860c-4524e559ba17"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "ad31efbe-c00f-4985-810a-1071f0839708": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "d22db3a7-6647-429c-a96c-4fe32dbab596",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "5700b136-4ef7-4d7a-8e84-d91d78f5f934": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "63ed2d12-b6b8-4f9f-8866-d5330629fb24",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "5f0cc9ce-714a-41f4-b374-5e688aa7114f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "c0298d5e-a70e-4ae3-80e9-a00a998bc82e",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "966c19f3-592f-47c6-a0cb-4748d5b2b91e": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "6bb4a982-e7d0-4641-895a-b47f58c68a73": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7abb7ca6-69f7-4291-a80e-e3bd34cdc40e",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "95b4bd99-3c61-4fbb-8232-735d56bfb200",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "24dfbe27-d539-4000-b0d5-f6d07bdf96e4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4501edcd-7075-4cb1-a068-d2b793740494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "26b8e193-c8dd-4f97-abde-7d0dc81e2c5e": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ef8e45e-d1e6-4cfb-8f62-c8a988cdea63",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "39d8030e-56a1-4edd-9eea-ba0a54012a87",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "53dd9cb8-76a9-4291-b4f9-a9bc4ab6e795",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "0e193ee7-f23e-4d81-8e82-c5fc1c53aed0",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "82131157-cdeb-4b38-8a30-9671aeec8cba",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "052e0cfa-e001-4205-ad54-b3bf2a39a2f5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a4b2df30-3723-492d-b79c-d9fe3999a8f2",
                                                                "name": "activebool",
                                                                "definition": {
                                                                    "name": "activebool",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "boolean",
                                                                    "required": true,
                                                                    "default": "true"
                                                                }
                                                            },
                                                            "11c2caf2-e658-45e6-84d0-415555f8a015": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "customer",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "a6b05de6-91e4-4082-a6f0-43faf93afa8f",
                                                                        "indxName": "customer_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "a6bda98c-7574-4777-b6e8-92f44d30b887",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8311342f-c014-4ca6-8fc2-3374449c39ba",
                                                                        "indxName": "idx_fk_address_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "e4dada41-090d-407e-9c08-a70fa2dcad8a",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8d856e88-89f9-4fc5-b1e2-05952ac37121",
                                                                        "indxName": "idx_fk_store_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "a993d776-3336-4c53-8087-ce30534020e4",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "d5cf21ea-7aa9-4fe9-8fdb-cd9af9bea169",
                                                                        "indxName": "idx_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "7dec4c8a-8431-4569-9d68-de9ccfefbef3",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "9f90396a-923b-4aaf-8b30-9ddca66eac7d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "f4965e45-13e0-49de-a3b2-87b449b6fb13",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "0b97f9c4-6d33-4e26-b564-c6f482849cb7",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "343027d6-b969-4c0b-9995-0f174de4cda6",
                                            "role": {
                                                "name": "film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "e3ae6110-1598-48ff-8a7e-26372d70f224"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "e5b88a30-582e-4fcb-8472-473fc2312e61",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                        ],
                                                        "ref": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "38ef94d1-f857-450b-af1a-03dcdaadf363",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "8d19215f-7456-4011-85a7-b9a339bfa605"
                                                        ],
                                                        "ref": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "9cad9777-d64d-4c8b-a12a-505e07dac3c6",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8"
                                                        ],
                                                        "ref": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "d465d483-4f7f-486e-9a14-28f86ed60698",
                                                        "refIdPath": [
                                                            "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                            "6a1553f0-e655-4cfa-ae43-90b8929fa76f"
                                                        ],
                                                        "ref": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "4cd34c59-7684-4294-a46d-443b967265c5",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "26e12c13-c927-4222-bfed-6d9ba681c933"
                                                        ],
                                                        "ref": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "570cae7a-543b-41ab-bdf9-74b545d5dbb5",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "d9283c54-8983-4854-b094-595892e0f33a"
                                                        ],
                                                        "ref": "d9283c54-8983-4854-b094-595892e0f33a",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "be968c55-aa30-4817-984a-d4188585a569",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "0698f1f2-07ae-447a-8523-2b4f5b0d87a2"
                                                        ],
                                                        "ref": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "543f9a81-c78b-4bef-81e6-8430c0ce9f46",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52"
                                                        ],
                                                        "ref": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "268c5f21-c4c7-451f-be3c-638f547394ff",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "film_list",
                                                        "old": "film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "e3ae6110-1598-48ff-8a7e-26372d70f224"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
                                                        "d463a9d1-9a8a-4e29-92ad-98093ae2c476": "fid",
                                                        "419c9a43-20be-46fc-b7ac-12a812fa1e4b": "title",
                                                        "05e23e3b-4781-4201-9fc9-22c0d591f2da": "description",
                                                        "7a7d7145-d66b-45e3-b7d3-df3ce5825d31": "category",
                                                        "36f3ba72-1d26-4cb4-b057-78196457bac3": "price",
                                                        "adbf8118-967a-49eb-8347-fcbdaac1747f": "length",
                                                        "6f146bf5-3b69-46e1-9af2-0b8c1de22039": "rating",
                                                        "dde95ee4-2ad2-4ad2-851a-9a8057daa3b9": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "268c5f21-c4c7-451f-be3c-638f547394ff": "film_list",
                                                        "e5b88a30-582e-4fcb-8472-473fc2312e61": "fid",
                                                        "38ef94d1-f857-450b-af1a-03dcdaadf363": "title",
                                                        "9cad9777-d64d-4c8b-a12a-505e07dac3c6": "description",
                                                        "d465d483-4f7f-486e-9a14-28f86ed60698": "category",
                                                        "4cd34c59-7684-4294-a46d-443b967265c5": "price",
                                                        "570cae7a-543b-41ab-bdf9-74b545d5dbb5": "length",
                                                        "be968c55-aa30-4817-984a-d4188585a569": "rating",
                                                        "543f9a81-c78b-4bef-81e6-8430c0ce9f46": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "e5b88a30-582e-4fcb-8472-473fc2312e61": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "38ef94d1-f857-450b-af1a-03dcdaadf363": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "9cad9777-d64d-4c8b-a12a-505e07dac3c6": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "d465d483-4f7f-486e-9a14-28f86ed60698": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "4cd34c59-7684-4294-a46d-443b967265c5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "570cae7a-543b-41ab-bdf9-74b545d5dbb5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "be968c55-aa30-4817-984a-d4188585a569": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "543f9a81-c78b-4bef-81e6-8430c0ce9f46": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "55d59059-b3b6-45d6-a489-b03504f09035",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "nicer_but_slower_film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "b8e829b8-39c2-4879-8d34-bdbf635dd2cf",
                                            "role": {
                                                "name": "nicer_but_slower_film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "5006f2ce-6526-40a2-84c0-b97bb30fb8b4"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "de735382-dd28-4380-96c7-4ede0e7923a5",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "e8558028-9ff9-43f1-a0c8-85834dea226b"
                                                        ],
                                                        "ref": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "59047fc1-c160-41c8-9f73-8cf24c3b149b",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "8d19215f-7456-4011-85a7-b9a339bfa605"
                                                        ],
                                                        "ref": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "6feabe4e-ad39-4910-a646-085b4cd7be2c",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8"
                                                        ],
                                                        "ref": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "d13244d8-24cf-4542-bbed-4e0415ce23f3",
                                                        "refIdPath": [
                                                            "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                            "6a1553f0-e655-4cfa-ae43-90b8929fa76f"
                                                        ],
                                                        "ref": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "3f6baab6-911b-4d29-977b-a5b918e9b41f",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "26e12c13-c927-4222-bfed-6d9ba681c933"
                                                        ],
                                                        "ref": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "e4a0c044-8fe2-4777-9d1a-773388e49b44",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "d9283c54-8983-4854-b094-595892e0f33a"
                                                        ],
                                                        "ref": "d9283c54-8983-4854-b094-595892e0f33a",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "2d0a460b-25f0-4ea6-9102-ddf9a10faa04",
                                                        "refIdPath": [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "0698f1f2-07ae-447a-8523-2b4f5b0d87a2"
                                                        ],
                                                        "ref": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "f5ce53de-0597-4314-a248-61468890036b",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52"
                                                        ],
                                                        "ref": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "d85f6fc4-6db6-400d-b3a1-e3178894094d",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "nicer_but_slower_film_list",
                                                        "old": "nicer_but_slower_film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "5006f2ce-6526-40a2-84c0-b97bb30fb8b4"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
                                                        "8c347b6b-0c32-46d9-93d7-b9b123110644": "fid",
                                                        "858b7fce-7893-4262-bf2e-bf356c934839": "title",
                                                        "1fac9e7e-14e4-4d50-9dfb-5775c7290396": "description",
                                                        "bbf9263a-e327-4dd4-8549-376e542cd9e4": "category",
                                                        "d55c6de8-6be3-4e05-bcdc-2fc057290ec7": "price",
                                                        "f40609aa-bf6b-4fda-98fa-b256e6c41564": "length",
                                                        "589a5366-b598-49be-8c0e-d32f80373c31": "rating",
                                                        "21ae6dbe-ea46-456c-8620-b5445874d8fb": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "d85f6fc4-6db6-400d-b3a1-e3178894094d": "nicer_but_slower_film_list",
                                                        "de735382-dd28-4380-96c7-4ede0e7923a5": "fid",
                                                        "59047fc1-c160-41c8-9f73-8cf24c3b149b": "title",
                                                        "6feabe4e-ad39-4910-a646-085b4cd7be2c": "description",
                                                        "d13244d8-24cf-4542-bbed-4e0415ce23f3": "category",
                                                        "3f6baab6-911b-4d29-977b-a5b918e9b41f": "price",
                                                        "e4a0c044-8fe2-4777-9d1a-773388e49b44": "length",
                                                        "2d0a460b-25f0-4ea6-9102-ddf9a10faa04": "rating",
                                                        "f5ce53de-0597-4314-a248-61468890036b": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "de735382-dd28-4380-96c7-4ede0e7923a5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "59047fc1-c160-41c8-9f73-8cf24c3b149b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "6feabe4e-ad39-4910-a646-085b4cd7be2c": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "d13244d8-24cf-4542-bbed-4e0415ce23f3": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "3f6baab6-911b-4d29-977b-a5b918e9b41f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "e4a0c044-8fe2-4777-9d1a-773388e49b44": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "2d0a460b-25f0-4ea6-9102-ddf9a10faa04": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "f5ce53de-0597-4314-a248-61468890036b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "975aaa0e-72bb-4e74-a728-291195cd1e45",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "c778295b-2d01-432b-a08d-7b0465ab1c01",
                                            "role": {
                                                "name": "sales_by_film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "f65f0353-d357-47d1-b361-d8b2ec8ae75d"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "6f53bdc8-840f-4274-bd37-a6557a4d9c0a",
                                                        "refIdPath": [
                                                            "e52ee789-379c-4a0e-8ddc-cdc20e093c6b",
                                                            "6a1553f0-e655-4cfa-ae43-90b8929fa76f"
                                                        ],
                                                        "ref": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "c6a199b8-743a-4fdf-b3de-e27048b8fc9f",
                                                        "refIdPath": [
                                                            "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                            "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea"
                                                        ],
                                                        "ref": "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "a936b3f2-e525-4e68-8ef5-7dbefd23d95d",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_film_category",
                                                        "old": "sales_by_film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "f65f0353-d357-47d1-b361-d8b2ec8ae75d"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
                                                        "24964fcd-1f5f-4f57-9cfb-f70406f35b6e": "category",
                                                        "9f23ec80-9967-4e3b-a666-5f529563fe1d": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "a936b3f2-e525-4e68-8ef5-7dbefd23d95d": "sales_by_film_category",
                                                        "6f53bdc8-840f-4274-bd37-a6557a4d9c0a": "category",
                                                        "c6a199b8-743a-4fdf-b3de-e27048b8fc9f": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "6f53bdc8-840f-4274-bd37-a6557a4d9c0a": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "4bdb5c62-0538-4f94-be9b-3019b5026f7b",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0b360270-910a-4558-b007-3d702c4ccaa6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cbdb45e-903d-46ff-b070-9150b93fbbca",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "1bdb8277-ef6d-4889-a9b2-6cdd52935027",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6a1553f0-e655-4cfa-ae43-90b8929fa76f",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "c6a199b8-743a-4fdf-b3de-e27048b8fc9f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c340a6c9-e631-410d-92c6-c2a3485b69eb",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7450d76b-4873-4a6c-bfa8-904a56a682ce",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9975c044-9a9f-4b9f-95c2-d8d58cbcaaa9",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "78b3608a-e60d-4387-b05a-a42d81073f56",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "c340a6c9-e631-410d-92c6-c2a3485b69eb",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "7450d76b-4873-4a6c-bfa8-904a56a682ce",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "9975c044-9a9f-4b9f-95c2-d8d58cbcaaa9",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "78b3608a-e60d-4387-b05a-a42d81073f56",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "409c1d8f-5266-4225-8dc8-937d9a1536e3",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "54eab346-acc8-46f0-8bfd-193b98aa69e0",
                                            "role": {
                                                "name": "sales_by_store",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "248b9725-1ccf-415f-9040-6fa3e85912d8"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "store",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "5f0ad159-8764-49b3-853e-8a8890d71f68",
                                                        "refIdPath": [
                                                            "07f5c08f-ca86-400e-b213-0186982d89da",
                                                            "39af1240-bd63-4e61-881a-bbb1100d0f4f"
                                                        ],
                                                        "ref": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "manager",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "77bacaae-8a90-4214-890a-8ddd67b32f49",
                                                        "refIdPath": [
                                                            "9a2001af-2477-473e-a86e-ed7038edb0c0",
                                                            "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52"
                                                        ],
                                                        "ref": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "b32d62ec-bc2d-4644-a5fc-be31450ce3a9",
                                                        "refIdPath": [
                                                            "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                            "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea"
                                                        ],
                                                        "ref": "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "ab00f79c-2b86-4061-8690-cc79995966d8",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_store",
                                                        "old": "sales_by_store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "248b9725-1ccf-415f-9040-6fa3e85912d8"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
                                                        "9cf44d23-b892-4672-8845-3788719ff68c": "store",
                                                        "85b97527-5316-40a2-aa7a-d9c755e0dbe9": "manager",
                                                        "ba2c271d-6306-4fb4-9bc1-ad48eedabea8": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "ab00f79c-2b86-4061-8690-cc79995966d8": "sales_by_store",
                                                        "5f0ad159-8764-49b3-853e-8a8890d71f68": "store",
                                                        "77bacaae-8a90-4214-890a-8ddd67b32f49": "manager",
                                                        "b32d62ec-bc2d-4644-a5fc-be31450ce3a9": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "5f0ad159-8764-49b3-853e-8a8890d71f68": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7abb7ca6-69f7-4291-a80e-e3bd34cdc40e",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "95b4bd99-3c61-4fbb-8232-735d56bfb200",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "24dfbe27-d539-4000-b0d5-f6d07bdf96e4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4501edcd-7075-4cb1-a068-d2b793740494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "77bacaae-8a90-4214-890a-8ddd67b32f49": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "0673ffde-7d82-4c71-8ad8-aa287cb59449",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6098bf79-7a4b-4d3b-819f-56e61a302310",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "951b3d20-9eb6-41b5-aac9-7bd0ccd4c06d",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "92e5ef5d-951e-447c-90fd-62fddb9b7196",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "0cb53a57-7034-4c88-bc0e-6fc9bb770362",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "363a24c8-86ae-4ff3-8868-febbb2c15814",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a1cbdaf3-3428-4ec6-aaf0-4fe3ad5e4d52",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "b32d62ec-bc2d-4644-a5fc-be31450ce3a9": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "c340a6c9-e631-410d-92c6-c2a3485b69eb",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7450d76b-4873-4a6c-bfa8-904a56a682ce",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9975c044-9a9f-4b9f-95c2-d8d58cbcaaa9",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "78b3608a-e60d-4387-b05a-a42d81073f56",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "7ffb56f9-f146-428d-8ee0-2fc07f1fcaea",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "c340a6c9-e631-410d-92c6-c2a3485b69eb",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "f3e8b30b-4324-48ab-80c9-957acea8949f",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "7450d76b-4873-4a6c-bfa8-904a56a682ce",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "948d4242-d37b-4a90-896a-a808d8ea8af8",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "9975c044-9a9f-4b9f-95c2-d8d58cbcaaa9",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "261a290c-5db2-4c86-a3c4-efea2cd593fc",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "78b3608a-e60d-4387-b05a-a42d81073f56",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "ffffff2b-e95d-4e09-b17c-34c6089a25bf",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "2d64a5dc-f8fd-401a-b04d-86aaae916121",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "0dafabae-d690-4ddd-9ed8-2babf429e7a3",
                                            "role": {
                                                "name": "staff_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "b68acf44-c204-406a-b286-e7d94be6d5d8"
                                                },
                                                "withCheckOption": false,
                                                "viewOn": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/staff_id",
                                                        "GUID": "d81ddd7b-790c-4094-98ac-53b4f562660a",
                                                        "refIdPath": [
                                                            "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "a64b8e1e-d783-4823-bfb6-50850d6a3ba4"
                                                        ],
                                                        "ref": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/first_name",
                                                        "GUID": "834fc3a5-d64d-401e-b380-461e4fcea25d",
                                                        "refIdPath": [
                                                            "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "70bf45db-c440-46f0-966e-7c38b5920e22"
                                                        ],
                                                        "ref": "70bf45db-c440-46f0-966e-7c38b5920e22",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "59a065b1-c12f-440d-b30c-e7a0ea104475",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "63ed2d12-b6b8-4f9f-8866-d5330629fb24"
                                                        ],
                                                        "ref": "63ed2d12-b6b8-4f9f-8866-d5330629fb24",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "a6227128-b756-46c6-a7c6-1997c078b5bd",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "c0298d5e-a70e-4ae3-80e9-a00a998bc82e"
                                                        ],
                                                        "ref": "c0298d5e-a70e-4ae3-80e9-a00a998bc82e",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "11e7a0e3-c431-46d1-ae78-6b502da68bc3",
                                                        "refIdPath": [
                                                            "8e50d01d-2b90-4369-b8f6-ce177f9abe43",
                                                            "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa"
                                                        ],
                                                        "ref": "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "e483f2bb-1b7b-4d3d-9e79-cc12482389b8",
                                                        "refIdPath": [
                                                            "07f5c08f-ca86-400e-b213-0186982d89da",
                                                            "39af1240-bd63-4e61-881a-bbb1100d0f4f"
                                                        ],
                                                        "ref": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "8805679a-0edf-42a8-a979-53f07faa8c76",
                                                        "refIdPath": [
                                                            "1934464b-2d0c-457e-a862-03abab3c889d",
                                                            "82131157-cdeb-4b38-8a30-9671aeec8cba"
                                                        ],
                                                        "ref": "82131157-cdeb-4b38-8a30-9671aeec8cba",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/store_id",
                                                        "GUID": "041194ad-d379-4bdc-a695-a1d359faa8b4",
                                                        "refIdPath": [
                                                            "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                            "ce1ac017-82b6-446d-959c-acab7832f296"
                                                        ],
                                                        "ref": "ce1ac017-82b6-446d-959c-acab7832f296",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "0ae34bcb-2f2f-4ea0-be9b-66dfacac3442",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "staff_list",
                                                        "old": "staff_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "b68acf44-c204-406a-b286-e7d94be6d5d8"
                                                        }
                                                    },
                                                    "viewOn": {
                                                        "new": "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c",
                                                        "old": "606710fd-3963-4876-894f-4a67c06a802d"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
                                                        "6bc3306b-e163-432d-8ac6-8e16113b200f": "id",
                                                        "0902c11d-c416-449b-96ed-9fa8b64ef7fb": "name",
                                                        "0c904dba-9527-48de-94d5-793eae1e7930": "address",
                                                        "6e2ac0c0-daf0-4f40-886d-9f5b0669cb95": "zip code",
                                                        "79dba508-ec41-48b1-912b-12317face7bc": "phone",
                                                        "755f9a21-6d42-4ab9-9e64-403faed74358": "city",
                                                        "a1ba7cc5-c50b-4a8b-8dfa-7f8d66c94f59": "country",
                                                        "8b62d8ea-4aa2-465d-ac01-30c2e9290301": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "0ae34bcb-2f2f-4ea0-be9b-66dfacac3442": "staff_list",
                                                        "d81ddd7b-790c-4094-98ac-53b4f562660a": "id",
                                                        "834fc3a5-d64d-401e-b380-461e4fcea25d": "name",
                                                        "59a065b1-c12f-440d-b30c-e7a0ea104475": "address",
                                                        "a6227128-b756-46c6-a7c6-1997c078b5bd": "zip code",
                                                        "11e7a0e3-c431-46d1-ae78-6b502da68bc3": "phone",
                                                        "e483f2bb-1b7b-4d3d-9e79-cc12482389b8": "city",
                                                        "8805679a-0edf-42a8-a979-53f07faa8c76": "country",
                                                        "041194ad-d379-4bdc-a695-a1d359faa8b4": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "d81ddd7b-790c-4094-98ac-53b4f562660a": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "8d4e9835-2157-4922-a2fb-99d6c5215efd"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "482544e8-2df2-4059-bf34-77864a4fbdc7",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "08441494-57e5-4648-b994-f561d15ccf60",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4c2b6662-3eeb-4d78-8b0f-f280d544f645",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                "name": "staff_id",
                                                                "definition": {
                                                                    "name": "staff_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "staff_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "e34ed694-124d-429e-83ed-00fe5645be5a"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "834fc3a5-d64d-401e-b380-461e4fcea25d": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "8d4e9835-2157-4922-a2fb-99d6c5215efd"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "482544e8-2df2-4059-bf34-77864a4fbdc7",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "08441494-57e5-4648-b994-f561d15ccf60",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4c2b6662-3eeb-4d78-8b0f-f280d544f645",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "70bf45db-c440-46f0-966e-7c38b5920e22",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "59a065b1-c12f-440d-b30c-e7a0ea104475": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "63ed2d12-b6b8-4f9f-8866-d5330629fb24",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "a6227128-b756-46c6-a7c6-1997c078b5bd": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "c0298d5e-a70e-4ae3-80e9-a00a998bc82e",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "11e7a0e3-c431-46d1-ae78-6b502da68bc3": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3926185b-460a-4cb5-b411-4d5f4adb2d42",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "aee3dc96-7b62-483e-a40c-1afd2322c2cc",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dce0299a-304b-41e5-8e02-79bca32991c1",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "0d1fbb73-f549-4ba0-8654-475a32dc1f36",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "cdb2003f-877c-4adf-884f-e88a0b83c139",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "90da37fa-4557-41d3-a51b-54481e311d30",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "b72b1d83-c9a8-496c-bbdd-6e68cadf8ffa",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "e483f2bb-1b7b-4d3d-9e79-cc12482389b8": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7abb7ca6-69f7-4291-a80e-e3bd34cdc40e",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6207e612-2a22-48ee-8d26-ee566a23a519",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "95b4bd99-3c61-4fbb-8232-735d56bfb200",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "24dfbe27-d539-4000-b0d5-f6d07bdf96e4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4501edcd-7075-4cb1-a068-d2b793740494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "39af1240-bd63-4e61-881a-bbb1100d0f4f",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "8805679a-0edf-42a8-a979-53f07faa8c76": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6ef8e45e-d1e6-4cfb-8f62-c8a988cdea63",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "39d8030e-56a1-4edd-9eea-ba0a54012a87",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "53dd9cb8-76a9-4291-b4f9-a9bc4ab6e795",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "0e193ee7-f23e-4d81-8e82-c5fc1c53aed0",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "82131157-cdeb-4b38-8a30-9671aeec8cba",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "041194ad-d379-4bdc-a695-a1d359faa8b4": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "f07ee579-fdff-4cf8-9773-79d87d385121",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "ce19da35-6180-4b2b-807b-fca4d5997778",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "00d9ce05-d090-4132-b801-9c29b9b63b1d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1384616a-d926-419f-95b8-cc11a38480b1",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "617da533-4754-469c-a817-48af0ff3febc",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "27156305-f38d-46a7-9be3-8fcd271f3ad2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "643ea7db-65cd-42fd-b88f-9b9fac63d94b",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d3f0de8c-b67a-47f5-92d5-e83813b5d9a6",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "fdaa6a85-5340-49de-92ee-74064646e23f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "7c9c9a7a-1ee6-49fe-8211-819fd7f3ae9d",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "0d8f85ac-b104-402b-86ef-d76fce79332a",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "96d65903-9d3e-48c0-a519-264305d3c10a",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "a297b620-47e6-44e5-969d-4f25e61dda37",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d10a36b9-fc5d-4901-8620-529957cde4c8",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30080eca-33a2-41c1-8074-193bf5417cff",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "32473481-a6a1-44af-bef2-1170f6028ef1",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "d7ad4048-2ebd-49b9-bc69-f499af259b7b",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "dede63e3-c6cb-42e2-9cb9-a43119b57d97",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "ce3331bd-cca7-4f8f-82ce-5ac91bea4f03",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "f6237783-004c-4f3e-b93d-5d5e59db934e",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "a8a31ff7-3781-4aa9-b4c0-9c6e6f2ac457",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "6fa826c4-7e54-4a9d-b462-2f787a746448",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1eef8b63-0e8b-4453-8066-84b3570f4c32",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b995e88b-271a-4868-bf5b-bf4e41bf140f",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "8d4e9835-2157-4922-a2fb-99d6c5215efd"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "482544e8-2df2-4059-bf34-77864a4fbdc7",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "08441494-57e5-4648-b994-f561d15ccf60",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "4c2b6662-3eeb-4d78-8b0f-f280d544f645",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "ce1ac017-82b6-446d-959c-acab7832f296",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "staff",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "8d4e9835-2157-4922-a2fb-99d6c5215efd"
                                                                },
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "482544e8-2df2-4059-bf34-77864a4fbdc7",
                                                                        "indxName": "staff_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "a64b8e1e-d783-4823-bfb6-50850d6a3ba4",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "08441494-57e5-4648-b994-f561d15ccf60",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "4c2b6662-3eeb-4d78-8b0f-f280d544f645",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1835d98c-6426-42ef-abb4-199171974f8b",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ab36e950-4305-4845-b8f5-0ba4905db1dc"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "64ccc147-d684-42af-a059-1feb12bcce83"
                },
                {
                    "name": "modelDefinitions",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "1a154a1a-4aa1-470e-9e41-12dca0cb4d35"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "d3083cf4-177b-4db5-a6c5-c40942a7a194"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "mpaa_rating",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "e7b7adda-4228-48e1-b17c-ea64daa265b2",
                                            "compMod": {
                                                "name": {
                                                    "new": "mpaa_rating",
                                                    "old": "mpaa_rating"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "enum",
                                                    "old": "enum"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "enum": {
                                                    "new": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ],
                                                    "old": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                    "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "0698f1f2-07ae-447a-8523-2b4f5b0d87a2"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "fdec2644-4662-454c-b417-94b272761cc9"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                        }
                                                                    ],
                                                                    "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                                        "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                                        "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                    "foreignField": [
                                                                        "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                        "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                                    ],
                                                                    "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "e83dd456-acba-45d7-89cf-a933e1e40259",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                                        }
                                                                    ],
                                                                    "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "db7405aa-60a3-453c-8a4c-75774c93d270",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "mpaa_rating",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "enum",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "enum": [
                                                    "G",
                                                    "PG",
                                                    "PG-13",
                                                    "R",
                                                    "NC-17"
                                                ],
                                                "GUID": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "0698f1f2-07ae-447a-8523-2b4f5b0d87a2"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "mpaa_rating",
                                                        "old": "mpaa_rating"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "enum",
                                                        "old": "enum"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "enum": {
                                                        "new": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ],
                                                        "old": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                        "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "0698f1f2-07ae-447a-8523-2b4f5b0d87a2"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "fdec2644-4662-454c-b417-94b272761cc9"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                            }
                                                                        ],
                                                                        "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                                            "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                                            "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                                        "refIdPath": [
                                                                            "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                            "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                            "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                    "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                        "foreignField": [
                                                                            "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                            "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                                        ],
                                                                        "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "e83dd456-acba-45d7-89cf-a933e1e40259",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                                        "refIdPath": [
                                                                            "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                            "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                            "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                    "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                                            }
                                                                        ],
                                                                        "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "db7405aa-60a3-453c-8a4c-75774c93d270",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "30a05b2c-78dd-4816-90ec-6179cf15cc1e",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "year",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "1ea9a090-bb44-422f-adcd-9ba0111cd325",
                                            "compMod": {
                                                "name": {
                                                    "new": "year",
                                                    "old": "year"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "domain",
                                                    "old": "char"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                    "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "1094fdec-ea91-4d59-bc81-09463872bdfc"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                        }
                                                                    ],
                                                                    "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                                        "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                                        "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                    "foreignField": [
                                                                        "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                        "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                                    ],
                                                                    "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "e83dd456-acba-45d7-89cf-a933e1e40259",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                                    "refIdPath": [
                                                                        "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                        "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                        "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                                        }
                                                                    ],
                                                                    "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "db7405aa-60a3-453c-8a4c-75774c93d270",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                            "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "year",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "domain",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "underlyingType": "integer",
                                                "collation": "",
                                                "default": "",
                                                "required": false,
                                                "checkConstraints": [
                                                    {
                                                        "name": "year_check",
                                                        "expression": "((VALUE >= 1901) AND (VALUE <= 2155))",
                                                        "GUID": "a3847572-c672-4b08-8914-cb3fa93cfd7b"
                                                    }
                                                ],
                                                "GUID": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                        "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "year",
                                                        "old": "year"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "domain",
                                                        "old": "char"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                        "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "1094fdec-ea91-4d59-bc81-09463872bdfc"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "cfa9329f-dd95-4655-af11-eb73143837bc"
                                                                            }
                                                                        ],
                                                                        "GUID": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af",
                                                                            "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901",
                                                                            "ae61a4c9-cceb-4018-99c6-332b75a8542c"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "aeaaf87d-3c24-4fbb-9f98-397899ddc6e8",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "2b1a38e3-5e2e-4450-ba34-49254ac9c7d8",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "8090ce08-bc19-4c04-aecd-8da4c73e6bd8",
                                                                        "refIdPath": [
                                                                            "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                            "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                            "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                    "8090ce08-bc19-4c04-aecd-8da4c73e6bd8"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                        "foreignField": [
                                                                            "5ff55319-dd02-4606-bab7-17142ab65de3",
                                                                            "499aaf36-51c8-4b5f-ba1c-815317721ea8"
                                                                        ],
                                                                        "parentRelationship": "815625d8-8188-4720-ac25-f1609e9f33c3",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "26e12c13-c927-4222-bfed-6d9ba681c933",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "d9283c54-8983-4854-b094-595892e0f33a",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "e83dd456-acba-45d7-89cf-a933e1e40259",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "0698f1f2-07ae-447a-8523-2b4f5b0d87a2",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "495351c7-ac25-42ad-956f-c5020d01b673",
                                                                        "refIdPath": [
                                                                            "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                            "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                            "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "f7c12609-6c7d-4691-89fd-d7a0e0098995",
                                                                                    "79f0dd75-3fd2-480f-8ef5-7878edcdb71c",
                                                                                    "495351c7-ac25-42ad-956f-c5020d01b673"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "934506ce-7e98-4f52-999b-eac0bae0b7e5",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "9f11bdb8-51f5-459e-9b92-11d51692403b"
                                                                            }
                                                                        ],
                                                                        "GUID": "84fb29c7-fef9-43d2-9415-d62d071aa1b9",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "db7405aa-60a3-453c-8a4c-75774c93d270",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "8054d258-8027-410e-929b-1076c7bdfa0e",
                                                                "bucketId": "50994954-8870-4a1d-ae9e-8c48d223edfd",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "68e582a9-4f12-4f8d-97b5-ecd3764f6b32"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "8fd9facb-fe90-4a8a-8a0c-5bfe0c993007",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "5e48e646-931d-47e0-bcbc-3170a6704be2",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "b0de177e-5c26-4b16-afaa-77befa4b1468",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "e8558028-9ff9-43f1-a0c8-85834dea226b",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "bec79c41-fb81-46bf-b3a0-52d38bd6294a",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "1c3a4ad9-49c8-4e03-aadb-151a511874d2",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "8d19215f-7456-4011-85a7-b9a339bfa605",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "97a7cf39-7467-4ceb-bc81-e946a0736b8b",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "9d9cd979-0b64-4955-a910-0f24ceee6a15",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "8bd30b06-aac7-489c-a842-ff99969a1696",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "34a1cdec-0f7c-4598-8ca2-6b5ac2f458fc",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "b4e869c4-ad17-4b88-83af-188062d717c3",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "2e55c900-4415-444d-87a4-03b4493df137",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "9a18d76e-aa31-491d-952e-76e00de16153"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "86863ead-79a5-42b6-9547-2a058559529b"
                }
            ],
            "definitions": {
                "type": "definitions",
                "properties": [],
                "GUID": "b7f9044b-bd4f-47f8-b70f-a73b6c82e41d"
            },
            "isActivated": true,
            "additionalProperties": false,
            "memory_optimized": false,
            "collectionUsers": [],
            "ifNotExist": true,
            "on_commit": "PRESERVE ROWS",
            "table_tablespace_name": "pg_default",
            "GUID": "25c81b04-6061-4a74-a2c1-448de3470a80"
        }
    ],
    "buckets": [],
    "views": [],
    "relationships": [],
    "users": [],
    "diagramViews": [],
    "idToNameHashTable": {
        "f7d141bf-eaca-4758-9803-abebaab05349": "added",
        "dfc9c8d3-d11a-436d-992b-b1c24ae7d943": "deleted",
        "6bc3d3e9-4b3e-44f3-83d0-677cd138583b": "modified",
        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public",
        "50994954-8870-4a1d-ae9e-8c48d223edfd": "public",
        "3c191797-38b2-4d29-826a-49db75e91811": "public",
        "907c57e5-2089-47f5-8140-23243257249b": "added",
        "ad7f5e96-1507-41d6-b90e-ae431b59123d": "deleted",
        "f4e8d503-ce46-4842-b3da-b4ff9d797b03": "modified",
        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
        "9a2001af-2477-473e-a86e-ed7038edb0c0": "actor",
        "8e50d01d-2b90-4369-b8f6-ce177f9abe43": "address",
        "e52ee789-379c-4a0e-8ddc-cdc20e093c6b": "category",
        "07f5c08f-ca86-400e-b213-0186982d89da": "city",
        "1934464b-2d0c-457e-a862-03abab3c889d": "country",
        "353e9ba8-f3ae-4fc0-b0fd-63156f796d35": "customer",
        "8054d258-8027-410e-929b-1076c7bdfa0e": "film",
        "c756f3bc-2217-46a3-8712-408b21b761d1": "film_actor",
        "0ae060fb-f1db-4c29-8e4e-9ab1e324d80e": "film_category",
        "96d550bd-3c38-4d96-b7ec-c8ed09db9661": "inventory",
        "5ff55319-dd02-4606-bab7-17142ab65de3": "language",
        "cb6dba7c-3258-4f2a-ad0f-65facd3f97bd": "payment",
        "6525d75b-5a4a-4466-984b-123ea7918dfe": "rental",
        "701a15c4-27b4-425a-b18c-4dd5cc5bbe9c": "staff",
        "3c0f31e5-aeb3-43d2-955f-e3125d7a6d5d": "store",
        "6098bf79-7a4b-4d3b-819f-56e61a302310": "actor_id",
        "fe7cabbc-284f-4743-9868-c0817d50edb4": "last_update",
        "aee3dc96-7b62-483e-a40c-1afd2322c2cc": "address_id",
        "0d1fbb73-f549-4ba0-8654-475a32dc1f36": "city_id",
        "6ce51ba2-20bf-4e03-93c6-3cf5e6768164": "last_update",
        "0b360270-910a-4558-b007-3d702c4ccaa6": "category_id",
        "879a41ea-b6f1-4fb0-8da6-8a2a623ee34c": "last_update",
        "6207e612-2a22-48ee-8d26-ee566a23a519": "city_id",
        "30fd0c0b-2d59-4f0c-bed3-062bc3c5861a": "country_id",
        "74b45309-eb9f-42a3-b54f-2f280ee7766c": "last_update",
        "39d8030e-56a1-4edd-9eea-ba0a54012a87": "country_id",
        "b1f8d6cd-b2aa-474c-8f2b-091848223005": "last_update",
        "a6bda98c-7574-4777-b6e8-92f44d30b887": "customer_id",
        "a993d776-3336-4c53-8087-ce30534020e4": "store_id",
        "e4dada41-090d-407e-9c08-a70fa2dcad8a": "address_id",
        "a216c170-5bf3-4b4f-a971-1b44412432a6": "create_date",
        "ac1f917a-fe9e-45d9-ba97-0f345f89dde9": "last_update",
        "6eeb69d2-449c-437c-8219-e1a5dbb868a7": "active",
        "e8558028-9ff9-43f1-a0c8-85834dea226b": "film_id",
        "108c9b25-8dd6-4e24-a7fd-0c763e9aa69a": "language_id",
        "7257ed9e-109f-4d2c-97b5-96ea9ff17bc7": "rental_duration",
        "d9283c54-8983-4854-b094-595892e0f33a": "length",
        "934506ce-7e98-4f52-999b-eac0bae0b7e5": "last_update",
        "84fb29c7-fef9-43d2-9415-d62d071aa1b9": "special_features",
        "5e48e646-931d-47e0-bcbc-3170a6704be2": "fulltext",
        "971ef80c-f6cc-46e4-87f6-4f678d69a401": "actor_id",
        "9da4a5d3-a1f8-43b0-935e-e0cc75d31b1d": "film_id",
        "88c204a5-5c1d-438f-ab88-60fee77538fd": "last_update",
        "990fa572-c9bc-4b33-8553-f9e99effc1e8": "film_id",
        "e09611ed-58dc-4e93-9ed9-3236bcb82a80": "category_id",
        "49405d1c-a4ab-48bd-bd9f-1469a0cff4b4": "last_update",
        "01099b97-5a4a-4659-90c3-2b682912f7cb": "inventory_id",
        "f0a5020e-3611-4b85-93d3-31a13b44dabe": "film_id",
        "9304a3d5-48c1-4e39-b88d-acd579ae78a8": "store_id",
        "a1e85bc6-a5fb-4c87-aced-688a8c9f428d": "last_update",
        "ffffff2b-e95d-4e09-b17c-34c6089a25bf": "payment_id",
        "f3e8b30b-4324-48ab-80c9-957acea8949f": "customer_id",
        "261a290c-5db2-4c86-a3c4-efea2cd593fc": "staff_id",
        "948d4242-d37b-4a90-896a-a808d8ea8af8": "rental_id",
        "0fd29ba5-722b-4678-8498-00fd79b749de": "payment_date",
        "055988a5-bd2f-4f28-8e37-1c4f5e3a2ad3": "rental_id",
        "defdf688-4fee-4650-93d6-15c29ef9ddba": "rental_date",
        "9764196d-7dfc-4236-ba2e-4d8222412b7e": "inventory_id",
        "20eec962-ad69-4fa0-bc84-029b920680ee": "customer_id",
        "f943439d-9866-4684-864d-798b2bec242d": "return_date",
        "f06da88a-a8ab-4608-b949-1f8063f1a1dc": "staff_id",
        "a0986098-c480-4768-bedc-de08437d7f7f": "last_update",
        "a64b8e1e-d783-4823-bfb6-50850d6a3ba4": "staff_id",
        "2095be38-a3d7-49d4-a5eb-fbc25ce34788": "address_id",
        "ce1ac017-82b6-446d-959c-acab7832f296": "store_id",
        "807fdbf3-3889-43e6-b74e-2593652ad9a7": "last_update",
        "fff2ba5e-bb1b-4849-86c6-e1fbd267e78a": "picture",
        "11608039-c6b2-4e0c-89a0-9c114c51ff1e": "store_id",
        "f1a8a1b7-4738-4b62-8b0a-4e2da7746b29": "manager_staff_id",
        "c6271469-cd24-4910-8ea4-9e6564b6f430": "address_id",
        "6f22c5e0-855b-4af5-8e97-12553c009aff": "last_update",
        "276fb713-b26c-4966-a802-5206d36b265a": "language",
        "ac17a6ec-d080-49be-9dd2-d9e208b26f13": "actor",
        "eee66938-4b62-4318-a1f2-e35dbabacfa4": "address",
        "ea46c402-ffae-4c83-a461-ea6a319be017": "category",
        "2a97d8c3-5e1b-4a2c-8654-a7d3fbe2e42d": "city",
        "641d8d53-936f-4cc3-b9cd-082c9d0e4e8b": "country",
        "96e7971b-b7cf-421a-a959-e754282fc089": "customer",
        "d0411792-43b5-4d55-8e62-538c3da12e70": "film",
        "28c5e920-c033-4341-87f1-7e909a8bf581": "film_actor",
        "8f02564d-3dae-4afd-af0a-05492b2d6ccc": "film_category",
        "1331fcd8-12d4-4165-915f-5e3afc7ccd17": "inventory",
        "41a172d6-5db3-488b-b1e7-c102576d6e0c": "payment",
        "4d85cd17-264f-4257-bae4-1f96ef86ca31": "rental",
        "763c849d-7a08-4f62-ab81-655cc5f94be6": "staff",
        "41c73069-4d3b-4d32-a6de-d1accf159380": "store",
        "208733fa-f7d5-4b61-91ec-95854c585742": "added",
        "a3f6e3b4-ef60-4895-b230-fd929f756eba": "deleted",
        "955d70e6-50a9-45ac-9d5e-e3b47752a288": "modified",
        "e538fb3b-8473-4562-8f5a-0eb51f93247f": "store_address_id_fkey",
        "f9b0f681-a0da-4772-a56f-7635f3edea6a": "store_manager_staff_id_fkey",
        "5b249fee-16bc-40e4-9fd1-2cc46c80b472": "fk_address_city",
        "d374bba1-7534-4b1b-8812-6aa507c55623": "fk_city",
        "895c41b9-14d8-4f7c-a4aa-266885a40463": "customer_address_id_fkey",
        "3b8f74ab-376d-49fe-8808-6241fa630e32": "film_actor_actor_id_fkey",
        "b5042932-7c3b-4f73-afec-43ac367c7a1f": "film_actor_film_id_fkey",
        "d03dd0f4-e0ba-481d-830d-6a3d8a197237": "film_category_category_id_fkey",
        "fd86f209-5a4b-4ea7-b035-f61e8f5c2380": "film_category_film_id_fkey",
        "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b": "inventory_film_id_fkey",
        "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7": "rental_customer_id_fkey",
        "7e0103a3-1f38-493a-aa5a-86fa4266ffc4": "rental_inventory_id_fkey",
        "1176da73-580a-44d1-bb64-b194cfe0c480": "rental_staff_id_key",
        "de5d6fab-0969-4e75-8d15-13e259c84972": "staff_address_id_fkey",
        "bb069ade-4229-4938-a44d-e3a732655054": "payment_customer_id_fkey",
        "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8": "payment_rental_id_fkey",
        "0efc6208-cac1-4e6c-8ec7-f48a71ad5742": "payment_staff_id_fkey",
        "3aef1f36-2e07-4b98-a147-0b8faa48428e": "store_address_id_fkey",
        "cb13b1c7-5a10-4699-9ea2-098b511bedb0": "store_manager_staff_id_fkey",
        "fee20d4e-0257-4cd7-acdc-b0b1e9c3b02b": "fk_address_city",
        "185352af-991c-4436-9f92-61e9be2de4a4": "fk_city",
        "7ce61918-e7f4-48e2-805e-324020e621f1": "customer_address_id_fkey",
        "75caa456-b94e-4846-9f64-d56d861b7e37": "film_actor_actor_id_fkey",
        "b0feeb5d-8bef-4c55-b785-a9ea3ba3e6af": "film_actor_film_id_fkey",
        "438a4308-dac4-497a-aafb-98c24fc40b9d": "film_category_category_id_fkey",
        "f3cad8ad-4b75-4f00-97c0-1d1d0fb66901": "film_category_film_id_fkey",
        "ae61a4c9-cceb-4018-99c6-332b75a8542c": "inventory_film_id_fkey",
        "6e0907dc-53dc-40ef-bc05-48077a6a9917": "rental_customer_id_fkey",
        "afdc3db5-09df-4617-9328-0c960a02eb60": "rental_inventory_id_fkey",
        "1365e1b9-8d2d-4b7a-92be-4b856a1965ba": "rental_staff_id_key",
        "fe1c7d15-205a-4698-b50b-3039a3ae9079": "staff_address_id_fkey",
        "c2dc6691-2618-4bb3-b998-39244039df49": "payment_customer_id_fkey",
        "0f276edb-0ac5-401d-9cc4-2895f059cfe2": "payment_rental_id_fkey",
        "0da4ef06-0464-496f-9a67-f3125d14e201": "payment_staff_id_fkey",
        "815625d8-8188-4720-ac25-f1609e9f33c3": "film_language_id_fkey",
        "499aaf36-51c8-4b5f-ba1c-815317721ea8": "language_id",
        "3c48217e-12bb-44a0-b15c-951cfdbd4802": "film_language_id_fkey",
        "3ce08baf-166b-4261-964e-0fee33694853": "added",
        "2e5e9bb1-1630-47ab-a4cd-183204cf298e": "deleted",
        "ab36e950-4305-4845-b8f5-0ba4905db1dc": "modified",
        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
        "31f03d5c-0285-4914-90f4-2998410a6bb8": "actor_info",
        "6f83fef1-6eae-4db3-af5f-9cb59a80f52e": "customer_list",
        "268c5f21-c4c7-451f-be3c-638f547394ff": "film_list",
        "d85f6fc4-6db6-400d-b3a1-e3178894094d": "nicer_but_slower_film_list",
        "a936b3f2-e525-4e68-8ef5-7dbefd23d95d": "sales_by_film_category",
        "ab00f79c-2b86-4061-8690-cc79995966d8": "sales_by_store",
        "0ae34bcb-2f2f-4ea0-be9b-66dfacac3442": "staff_list",
        "0f68b670-1bc2-4e13-b573-a565396337f3": "actor_info",
        "f2fe17bf-6157-4370-93fc-b87e34e6c7e7": "customer_list",
        "343027d6-b969-4c0b-9995-0f174de4cda6": "film_list",
        "b8e829b8-39c2-4879-8d34-bdbf635dd2cf": "nicer_but_slower_film_list",
        "c778295b-2d01-432b-a08d-7b0465ab1c01": "sales_by_film_category",
        "54eab346-acc8-46f0-8bfd-193b98aa69e0": "sales_by_store",
        "0dafabae-d690-4ddd-9ed8-2babf429e7a3": "staff_list",
        "1a154a1a-4aa1-470e-9e41-12dca0cb4d35": "added",
        "d3083cf4-177b-4db5-a6c5-c40942a7a194": "deleted",
        "9a18d76e-aa31-491d-952e-76e00de16153": "modified",
        "aef4047c-1b18-4be6-8785-760ae34f2043": "mpaa_rating",
        "52a01f94-9d41-4f97-8576-634c7b91c85f": "year",
        "495351c7-ac25-42ad-956f-c5020d01b673": "mpaa_rating",
        "8090ce08-bc19-4c04-aecd-8da4c73e6bd8": "year",
        "e7b7adda-4228-48e1-b17c-ea64daa265b2": "mpaa_rating",
        "1ea9a090-bb44-422f-adcd-9ba0111cd325": "year",
        "25c81b04-6061-4a74-a2c1-448de3470a80": "comparisonModelCollection",
        "244c1c07-120c-4186-b05b-c18bd973613e": "containers",
        "f61d5ffa-fcde-4e8a-8ddc-9f2109a283ef": "entities",
        "495a5914-96fe-4820-a74b-bfb4553f2227": "relationships",
        "64ccc147-d684-42af-a059-1feb12bcce83": "views",
        "86863ead-79a5-42b6-9547-2a058559529b": "modelDefinitions"
    },
    "definitions": {
        "type": "definitions",
        "properties": [
            {
                "childType": "enum",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "name": "mpaa_rating",
                "isActivated": true,
                "primaryKey": false,
                "enum": [
                    "G",
                    "PG",
                    "PG-13",
                    "R",
                    "NC-17"
                ],
                "hackoladeMeta": {},
                "error": {},
                "GUID": "aef4047c-1b18-4be6-8785-760ae34f2043",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            },
            {
                "primaryKey": false,
                "mode": "varchar",
                "length": 10,
                "childType": "char",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "compositePrimaryKey": false,
                "compositeUniqueKey": false,
                "name": "year",
                "isActivated": true,
                "required": false,
                "unique": false,
                "default": "",
                "hackoladeMeta": {},
                "error": {},
                "GUID": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            }
        ],
        "GUID": "79f0dd75-3fd2-480f-8ef5-7878edcdb71c"
    },
    "polyglotDefinitions": {
        "type": "polyglotDefinitions",
        "properties": [],
        "GUID": "76a725a5-85e5-4b34-8898-6d06789cd2b2"
    },
    "externalDefinitions": {
        "type": "externalDefinitions",
        "properties": [],
        "GUID": "385ad195-6206-4b13-b8a6-295c947205db"
    },
    "sources": [],
    "decorativeSymbols": [],
    "dbVersion": "v5.0",
    "dbVendor": "PostgreSQL",
    "tablespace_name": "pg_default",
    "encoding": "UTF8",
    "appTarget": "PostgreSQL",
    "creationTS": "2023-06-19T10:55:53.628Z",
    "GUID": "a7d6ac92-b2eb-4046-b05f-595ae25f7160",
    "compMode": true,
    "isCreatedByPlugin": true,
    "pluginInformation": {
        "pluginName": "PostgreSQL",
        "pluginVersion": "0.1.43",
        "pluginEngineVersion": "1.0.0"
    },
    "lastModifTS": "2023-06-19T10:55:53.671Z",
    "persistenceSchemaVersion": "6",
    "applicationInformation": {
        "version": "6.10.8"
    },
    "settings": {
        "centralPane": {
            "dbLevel": {
                "erd": [
                    {
                        "GUID": "25c81b04-6061-4a74-a2c1-448de3470a80",
                        "x": 50,
                        "y": 50,
                        "width": 200,
                        "height": 100,
                        "color": {}
                    }
                ],
                "erdDefinitions": {
                    "erd": [],
                    "rootPath": [],
                    "entities": [],
                    "decorativeSymbols": []
                },
                "buckets": [],
                "collapsedNodes": [],
                "activeRelationship": "",
                "activeRelationshipFields": {
                    "childField": [],
                    "parentField": []
                },
                "selectedCollections": [],
                "displayColorPicker": false,
                "graphView": {
                    "erd": [],
                    "buckets": [],
                    "decorativeSymbols": [],
                    "forceLayout": true,
                    "defaultLinkLength": 300
                },
                "diagramViews": [],
                "decorativeSymbols": [],
                "nestedCollectionsLayout": "horizontal",
                "options": [],
                "relationshipUpdateDisabled": false
            },
            "collectionLevel": {},
            "changed": false
        },
        "dtDiagram": {
            "collapsedNodes": [],
            "shouldDistributeCollections": false
        }
    }
}