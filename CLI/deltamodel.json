{
    "modelName": "New model",
    "collections": [
        {
            "collectionName": "comparisonModelCollection",
            "type": "object",
            "properties": [
                {
                    "name": "containers",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "802521a6-e6a4-415d-9ba2-2b0f820c412c"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "41834f05-9eb9-4751-aadd-70b76d06b787"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "public",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "07bdd829-f4ae-4e34-b541-709a7282c1be",
                                            "role": {
                                                "name": "public",
                                                "type": "bucket",
                                                "collectionIds": [
                                                    "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                    "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                    "fb828408-fac5-44d8-832b-aab61f639c85",
                                                    "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                    "67de1da6-680c-4325-bab4-106a520c9d73",
                                                    "e2318042-04b4-4536-84f4-daa1188f3729",
                                                    "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                    "76b9bf06-5120-44ea-885c-41b95b0ea6f7",
                                                    "1ed41ec5-a728-49c5-ae0e-05c0859d4868",
                                                    "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                    "eda78672-fe90-4798-b215-8c1505beff02",
                                                    "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                    "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                    "0eae89ab-ba68-4b36-9912-21627935998f",
                                                    "e8ea894f-cab9-4bd0-ae6c-db59933ad06d"
                                                ],
                                                "backgroundColor": {
                                                    "r": 216,
                                                    "g": 0,
                                                    "b": 115,
                                                    "a": 1
                                                },
                                                "show": true,
                                                "isActivated": true,
                                                "ifNotExist": true,
                                                "GUID": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "hackoladeMeta": {},
                                                "UDFs": [
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                        "name": "_group_concat",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "text",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "text",
                                                        "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                        "name": "film_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                        "name": "film_not_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_film_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_store_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                "argumentMode": "OUT",
                                                                "argumentName": "p_film_count",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                        "name": "get_customer_balance",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_customer_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_effective_date",
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "numeric",
                                                        "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                        "name": "inventory_held_by_customer",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "int4",
                                                        "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                        "name": "inventory_in_stock",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                "argumentMode": "IN",
                                                                "argumentName": "p_inventory_id",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "bool",
                                                        "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "sql",
                                                        "functionVolatility": "IMMUTABLE",
                                                        "functionNullArgs": "STRICT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                        "name": "last_day",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                "argumentMode": "IN",
                                                                "argumentName": null,
                                                                "argumentType": "timestamp without time zone",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "date",
                                                        "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "INVOKER",
                                                        "functionParallel": "",
                                                        "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                        "name": "last_updated",
                                                        "functionDescription": null,
                                                        "functionArguments": [],
                                                        "functionReturnsSetOf": false,
                                                        "functionReturnType": "trigger",
                                                        "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                        "functionLeakProof": false
                                                    },
                                                    {
                                                        "functionLanguage": "plpgsql",
                                                        "functionVolatility": "VOLATILE",
                                                        "functionNullArgs": "CALLED ON NULL INPUT",
                                                        "functionSqlSecurity": "DEFINER",
                                                        "functionParallel": "",
                                                        "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                        "name": "rewards_report",
                                                        "functionDescription": null,
                                                        "functionArguments": [
                                                            {
                                                                "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_monthly_purchases",
                                                                "argumentType": "integer",
                                                                "defaultExpression": null
                                                            },
                                                            {
                                                                "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                "argumentMode": "IN",
                                                                "argumentName": "min_dollar_amount_purchased",
                                                                "argumentType": "numeric",
                                                                "defaultExpression": null
                                                            }
                                                        ],
                                                        "functionReturnsSetOf": true,
                                                        "functionReturnType": "customer",
                                                        "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                        "functionLeakProof": false
                                                    }
                                                ],
                                                "Procedures": [],
                                                "code": "",
                                                "addFieldsToBucket": true,
                                                "isPlugin": true,
                                                "compMod": {
                                                    "name": {
                                                        "new": "public",
                                                        "old": "public"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "UDFs": {
                                                        "new": [
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                "name": "_group_concat",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "text",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "text",
                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                "name": "film_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                "name": "film_not_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_film_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_store_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                        "argumentMode": "OUT",
                                                                        "argumentName": "p_film_count",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                "name": "get_customer_balance",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_customer_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_effective_date",
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "numeric",
                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                "name": "inventory_held_by_customer",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "int4",
                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                "name": "inventory_in_stock",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "p_inventory_id",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "bool",
                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "sql",
                                                                "functionVolatility": "IMMUTABLE",
                                                                "functionNullArgs": "STRICT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                "name": "last_day",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": null,
                                                                        "argumentType": "timestamp without time zone",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "date",
                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "INVOKER",
                                                                "functionParallel": "",
                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                "name": "last_updated",
                                                                "functionDescription": null,
                                                                "functionArguments": [],
                                                                "functionReturnsSetOf": false,
                                                                "functionReturnType": "trigger",
                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                "functionLeakProof": false
                                                            },
                                                            {
                                                                "functionLanguage": "plpgsql",
                                                                "functionVolatility": "VOLATILE",
                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                "functionSqlSecurity": "DEFINER",
                                                                "functionParallel": "",
                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                "name": "rewards_report",
                                                                "functionDescription": null,
                                                                "functionArguments": [
                                                                    {
                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_monthly_purchases",
                                                                        "argumentType": "integer",
                                                                        "defaultExpression": null
                                                                    },
                                                                    {
                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                        "argumentMode": "IN",
                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                        "argumentType": "numeric",
                                                                        "defaultExpression": null
                                                                    }
                                                                ],
                                                                "functionReturnsSetOf": true,
                                                                "functionReturnType": "customer",
                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                "functionLeakProof": false
                                                            }
                                                        ]
                                                    },
                                                    "Procedures": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e5e0cde1-a3da-4532-bf7b-00f75e8e1685": "public"
                                                    }
                                                },
                                                "roleType": "container"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "5dbfc342-5aa1-4ea9-8c6f-40813833724c",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "9ec03c28-fb57-4e69-a95d-e554e631b46d"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "3f342048-a0ab-4c04-ae39-6a496d150b0e"
                },
                {
                    "name": "entities",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "language",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('language_language_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "language_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "1e6a30d7-0ea0-46d8-ad19-4e5189770e7a"
                                                        }
                                                    ],
                                                    "GUID": "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "0093b5ed-e363-43bf-98da-40e2c8d48928"
                                                    ],
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "name",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "char",
                                                    "length": 20,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bpchar",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "6e220fbc-6d13-45b4-859f-cf87a53b456f",
                                                    "required": true,
                                                    "error": {}
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "30e19cbf-4164-416a-bcd7-f86dff7fb1fa",
                                                    "required": true,
                                                    "error": {}
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "4b1db752-0fb0-4a72-8cda-0f117a532565",
                                            "compMod": {
                                                "keyspaceName": "public",
                                                "bucketProperties": {
                                                    "name": "public",
                                                    "isActivated": true,
                                                    "ifNotExist": true,
                                                    "code": ""
                                                },
                                                "created": true,
                                                "deleted": false
                                            },
                                            "role": {
                                                "collectionName": "language",
                                                "type": "object",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "memory_optimized": false,
                                                "collectionUsers": [],
                                                "ifNotExist": true,
                                                "on_commit": "PRESERVE ROWS",
                                                "table_tablespace_name": "pg_default",
                                                "GUID": "eda78672-fe90-4798-b215-8c1505beff02",
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "code": "",
                                                "temporary": false,
                                                "unlogged": false,
                                                "inherits": [],
                                                "primaryKey": [],
                                                "uniqueKey": [],
                                                "Indxs": [
                                                    {
                                                        "isActivated": true,
                                                        "index_method": "btree",
                                                        "ifNotExist": true,
                                                        "only": true,
                                                        "index_tablespace_name": "",
                                                        "GUID": "bfa301c0-2bdc-4328-bf5a-afc4e0bc6998",
                                                        "indxName": "language_pkey",
                                                        "unique": true,
                                                        "columns": [
                                                            {
                                                                "keyId": "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e",
                                                                "sortOrder": "ASC",
                                                                "nullsOrder": "NULLS LAST",
                                                                "collation": null,
                                                                "opclass": "pg_catalog.int4_ops"
                                                            }
                                                        ],
                                                        "include": [],
                                                        "where": ""
                                                    }
                                                ],
                                                "chkConstr": [],
                                                "triggers": [
                                                    {
                                                        "triggerType": "BEFORE",
                                                        "GUID": "46a8f8f2-3cb2-45ad-abf1-6aedc11cd4fa",
                                                        "name": "last_updated",
                                                        "triggerDescription": null,
                                                        "triggerConstraint": false,
                                                        "triggerEvents": [
                                                            {
                                                                "GUID": "b4fc0163-ae70-447f-aa2e-2ce403c237eb",
                                                                "triggerEvent": "UPDATE"
                                                            }
                                                        ],
                                                        "triggerUpdateColumns": [],
                                                        "triggerReferencing": false,
                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                        "triggerCondition": null,
                                                        "triggerFunction": "last_updated()"
                                                    }
                                                ],
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "created": true,
                                                    "deleted": false
                                                },
                                                "name": "language",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a3539d5e-a29a-4616-a943-832bee30c8ef",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "e6e7a6c2-8f76-4905-900c-919ae71656e1"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "c82a259e-5f75-429a-9c02-102ceb454cd2"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "actor_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "107645a6-eb6c-494c-97cd-f26c564794d1"
                                                        }
                                                    ],
                                                    "GUID": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "8bcdfa69-5ff2-4013-894c-c56b10762b70"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "48392814-0d77-4042-8074-5b5d7fc6bde1",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "857be1a6-a625-4fdc-bf8a-e316e7fee5a1",
                                            "role": {
                                                "collectionName": "actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                        "constraintName": "actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "528164b2-2e68-427d-b4eb-3f349225a0ac",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('actor_actor_id_seq'::regclass)",
                                                        "GUID": "528164b2-2e68-427d-b4eb-3f349225a0ac",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "3b8f74ab-376d-49fe-8808-6241fa630e32"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "c68b4f88-05b3-41f4-96bf-51b2550985c5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "068301a3-9fb8-4fa0-8e87-7f68dfbdd7b3",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "f2513de2-a1ef-4843-b898-ebb28ab6f85d",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "30769321-df34-4c77-9cca-63f380c1dc0b",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "actor",
                                                        "old": "actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c526dbcf-e1f2-4e1b-b001-530c685ead52",
                                                                "constraintName": "actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "528164b2-2e68-427d-b4eb-3f349225a0ac",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                "indxName": "actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                "indxName": "idx_actor_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
                                                        "528164b2-2e68-427d-b4eb-3f349225a0ac": "actor_id",
                                                        "c68b4f88-05b3-41f4-96bf-51b2550985c5": "first_name",
                                                        "068301a3-9fb8-4fa0-8e87-7f68dfbdd7b3": "last_name",
                                                        "f2513de2-a1ef-4843-b898-ebb28ab6f85d": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "7dbeb7ba-9845-4e8f-966a-9101985f5db8": "actor",
                                                        "6e861fe4-2954-4d49-a123-d7fce302a4e5": "actor_id",
                                                        "1fd4a4db-1f59-4b40-934a-b96522914eb8": "first_name",
                                                        "3349c327-d1ae-4640-846a-b9aa56226b73": "last_name",
                                                        "48392814-0d77-4042-8074-5b5d7fc6bde1": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('actor_actor_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "actor_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "107645a6-eb6c-494c-97cd-f26c564794d1"
                                                                }
                                                            ],
                                                            "GUID": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "8bcdfa69-5ff2-4013-894c-c56b10762b70"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "48392814-0d77-4042-8074-5b5d7fc6bde1",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "cef8ebfc-f241-4ec6-894b-59f63624043a",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "address",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('address_address_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "address_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "136c6d34-4fff-4c50-86fa-a3fba524a848"
                                                        }
                                                    ],
                                                    "GUID": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "145d1efa-1228-4363-b246-316a3fb337ff",
                                                        "79b7bfed-71b7-46c3-bb97-a9fda6959120",
                                                        "52ca8549-7849-461a-a2c2-cc6fcc5f6479"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                    "foreignField": [
                                                        "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                        "f536ace5-0164-44d8-bc88-36167f000bed"
                                                    ],
                                                    "parentRelationship": "d05a9488-f2b7-4938-b36b-b6a44eaeba3e",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "ff2af33a-7f7e-4e32-88ad-8e866c84a938",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "fdd21812-ac99-4a99-8b84-f57ff6ef6eb2",
                                            "role": {
                                                "collectionName": "address",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                        "constraintName": "address_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "3670bcad-782a-445a-bf43-74cc350f4768",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('address_address_id_seq'::regclass)",
                                                        "GUID": "3670bcad-782a-445a-bf43-74cc350f4768",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                            "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                            "de5d6fab-0969-4e75-8d15-13e259c84972"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "719c3590-ad65-4590-8964-c7f1119b130e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address2",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "2b2fce2b-a8e0-41d3-9fc9-1136828f0890",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "address2",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "district",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "52d26b00-32fc-4d6d-9c68-56a0626da30d",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "district",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                        "foreignField": [
                                                            "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                            "e8427da5-2a2d-4a9d-b621-aed4a1708eed"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "7fd4f996-8e06-4dba-bccb-534a1647ed4f",
                                                        "error": {},
                                                        "parentRelationship": "5b249fee-16bc-40e4-9fd1-2cc46c80b472",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "postal_code",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "a96cf7a8-59fe-4387-a7c1-4a90e08be8c7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "postal_code",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 20,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "phone",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "dbe3c95e-97e9-45fa-b7c8-6a5d7593645e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "phone",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "665940e1-292b-4db5-9208-1ed28829bdc1",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "0c3b9e5a-09bf-4029-877d-85e784c0f75d",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "address",
                                                        "old": "address"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "d70a2f98-f578-4873-9c58-52da9aef96f3",
                                                                "constraintName": "address_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "3670bcad-782a-445a-bf43-74cc350f4768",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                "indxName": "address_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                "indxName": "idx_fk_city_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
                                                        "3670bcad-782a-445a-bf43-74cc350f4768": "address_id",
                                                        "719c3590-ad65-4590-8964-c7f1119b130e": "address",
                                                        "2b2fce2b-a8e0-41d3-9fc9-1136828f0890": "address2",
                                                        "52d26b00-32fc-4d6d-9c68-56a0626da30d": "district",
                                                        "7fd4f996-8e06-4dba-bccb-534a1647ed4f": "city_id",
                                                        "a96cf7a8-59fe-4387-a7c1-4a90e08be8c7": "postal_code",
                                                        "dbe3c95e-97e9-45fa-b7c8-6a5d7593645e": "phone",
                                                        "665940e1-292b-4db5-9208-1ed28829bdc1": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61": "address",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58": "address_id",
                                                        "0f93610b-2501-4526-a583-2d3622d3caa3": "address",
                                                        "4ffb3aa4-67c6-4561-ac0b-fa6403b6b38b": "address2",
                                                        "b7f48764-d4ee-42c4-8feb-c9a19c445a42": "district",
                                                        "3ddedcb4-15ce-45ad-9dee-84b9fd356354": "city_id",
                                                        "19a568c0-6e4d-4350-b15b-6c0892bedb07": "postal_code",
                                                        "33945e74-8ae3-4639-a65a-c8861448b5e2": "phone",
                                                        "ff2af33a-7f7e-4e32-88ad-8e866c84a938": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('address_address_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "address_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "136c6d34-4fff-4c50-86fa-a3fba524a848"
                                                                }
                                                            ],
                                                            "GUID": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "145d1efa-1228-4363-b246-316a3fb337ff",
                                                                "79b7bfed-71b7-46c3-bb97-a9fda6959120",
                                                                "52ca8549-7849-461a-a2c2-cc6fcc5f6479"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "0f93610b-2501-4526-a583-2d3622d3caa3",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address2",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4ffb3aa4-67c6-4561-ac0b-fa6403b6b38b",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "address2",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "district",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "b7f48764-d4ee-42c4-8feb-c9a19c445a42",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "district",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                            "foreignField": [
                                                                "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                                "f536ace5-0164-44d8-bc88-36167f000bed"
                                                            ],
                                                            "parentRelationship": "d05a9488-f2b7-4938-b36b-b6a44eaeba3e",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "postal_code",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "19a568c0-6e4d-4350-b15b-6c0892bedb07",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "postal_code",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "phone",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 20,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "33945e74-8ae3-4639-a65a-c8861448b5e2",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "phone",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "ff2af33a-7f7e-4e32-88ad-8e866c84a938",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "address",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "27384bf9-f5ee-4e1d-ac77-9349415b74f6",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('category_category_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "category_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "9d42bae5-6ed3-47fb-844e-d5f4bcb56727"
                                                        }
                                                    ],
                                                    "GUID": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "835f95b9-bace-4c73-b56d-25649fa9bbb8"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "9972ec65-faa5-47ed-9703-7f1a53706642",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a2f57697-bde1-4cc9-be56-c32b1b3f1658",
                                            "role": {
                                                "collectionName": "category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                        "constraintName": "category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "b8de19c7-29ae-4e02-8096-c8bab7e1b9f1",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('category_category_id_seq'::regclass)",
                                                        "GUID": "b8de19c7-29ae-4e02-8096-c8bab7e1b9f1",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d03dd0f4-e0ba-481d-830d-6a3d8a197237"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 25,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "f886fffd-6e23-499f-b79e-3e5c19b24fad",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "e7afeaf4-8b75-42f6-af1f-d5b3fef40d00",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "83f092d8-0860-42b8-9537-e05fb4ce822a",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "category",
                                                        "old": "category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0cb13e4e-9259-48aa-98f0-7421d0080ff1",
                                                                "constraintName": "category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "b8de19c7-29ae-4e02-8096-c8bab7e1b9f1",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                "indxName": "category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
                                                        "b8de19c7-29ae-4e02-8096-c8bab7e1b9f1": "category_id",
                                                        "f886fffd-6e23-499f-b79e-3e5c19b24fad": "name",
                                                        "e7afeaf4-8b75-42f6-af1f-d5b3fef40d00": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "fb828408-fac5-44d8-832b-aab61f639c85": "category",
                                                        "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3": "category_id",
                                                        "e7c02480-6061-4c99-b809-039ada84757b": "name",
                                                        "9972ec65-faa5-47ed-9703-7f1a53706642": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('category_category_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "category_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "9d42bae5-6ed3-47fb-844e-d5f4bcb56727"
                                                                }
                                                            ],
                                                            "GUID": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "835f95b9-bace-4c73-b56d-25649fa9bbb8"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 25,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e7c02480-6061-4c99-b809-039ada84757b",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "9972ec65-faa5-47ed-9703-7f1a53706642",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "45045125-17a0-4bec-872a-4aa0a03ac475",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "city_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('city_city_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "city_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "d7aeb26f-3183-4ea9-b583-84a4518ebc39"
                                                        }
                                                    ],
                                                    "GUID": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "d05a9488-f2b7-4938-b36b-b6a44eaeba3e"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "city_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "67de1da6-680c-4325-bab4-106a520c9d73",
                                                    "foreignField": [
                                                        "67de1da6-680c-4325-bab4-106a520c9d73",
                                                        "140be08e-c482-4b1c-844b-6d3513837d44"
                                                    ],
                                                    "parentRelationship": "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "392738c3-600a-4498-b0d1-0073581d3ccd",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "3f151fac-d5f2-4e38-b264-ca8370332f46",
                                            "role": {
                                                "collectionName": "city",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                        "constraintName": "city_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "e8427da5-2a2d-4a9d-b621-aed4a1708eed",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "city_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('city_city_id_seq'::regclass)",
                                                        "GUID": "e8427da5-2a2d-4a9d-b621-aed4a1708eed",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "5b249fee-16bc-40e4-9fd1-2cc46c80b472"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "city_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "city",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "505a2913-366a-4efa-a020-10b5583d3002",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "city",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                        "foreignField": [
                                                            "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                            "81d960ce-34c3-4da5-a3a2-b3d093da8621"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "ca370747-62f6-4193-b985-664f68badedf",
                                                        "error": {},
                                                        "parentRelationship": "d374bba1-7534-4b1b-8812-6aa507c55623",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "c51d4638-c096-4dfa-a5d8-87863b1c1408",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "7150e8e2-aea6-4c30-b4d6-7f64b8b2fa61",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "eec1da4e-c313-4cd1-99d3-6bf4b095645e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "city",
                                                        "old": "city"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f4761962-ef2b-4069-bc2f-80f2b02ae5af",
                                                                "constraintName": "city_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "e8427da5-2a2d-4a9d-b621-aed4a1708eed",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "9c77cc96-5495-4e43-9230-6ea7147258ce",
                                                                "indxName": "city_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "be1ede0b-b2e8-43a4-acb7-ec44f018dd7a",
                                                                "indxName": "idx_fk_country_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "76a98bcc-ddb6-4f79-a906-8416aad2eb63",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "c23bff87-54ec-494a-8531-41412c3864ac",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
                                                        "e8427da5-2a2d-4a9d-b621-aed4a1708eed": "city_id",
                                                        "505a2913-366a-4efa-a020-10b5583d3002": "city",
                                                        "ca370747-62f6-4193-b985-664f68badedf": "country_id",
                                                        "c51d4638-c096-4dfa-a5d8-87863b1c1408": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "f0fa52ad-3d63-48b3-9441-37d6eb7d287a": "city",
                                                        "f536ace5-0164-44d8-bc88-36167f000bed": "city_id",
                                                        "711a3a07-b148-496c-8776-b4fbd72e7de7": "city",
                                                        "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe": "country_id",
                                                        "392738c3-600a-4498-b0d1-0073581d3ccd": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "city_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('city_city_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "city_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "d7aeb26f-3183-4ea9-b583-84a4518ebc39"
                                                                }
                                                            ],
                                                            "GUID": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "d05a9488-f2b7-4938-b36b-b6a44eaeba3e"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "city_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "city",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "city",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "67de1da6-680c-4325-bab4-106a520c9d73",
                                                            "foreignField": [
                                                                "67de1da6-680c-4325-bab4-106a520c9d73",
                                                                "140be08e-c482-4b1c-844b-6d3513837d44"
                                                            ],
                                                            "parentRelationship": "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "392738c3-600a-4498-b0d1-0073581d3ccd",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "city",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "05365d94-28a1-4c9c-b89b-acadaa09db2d",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "country",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "country_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('country_country_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "country_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "0b483be8-0f9e-48fa-bc81-2aec1f157d7d"
                                                        }
                                                    ],
                                                    "GUID": "140be08e-c482-4b1c-844b-6d3513837d44",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "country_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "670a9409-e5f0-4a6f-84f6-cf927706220f",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "8aca168e-0b28-479a-95a9-d8b578e17bd2",
                                            "role": {
                                                "collectionName": "country",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                        "constraintName": "country_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "81d960ce-34c3-4da5-a3a2-b3d093da8621",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "country_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('country_country_id_seq'::regclass)",
                                                        "GUID": "81d960ce-34c3-4da5-a3a2-b3d093da8621",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "d374bba1-7534-4b1b-8812-6aa507c55623"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "country_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "country",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "5ddd7400-711f-41cf-b7bb-ff25276766ab",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "country",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "90eccd6f-1a9a-4a40-9736-c94ef85485ea",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "a5dce883-9ad9-422c-acaf-3e578d8f21b4",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "8d07f2f0-9546-49c8-8d00-f51f54b0d71e",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "country",
                                                        "old": "country"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "cca1eb8a-31d6-4a3c-9c7d-5c3c9a62adce",
                                                                "constraintName": "country_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "81d960ce-34c3-4da5-a3a2-b3d093da8621",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "5c16d7c8-a0a7-4494-b44f-61906fadc599",
                                                                "indxName": "country_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "140be08e-c482-4b1c-844b-6d3513837d44",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "5011aefa-e643-438f-9ece-4add2108ee5f",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "b0559afe-7565-4a15-9571-1259cd7495ce",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
                                                        "81d960ce-34c3-4da5-a3a2-b3d093da8621": "country_id",
                                                        "5ddd7400-711f-41cf-b7bb-ff25276766ab": "country",
                                                        "90eccd6f-1a9a-4a40-9736-c94ef85485ea": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "67de1da6-680c-4325-bab4-106a520c9d73": "country",
                                                        "140be08e-c482-4b1c-844b-6d3513837d44": "country_id",
                                                        "84d53d33-def5-4ef7-b3b0-18119eb865f9": "country",
                                                        "670a9409-e5f0-4a6f-84f6-cf927706220f": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "country_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('country_country_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "country_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "0b483be8-0f9e-48fa-bc81-2aec1f157d7d"
                                                                }
                                                            ],
                                                            "GUID": "140be08e-c482-4b1c-844b-6d3513837d44",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "country_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "country",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "84d53d33-def5-4ef7-b3b0-18119eb865f9",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "country",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "670a9409-e5f0-4a6f-84f6-cf927706220f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "country",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1f080255-12a5-4d97-aacc-0518c5f4e215",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "customer_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "bd7089c4-8bef-4dab-ae78-3eba829d4011"
                                                        }
                                                    ],
                                                    "GUID": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "6d9597f4-024c-4de8-9359-f72d295d9508",
                                                        "0032a19b-8cac-4fc7-bc64-9f5653024e6d"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                    "foreignField": [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ],
                                                    "parentRelationship": "79b7bfed-71b7-46c3-bb97-a9fda6959120",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "create_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "date",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "('now'::text)::date",
                                                    "timePrecision": "",
                                                    "udt_name": "date",
                                                    "numberOfArrayDimensions": 0,
                                                    "GUID": "c6632dc4-0feb-44b2-a39c-3e5692648e19",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        },
                                                        "newField": {
                                                            "name": "create_date",
                                                            "type": "datetime",
                                                            "mode": "date"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "7538bdf3-706e-432f-9204-896772354d36",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "active",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "1491afe4-74d0-4fb3-8640-2973d152b205",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "active",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "718c3eb3-5072-4a93-900a-2e102cb6983e",
                                            "role": {
                                                "collectionName": "customer",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                        "constraintName": "customer_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "2ac75dae-91dc-481c-8601-c1c8b2cf5d94",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('customer_customer_id_seq'::regclass)",
                                                        "GUID": "2ac75dae-91dc-481c-8601-c1c8b2cf5d94",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                            "bb069ade-4229-4938-a44d-e3a732655054"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "7de0532d-1522-40d3-a5c9-3b468124f5ae",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "fe695ada-c4fc-4d52-9037-ebd06ae732a4",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "0a064dd4-38f1-43ba-a0a0-94c60fc1a372",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "1cdcf85f-23aa-4023-b456-b50de7bfbc95",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "3670bcad-782a-445a-bf43-74cc350f4768"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "34e204c9-1dc3-4956-8e59-c73e6dc9198a",
                                                        "error": {},
                                                        "parentRelationship": "895c41b9-14d8-4f7c-a4aa-266885a40463",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "activebool",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "9548235a-b4bb-4fad-ad65-f21ddc0edab7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "activebool",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "date",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "create_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "('now'::text)::date",
                                                        "GUID": "aab33216-bcb4-4539-98c0-ac2d38c3a857",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            },
                                                            "newField": {
                                                                "name": "create_date",
                                                                "type": "datetime",
                                                                "mode": "date"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "d0ff5554-5974-43e2-996f-00176120115e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "a9e4e84d-b03d-4122-b4e0-2655ee477244",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "816296d1-cb9e-4cbb-b5a9-cf424d00fae4",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "customer",
                                                        "old": "customer"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "beaf552c-4531-44d7-a8cc-4b5804f1ae6b",
                                                                "constraintName": "customer_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "2ac75dae-91dc-481c-8601-c1c8b2cf5d94",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                "indxName": "customer_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                "indxName": "idx_fk_address_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                "indxName": "idx_fk_store_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                "indxName": "idx_last_name",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
                                                        "2ac75dae-91dc-481c-8601-c1c8b2cf5d94": "customer_id",
                                                        "7de0532d-1522-40d3-a5c9-3b468124f5ae": "store_id",
                                                        "fe695ada-c4fc-4d52-9037-ebd06ae732a4": "first_name",
                                                        "0a064dd4-38f1-43ba-a0a0-94c60fc1a372": "last_name",
                                                        "1cdcf85f-23aa-4023-b456-b50de7bfbc95": "email",
                                                        "34e204c9-1dc3-4956-8e59-c73e6dc9198a": "address_id",
                                                        "9548235a-b4bb-4fad-ad65-f21ddc0edab7": "activebool",
                                                        "aab33216-bcb4-4539-98c0-ac2d38c3a857": "create_date",
                                                        "d0ff5554-5974-43e2-996f-00176120115e": "last_update",
                                                        "a9e4e84d-b03d-4122-b4e0-2655ee477244": "active"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e2318042-04b4-4536-84f4-daa1188f3729": "customer",
                                                        "f7052b42-b28d-41e6-98b8-ae344792d48f": "customer_id",
                                                        "4c34f860-a2f8-4a5a-9392-582b741a4a1d": "store_id",
                                                        "5ffe8c38-9032-4e8a-8765-5e81c4bde1c8": "first_name",
                                                        "c95d6f50-4afe-441b-85b7-902cc724b4a6": "last_name",
                                                        "b07be997-b987-4e18-92f6-808382727e10": "email",
                                                        "7e278ab4-3485-4a0b-83c2-87e860b5c36e": "address_id",
                                                        "ab88381d-4b9c-47b8-8551-64a24b1a1b26": "activebool",
                                                        "c6632dc4-0feb-44b2-a39c-3e5692648e19": "create_date",
                                                        "7538bdf3-706e-432f-9204-896772354d36": "last_update",
                                                        "1491afe4-74d0-4fb3-8640-2973d152b205": "active"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('customer_customer_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "customer_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "bd7089c4-8bef-4dab-ae78-3eba829d4011"
                                                                }
                                                            ],
                                                            "GUID": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "6d9597f4-024c-4de8-9359-f72d295d9508",
                                                                "0032a19b-8cac-4fc7-bc64-9f5653024e6d"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "5ffe8c38-9032-4e8a-8765-5e81c4bde1c8",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "b07be997-b987-4e18-92f6-808382727e10",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "foreignField": [
                                                                "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                                "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                            ],
                                                            "parentRelationship": "79b7bfed-71b7-46c3-bb97-a9fda6959120",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "activebool",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "ab88381d-4b9c-47b8-8551-64a24b1a1b26",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "activebool",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "create_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "date",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "('now'::text)::date",
                                                            "timePrecision": "",
                                                            "udt_name": "date",
                                                            "numberOfArrayDimensions": 0,
                                                            "GUID": "c6632dc4-0feb-44b2-a39c-3e5692648e19",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                },
                                                                "newField": {
                                                                    "name": "create_date",
                                                                    "type": "datetime",
                                                                    "mode": "date"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "7538bdf3-706e-432f-9204-896772354d36",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "1491afe4-74d0-4fb3-8640-2973d152b205",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "customer",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "5649bef3-2b39-42fa-8efc-55af7ac41f54",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "film_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                        }
                                                    ],
                                                    "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                        "0222384e-5b61-466e-b517-286113d044b4",
                                                        "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "language_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                    "foreignField": [
                                                        "eda78672-fe90-4798-b215-8c1505beff02",
                                                        "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                    ],
                                                    "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "language_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_duration",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "3",
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "rental_duration",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "length",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "length",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "special_features",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "text",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "_text",
                                                    "numberOfArrayDimensions": 1,
                                                    "timePrecision": "",
                                                    "array_type": [
                                                        {
                                                            "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                        }
                                                    ],
                                                    "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        },
                                                        "newField": {
                                                            "name": "special_features",
                                                            "type": "char",
                                                            "mode": "text"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "fulltext",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "tsvector",
                                                    "length": 10,
                                                    "childType": "char",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "tsvector",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "char"
                                                        },
                                                        "newField": {
                                                            "name": "fulltext",
                                                            "type": "char",
                                                            "mode": "tsvector"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f9dd567e-3b5f-485b-8f3c-e175ca4b79f7",
                                            "role": {
                                                "collectionName": "film",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                        "constraintName": "film_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "c65c3665-32c4-4136-868f-9f55a99cb884",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                        "GUID": "c65c3665-32c4-4136-868f-9f55a99cb884",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                            "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                            "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 255,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "title",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "56f13693-033c-41d4-92a5-6bc2dd18d151",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "title",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "description",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "6d341179-cfc7-43c7-9935-272894c73ac7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "description",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "release_year",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/year",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                        ],
                                                        "ref": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                                                        "GUID": "6ee12eb2-1a2d-4960-a3c5-bdcd853d0811",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "release_year",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                    "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "language_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "342d664e-c600-4d38-b2b8-664304037621",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "language_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_duration",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "3",
                                                        "GUID": "170266ad-2502-4870-b17b-6d4efcf28331",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "rental_duration",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_rate",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 4,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "4.99",
                                                        "GUID": "44a167e2-a16a-4e66-a5b2-df0e2f2507a4",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "rental_rate",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "length",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "216389ad-9e9e-4a27-aa57-c33e30ab0431",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "length",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "replacement_cost",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "19.99",
                                                        "GUID": "83464e54-fb30-4088-8199-5683f5ca9ce5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "replacement_cost",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "name": "rating",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "$ref": "#model/definitions/mpaa_rating",
                                                        "refType": "model",
                                                        "refIdPath": [
                                                            "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                            "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                            "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                        ],
                                                        "ref": "aef4047c-1b18-4be6-8785-760ae34f2043",
                                                        "GUID": "a1ebbf93-8f00-43f8-af1a-2fc78d2d32a3",
                                                        "type": "reference",
                                                        "hackoladeMeta": {},
                                                        "error": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                ]
                                                            },
                                                            "newField": {
                                                                "name": "rating",
                                                                "type": "reference",
                                                                "refIdPath": [
                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                    "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "9a797a18-2d91-42a2-b000-e44d167cc40e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "text",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "special_features",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "e2309a12-51e2-463b-a7fa-a098b0d26269",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            },
                                                            "newField": {
                                                                "name": "special_features",
                                                                "type": "char",
                                                                "mode": "text"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "char",
                                                        "length": 10,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "fulltext",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "53b9b396-1d6f-4de6-bc66-d3f70853fa5e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "char"
                                                            },
                                                            "newField": {
                                                                "name": "fulltext",
                                                                "type": "char",
                                                                "mode": "tsvector"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "9d1cd777-a2e0-490f-aef5-ddd65077c61d",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film",
                                                        "old": "film"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "1d5f8066-9cc7-4a41-add6-fdef7dbc12d0",
                                                                "constraintName": "film_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "c65c3665-32c4-4136-868f-9f55a99cb884",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "gist",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                "indxName": "film_fulltext_idx",
                                                                "columns": [
                                                                    {
                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                "indxName": "film_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                "indxName": "idx_fk_language_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                "indxName": "idx_title",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": "pg_catalog.\"default\"",
                                                                        "opclass": "pg_catalog.text_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                "name": "film_fulltext_trigger",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                        "triggerEvent": "INSERT"
                                                                    },
                                                                    {
                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                            },
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
                                                        "c65c3665-32c4-4136-868f-9f55a99cb884": "film_id",
                                                        "56f13693-033c-41d4-92a5-6bc2dd18d151": "title",
                                                        "6d341179-cfc7-43c7-9935-272894c73ac7": "description",
                                                        "6ee12eb2-1a2d-4960-a3c5-bdcd853d0811": "release_year",
                                                        "342d664e-c600-4d38-b2b8-664304037621": "language_id",
                                                        "170266ad-2502-4870-b17b-6d4efcf28331": "rental_duration",
                                                        "44a167e2-a16a-4e66-a5b2-df0e2f2507a4": "rental_rate",
                                                        "216389ad-9e9e-4a27-aa57-c33e30ab0431": "length",
                                                        "83464e54-fb30-4088-8199-5683f5ca9ce5": "replacement_cost",
                                                        "a1ebbf93-8f00-43f8-af1a-2fc78d2d32a3": "rating",
                                                        "9a797a18-2d91-42a2-b000-e44d167cc40e": "last_update",
                                                        "e2309a12-51e2-463b-a7fa-a098b0d26269": "special_features",
                                                        "53b9b396-1d6f-4de6-bc66-d3f70853fa5e": "fulltext"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429": "film",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526": "film_id",
                                                        "e616e414-e4cc-43d5-b56f-0c1aef54d0bd": "title",
                                                        "982161c4-c0f6-4517-aac9-7a4d50ab715f": "description",
                                                        "024ec66f-330c-44e0-9787-bb3231f6e9d0": "release_year",
                                                        "81a5c670-2699-419c-9730-c5d90bcc2dc9": "language_id",
                                                        "8c6ca4b3-8440-4afc-bc2e-3a07055bed91": "rental_duration",
                                                        "f826f8d8-7e68-42a1-8865-4cb27a3bdbda": "rental_rate",
                                                        "f5a8935f-2096-434d-b902-67ee09f58ce1": "length",
                                                        "d6f59e2b-bb03-40b8-acb5-625d2aa875ed": "replacement_cost",
                                                        "1d3819e7-a089-44bd-a969-7dca6f9939f7": "rating",
                                                        "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03": "last_update",
                                                        "fdc4cc8f-f4ac-4113-b466-b5042c37c484": "special_features",
                                                        "edd6263b-6e75-45be-9247-f6a972d6d19f": "fulltext"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('film_film_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "film_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                }
                                                            ],
                                                            "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                                "0222384e-5b61-466e-b517-286113d044b4",
                                                                "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "title",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 255,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "title",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "description",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "text",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "description",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "024ec66f-330c-44e0-9787-bb3231f6e9d0",
                                                            "type": "reference",
                                                            "name": "release_year",
                                                            "$ref": "#model/definitions/year",
                                                            "refType": "model",
                                                            "ref": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                            "refIdPath": [
                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "release_year",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "language_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                            "foreignField": [
                                                                "eda78672-fe90-4798-b215-8c1505beff02",
                                                                "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                            ],
                                                            "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "language_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_duration",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "3",
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_duration",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_rate",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "4.99",
                                                            "precision": 4,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_rate",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "length",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "length",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "replacement_cost",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "19.99",
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "d6f59e2b-bb03-40b8-acb5-625d2aa875ed",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "replacement_cost",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "GUID": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                            "type": "reference",
                                                            "name": "rating",
                                                            "$ref": "#model/definitions/mpaa_rating",
                                                            "refType": "model",
                                                            "ref": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                            "refIdPath": [
                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                            ],
                                                            "code": "",
                                                            "isActivated": true,
                                                            "required": false,
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                        "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                        "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                    ]
                                                                },
                                                                "newField": {
                                                                    "name": "rating",
                                                                    "type": "reference",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "special_features",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "text",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "_text",
                                                            "numberOfArrayDimensions": 1,
                                                            "timePrecision": "",
                                                            "array_type": [
                                                                {
                                                                    "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                                }
                                                            ],
                                                            "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                },
                                                                "newField": {
                                                                    "name": "special_features",
                                                                    "type": "char",
                                                                    "mode": "text"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "fulltext",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "tsvector",
                                                            "length": 10,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "tsvector",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "char"
                                                                },
                                                                "newField": {
                                                                    "name": "fulltext",
                                                                    "type": "char",
                                                                    "mode": "tsvector"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "31cfd3f3-9a67-41fc-b96c-489af8782b8d",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "actor_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "4a3da6f2-dd9c-4d54-bd37-15168bcd790b",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                    "foreignField": [
                                                        "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                        "6e861fe4-2954-4d49-a123-d7fce302a4e5"
                                                    ],
                                                    "parentRelationship": "8bcdfa69-5ff2-4013-894c-c56b10762b70",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "actor_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                    "foreignField": [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ],
                                                    "parentRelationship": "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "e0ed86d9-45c0-42c3-8ef9-a4e4b7c8612f",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "87dfdd06-3053-4da8-9ca2-40972649a7dc",
                                            "role": {
                                                "collectionName": "film_actor",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                        "constraintName": "film_actor_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "9824d3d9-6ede-4749-8ccb-8f52dac6b744",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "bde5b622-3d71-4241-b3be-58729a50ccb3",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "actor_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                        "foreignField": [
                                                            "598d6c54-2278-4e16-9776-ff10b7fc0049",
                                                            "528164b2-2e68-427d-b4eb-3f349225a0ac"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "9824d3d9-6ede-4749-8ccb-8f52dac6b744",
                                                        "error": {},
                                                        "parentRelationship": "3b8f74ab-376d-49fe-8808-6241fa630e32",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "actor_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "c65c3665-32c4-4136-868f-9f55a99cb884"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "bde5b622-3d71-4241-b3be-58729a50ccb3",
                                                        "error": {},
                                                        "parentRelationship": "b5042932-7c3b-4f73-afec-43ac367c7a1f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "bd949861-2521-44be-8807-ae7e574cb4f9",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "f9bf82e0-8fcb-4d6c-b024-8fa11e85959c",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "778aab3c-fb93-4786-90ff-7cbc4b08b4e0",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_actor",
                                                        "old": "film_actor"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "977622f6-d62d-4557-b850-3593804261b5",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "4a3da6f2-dd9c-4d54-bd37-15168bcd790b",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "7c6072a6-0aaf-4b73-96e7-006b0946e061",
                                                                "constraintName": "film_actor_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "9824d3d9-6ede-4749-8ccb-8f52dac6b744",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "bde5b622-3d71-4241-b3be-58729a50ccb3",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "a6936570-4b5f-411e-bc1d-6bc021823775",
                                                                "indxName": "film_actor_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "4a3da6f2-dd9c-4d54-bd37-15168bcd790b",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "8c421e72-e174-4800-a67f-c4a667231737",
                                                                "indxName": "idx_fk_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "1c8ed073-2655-4171-b231-c93aa7512d77",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "e1ad4b89-afe2-4edf-a56c-97b80aa7ca23",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
                                                        "9824d3d9-6ede-4749-8ccb-8f52dac6b744": "actor_id",
                                                        "bde5b622-3d71-4241-b3be-58729a50ccb3": "film_id",
                                                        "bd949861-2521-44be-8807-ae7e574cb4f9": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "76b9bf06-5120-44ea-885c-41b95b0ea6f7": "film_actor",
                                                        "4a3da6f2-dd9c-4d54-bd37-15168bcd790b": "actor_id",
                                                        "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b": "film_id",
                                                        "e0ed86d9-45c0-42c3-8ef9-a4e4b7c8612f": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "actor_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4a3da6f2-dd9c-4d54-bd37-15168bcd790b",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "foreignField": [
                                                                "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                                "6e861fe4-2954-4d49-a123-d7fce302a4e5"
                                                            ],
                                                            "parentRelationship": "8bcdfa69-5ff2-4013-894c-c56b10762b70",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "actor_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "foreignField": [
                                                                "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                            ],
                                                            "parentRelationship": "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "e0ed86d9-45c0-42c3-8ef9-a4e4b7c8612f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_actor",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "896cd3ff-0221-485b-9912-3c9ef8d7fa98",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "3ed2da86-be1f-40ad-9e9a-d8841afdb190",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                    "foreignField": [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ],
                                                    "parentRelationship": "0222384e-5b61-466e-b517-286113d044b4",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "category_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": true,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "2f8c81f8-bb75-44a1-a6d7-90d2ab868382",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                    "foreignField": [
                                                        "fb828408-fac5-44d8-832b-aab61f639c85",
                                                        "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3"
                                                    ],
                                                    "parentRelationship": "835f95b9-bace-4c73-b56d-25649fa9bbb8",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "category_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "84bb97a2-8520-472d-a1ee-e907649f0bff",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "9b4adc46-f7df-409d-9d6b-0982eeac6797",
                                            "role": {
                                                "collectionName": "film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                        "constraintName": "film_category_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "074c7c85-a263-42a5-851a-024ad0b007c9",
                                                                "type": ""
                                                            },
                                                            {
                                                                "keyId": "f1546cd3-fb88-411b-9f69-5ba35b9939b1",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "c65c3665-32c4-4136-868f-9f55a99cb884"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "074c7c85-a263-42a5-851a-024ad0b007c9",
                                                        "error": {},
                                                        "parentRelationship": "fd86f209-5a4b-4ea7-b035-f61e8f5c2380",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "category_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                        "foreignField": [
                                                            "2c2f066f-cb66-4247-b9ae-f8defe49f589",
                                                            "b8de19c7-29ae-4e02-8096-c8bab7e1b9f1"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "f1546cd3-fb88-411b-9f69-5ba35b9939b1",
                                                        "error": {},
                                                        "parentRelationship": "d03dd0f4-e0ba-481d-830d-6a3d8a197237",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "category_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "4a153ca3-82e0-4c3c-9723-bdbfab48a471",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "da53be61-a9e9-4854-b605-d793a0cbefc5",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "fe5a1aab-f5e2-4eec-8d67-edf3f2243110",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "film_category",
                                                        "old": "film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [
                                                            {
                                                                "GUID": "182ee235-2812-4eb8-b019-9fcf5c6659d3",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "3ed2da86-be1f-40ad-9e9a-d8841afdb190",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "2f8c81f8-bb75-44a1-a6d7-90d2ab868382",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ],
                                                        "old": [
                                                            {
                                                                "GUID": "4ee6686f-2e32-435e-8c9e-9ed6e29fbf48",
                                                                "constraintName": "film_category_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "074c7c85-a263-42a5-851a-024ad0b007c9",
                                                                        "type": ""
                                                                    },
                                                                    {
                                                                        "keyId": "f1546cd3-fb88-411b-9f69-5ba35b9939b1",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "23251eb0-ddc4-4e2b-af78-ec8b214af9f0",
                                                                "indxName": "film_category_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "3ed2da86-be1f-40ad-9e9a-d8841afdb190",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "2f8c81f8-bb75-44a1-a6d7-90d2ab868382",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "2d683893-f21a-4e50-ba83-fc030b0d85f8",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "560d9bd7-a196-4d30-a368-55123e73a04c",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
                                                        "074c7c85-a263-42a5-851a-024ad0b007c9": "film_id",
                                                        "f1546cd3-fb88-411b-9f69-5ba35b9939b1": "category_id",
                                                        "4a153ca3-82e0-4c3c-9723-bdbfab48a471": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "1ed41ec5-a728-49c5-ae0e-05c0859d4868": "film_category",
                                                        "3ed2da86-be1f-40ad-9e9a-d8841afdb190": "film_id",
                                                        "2f8c81f8-bb75-44a1-a6d7-90d2ab868382": "category_id",
                                                        "84bb97a2-8520-472d-a1ee-e907649f0bff": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "3ed2da86-be1f-40ad-9e9a-d8841afdb190",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "foreignField": [
                                                                "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                            ],
                                                            "parentRelationship": "0222384e-5b61-466e-b517-286113d044b4",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "category_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": true,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2f8c81f8-bb75-44a1-a6d7-90d2ab868382",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                            "foreignField": [
                                                                "fb828408-fac5-44d8-832b-aab61f639c85",
                                                                "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3"
                                                            ],
                                                            "parentRelationship": "835f95b9-bace-4c73-b56d-25649fa9bbb8",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "category_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "84bb97a2-8520-472d-a1ee-e907649f0bff",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "film_category",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "04c579ac-2140-454e-bb50-bb33e00080db",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "inventory",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "inventory_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "cba740b9-8856-4fa9-a746-c966ca619aef"
                                                        }
                                                    ],
                                                    "GUID": "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "55220fe8-d799-444e-a2b4-aba4ae898ab6"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "film_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                    "foreignField": [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ],
                                                    "parentRelationship": "a0f9aa70-7439-42d1-a67a-8606beb96f9a",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "film_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7d3b2513-a4ac-446c-8fdf-e87c6e5f63cb",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "4a2a8a23-6a4c-4990-9ae1-ff96b2e4429d",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "5eb4e54c-117f-4d4b-b55a-91391394a88b",
                                            "role": {
                                                "collectionName": "inventory",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                        "constraintName": "inventory_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "3fad5b9a-93e9-4ee8-b22f-b3ae17596df8",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                        "GUID": "3fad5b9a-93e9-4ee8-b22f-b3ae17596df8",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "7e0103a3-1f38-493a-aa5a-86fa4266ffc4"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "film_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                        "foreignField": [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "c65c3665-32c4-4136-868f-9f55a99cb884"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "4b54c2e5-2831-4431-8142-b0694e1d5403",
                                                        "error": {},
                                                        "parentRelationship": "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "film_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "e2b8826f-b379-4285-a6b1-97d11dc6b90d",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "d4e2d92c-dcc3-46cc-ad50-1cbb269d8758",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "03d976be-32cd-4827-acf9-0e904b993573",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "inventory",
                                                        "old": "inventory"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bb63ce69-b922-44e8-ac9c-d1d5b0e9a489",
                                                                "constraintName": "inventory_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "3fad5b9a-93e9-4ee8-b22f-b3ae17596df8",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "27b0abcc-99f8-46a7-8429-c7408c8722c4",
                                                                "indxName": "idx_store_id_film_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "7d3b2513-a4ac-446c-8fdf-e87c6e5f63cb",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "291f914f-0619-462e-856f-9afe1d0ba91f",
                                                                "indxName": "inventory_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "fe2abe01-5392-4a75-a3d3-a6d7fd59533b",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "d79c875c-845e-4909-acfa-32b0e068a2d9",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
                                                        "3fad5b9a-93e9-4ee8-b22f-b3ae17596df8": "inventory_id",
                                                        "4b54c2e5-2831-4431-8142-b0694e1d5403": "film_id",
                                                        "e2b8826f-b379-4285-a6b1-97d11dc6b90d": "store_id",
                                                        "d4e2d92c-dcc3-46cc-ad50-1cbb269d8758": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "48b058a1-8b14-46e4-a37a-684eba95991e": "inventory",
                                                        "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f": "inventory_id",
                                                        "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49": "film_id",
                                                        "7d3b2513-a4ac-446c-8fdf-e87c6e5f63cb": "store_id",
                                                        "4a2a8a23-6a4c-4990-9ae1-ff96b2e4429d": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('inventory_inventory_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "inventory_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "cba740b9-8856-4fa9-a746-c966ca619aef"
                                                                }
                                                            ],
                                                            "GUID": "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "55220fe8-d799-444e-a2b4-aba4ae898ab6"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "film_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "foreignField": [
                                                                "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                            ],
                                                            "parentRelationship": "a0f9aa70-7439-42d1-a67a-8606beb96f9a",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "film_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7d3b2513-a4ac-446c-8fdf-e87c6e5f63cb",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "4a2a8a23-6a4c-4990-9ae1-ff96b2e4429d",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "inventory",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "306d510e-90cb-4dda-89a5-e80209d67596",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "payment_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('payment_payment_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "payment_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "bb6738ef-b9d3-48b2-bb20-1dc46f3c0e6f"
                                                        }
                                                    ],
                                                    "GUID": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "payment_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                    "foreignField": [
                                                        "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                    ],
                                                    "parentRelationship": "0032a19b-8cac-4fc7-bc64-9f5653024e6d",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                    "foreignField": [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ],
                                                    "parentRelationship": "68d4da5c-088b-43c9-8831-af9093fd0cf0",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                    "foreignField": [
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                        "726334a9-afda-4a51-886f-4023d745b205"
                                                    ],
                                                    "parentRelationship": "5c14f9ec-64f8-4f54-9249-65d5b1a7400a",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "payment_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "27e14ccf-4861-45ee-afa4-3b9cb3896499",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "payment_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "be9f1f44-a09d-4ad2-94cc-5d71ba770570",
                                            "role": {
                                                "collectionName": "payment",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                        "constraintName": "payment_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "4fd149c6-9fd0-40c8-9b1b-37fc4f1d2ef2",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('payment_payment_id_seq'::regclass)",
                                                        "GUID": "4fd149c6-9fd0-40c8-9b1b-37fc4f1d2ef2",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "payment_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "2ac75dae-91dc-481c-8601-c1c8b2cf5d94"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "c92b70d4-48b8-4107-805a-6b9b8c48fa8c",
                                                        "error": {},
                                                        "parentRelationship": "bb069ade-4229-4938-a44d-e3a732655054",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "47369680-7f0f-4f2c-a1c4-e6047a7f7476"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "a3c4d6eb-1d8f-4c76-b58b-4b94e4da951a",
                                                        "error": {},
                                                        "parentRelationship": "0efc6208-cac1-4e6c-8ec7-f48a71ad5742",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                        "foreignField": [
                                                            "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                            "8d0d95c9-b5b9-41b8-bcfb-c2cc4272811b"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "b952ebc2-7c5f-42b6-9fd9-24660be2fbdf",
                                                        "error": {},
                                                        "parentRelationship": "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "numeric",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "amount",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "precision": 5,
                                                        "scale": 2,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "08ec41c4-13fe-4a92-a8ac-6299d08cfb4a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            },
                                                            "newField": {
                                                                "name": "amount",
                                                                "type": "numeric",
                                                                "mode": "numeric"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "payment_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "0de528f0-3798-4f81-95e0-7a0c64fa8af5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "payment_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "333cccc4-d728-40bc-82e9-3b4641489298",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "9fe85521-30b3-4ab0-af6d-72071b837174",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "payment",
                                                        "old": "payment"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "c482aa92-1588-4041-9c55-96c9931facb0",
                                                                "constraintName": "payment_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "4fd149c6-9fd0-40c8-9b1b-37fc4f1d2ef2",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "272989da-8215-4ba7-947e-451d97944da6",
                                                                "indxName": "idx_fk_customer_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "25d41653-b43b-4a87-b02f-4b48fb523025",
                                                                "indxName": "idx_fk_rental_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "4c378c29-1192-480a-b3eb-f571bbcd7197",
                                                                "indxName": "idx_fk_staff_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "7937dda8-19b2-45d2-aee1-0cef69730097",
                                                                "indxName": "payment_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
                                                        "4fd149c6-9fd0-40c8-9b1b-37fc4f1d2ef2": "payment_id",
                                                        "c92b70d4-48b8-4107-805a-6b9b8c48fa8c": "customer_id",
                                                        "a3c4d6eb-1d8f-4c76-b58b-4b94e4da951a": "staff_id",
                                                        "b952ebc2-7c5f-42b6-9fd9-24660be2fbdf": "rental_id",
                                                        "08ec41c4-13fe-4a92-a8ac-6299d08cfb4a": "amount",
                                                        "0de528f0-3798-4f81-95e0-7a0c64fa8af5": "payment_date"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3": "payment",
                                                        "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7": "payment_id",
                                                        "8365ab97-2a9c-4734-8471-7abce6522b41": "customer_id",
                                                        "a7e4555b-416d-4602-9afa-5a02855275a3": "staff_id",
                                                        "eac35d0b-c783-4497-bdc4-a4f99811216c": "rental_id",
                                                        "405c4a5f-7497-45cb-b1d5-9ced11af558f": "amount",
                                                        "27e14ccf-4861-45ee-afa4-3b9cb3896499": "payment_date"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "payment_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('payment_payment_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "payment_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "bb6738ef-b9d3-48b2-bb20-1dc46f3c0e6f"
                                                                }
                                                            ],
                                                            "GUID": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "foreignField": [
                                                                "e2318042-04b4-4536-84f4-daa1188f3729",
                                                                "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                            ],
                                                            "parentRelationship": "0032a19b-8cac-4fc7-bc64-9f5653024e6d",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "foreignField": [
                                                                "0eae89ab-ba68-4b36-9912-21627935998f",
                                                                "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                            ],
                                                            "parentRelationship": "68d4da5c-088b-43c9-8831-af9093fd0cf0",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                            "foreignField": [
                                                                "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                                "726334a9-afda-4a51-886f-4023d745b205"
                                                            ],
                                                            "parentRelationship": "5c14f9ec-64f8-4f54-9249-65d5b1a7400a",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "amount",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "numeric",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 5,
                                                            "scale": 2,
                                                            "udt_name": "numeric",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "405c4a5f-7497-45cb-b1d5-9ced11af558f",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                },
                                                                "newField": {
                                                                    "name": "amount",
                                                                    "type": "numeric",
                                                                    "mode": "numeric"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "payment_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "27e14ccf-4861-45ee-afa4-3b9cb3896499",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "payment_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "payment",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "28177d45-43bc-4c10-9e01-3fa8bfae07fe",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "rental_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('rental_rental_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "rental_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "bfce5b10-43d4-4768-a945-3fada0b03665"
                                                        }
                                                    ],
                                                    "GUID": "726334a9-afda-4a51-886f-4023d745b205",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "5c14f9ec-64f8-4f54-9249-65d5b1a7400a"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "rental_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "rental_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "15f8e37f-2415-4b5d-a823-5ab5622f2e73",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "rental_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "inventory_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "9b0c073b-fcfc-4446-855c-77060e91e9ca",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                    "foreignField": [
                                                        "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                        "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f"
                                                    ],
                                                    "parentRelationship": "55220fe8-d799-444e-a2b4-aba4ae898ab6",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "inventory_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "customer_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "6ab619f9-0e0d-4227-b22d-05d3d402d143",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                    "foreignField": [
                                                        "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                    ],
                                                    "parentRelationship": "6d9597f4-024c-4de8-9359-f72d295d9508",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "customer_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "return_date",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "3ae2f428-bf72-44e6-b218-f720e119accf",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "return_date",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "7e3f2e27-8338-4e68-bf5f-68ffd199e3bb",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                    "foreignField": [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ],
                                                    "parentRelationship": "8f65aec7-228a-4cd0-a556-6ddb90c2a039",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "18f27ea0-61e8-4f9b-b97a-7689a4cf736a",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "8604f49e-61d0-4aaa-868c-1b237620ffff",
                                            "role": {
                                                "collectionName": "rental",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                        "constraintName": "rental_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "8d0d95c9-b5b9-41b8-bcfb-c2cc4272811b",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('rental_rental_id_seq'::regclass)",
                                                        "GUID": "8d0d95c9-b5b9-41b8-bcfb-c2cc4272811b",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "rental_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "rental_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "9e4fcdd4-e469-4b46-8e80-6186ddcc397e",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "rental_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "inventory_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                        "foreignField": [
                                                            "f29c19d2-bda9-4560-bb22-439e8789d495",
                                                            "3fad5b9a-93e9-4ee8-b22f-b3ae17596df8"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "3c3acb58-5e74-42c1-934b-fb90ec353301",
                                                        "error": {},
                                                        "parentRelationship": "7e0103a3-1f38-493a-aa5a-86fa4266ffc4",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "inventory_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "customer_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                        "foreignField": [
                                                            "9ffbb409-fe3e-425b-91b7-c63908114dac",
                                                            "2ac75dae-91dc-481c-8601-c1c8b2cf5d94"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "eaccf7e2-992a-40e5-ad49-0d3ec9a609e2",
                                                        "error": {},
                                                        "parentRelationship": "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "customer_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "return_date",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "a57638a6-8e71-41fd-9b92-605233648105",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "return_date",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "47369680-7f0f-4f2c-a1c4-e6047a7f7476"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "64029243-df0a-405e-84df-be1fad39bcb3",
                                                        "error": {},
                                                        "parentRelationship": "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "6033505d-e3e0-454e-89b6-6037b5c66cb8",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "74c6463c-9116-431c-98ac-51943c12dca3",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "3090385d-d8f0-4b82-9df0-35bfe792ec63",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "rental",
                                                        "old": "rental"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "0b53bbd9-aa76-4547-a137-1c4496c5f771",
                                                                "constraintName": "rental_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "8d0d95c9-b5b9-41b8-bcfb-c2cc4272811b",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "0c8875ce-cfa8-4642-b1f4-ae4b08bca9cc",
                                                                "indxName": "idx_fk_inventory_id",
                                                                "unique": false,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "9b0c073b-fcfc-4446-855c-77060e91e9ca",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "d80654c7-4736-4018-8409-f5b5a2df3546",
                                                                "indxName": "idx_unq_rental_rental_date_inventory_id_customer_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "15f8e37f-2415-4b5d-a823-5ab5622f2e73",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.timestamp_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "9b0c073b-fcfc-4446-855c-77060e91e9ca",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    },
                                                                    {
                                                                        "keyId": "6ab619f9-0e0d-4227-b22d-05d3d402d143",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "169a525e-7201-4b96-9b98-87e83750bd21",
                                                                "indxName": "rental_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "726334a9-afda-4a51-886f-4023d745b205",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "db0cd930-47de-475a-9a09-8b7677644fdd",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "36f563f1-922b-4c15-b222-f56c1d3db68c",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
                                                        "8d0d95c9-b5b9-41b8-bcfb-c2cc4272811b": "rental_id",
                                                        "9e4fcdd4-e469-4b46-8e80-6186ddcc397e": "rental_date",
                                                        "3c3acb58-5e74-42c1-934b-fb90ec353301": "inventory_id",
                                                        "eaccf7e2-992a-40e5-ad49-0d3ec9a609e2": "customer_id",
                                                        "a57638a6-8e71-41fd-9b92-605233648105": "return_date",
                                                        "64029243-df0a-405e-84df-be1fad39bcb3": "staff_id",
                                                        "6033505d-e3e0-454e-89b6-6037b5c66cb8": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291": "rental",
                                                        "726334a9-afda-4a51-886f-4023d745b205": "rental_id",
                                                        "15f8e37f-2415-4b5d-a823-5ab5622f2e73": "rental_date",
                                                        "9b0c073b-fcfc-4446-855c-77060e91e9ca": "inventory_id",
                                                        "6ab619f9-0e0d-4227-b22d-05d3d402d143": "customer_id",
                                                        "3ae2f428-bf72-44e6-b218-f720e119accf": "return_date",
                                                        "7e3f2e27-8338-4e68-bf5f-68ffd199e3bb": "staff_id",
                                                        "18f27ea0-61e8-4f9b-b97a-7689a4cf736a": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "rental_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('rental_rental_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "rental_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "bfce5b10-43d4-4768-a945-3fada0b03665"
                                                                }
                                                            ],
                                                            "GUID": "726334a9-afda-4a51-886f-4023d745b205",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "5c14f9ec-64f8-4f54-9249-65d5b1a7400a"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "rental_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "15f8e37f-2415-4b5d-a823-5ab5622f2e73",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "rental_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "inventory_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "9b0c073b-fcfc-4446-855c-77060e91e9ca",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                            "foreignField": [
                                                                "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                                "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f"
                                                            ],
                                                            "parentRelationship": "55220fe8-d799-444e-a2b4-aba4ae898ab6",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "inventory_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "customer_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "6ab619f9-0e0d-4227-b22d-05d3d402d143",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "foreignField": [
                                                                "e2318042-04b4-4536-84f4-daa1188f3729",
                                                                "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                            ],
                                                            "parentRelationship": "6d9597f4-024c-4de8-9359-f72d295d9508",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "customer_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "return_date",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "3ae2f428-bf72-44e6-b218-f720e119accf",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "return_date",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "7e3f2e27-8338-4e68-bf5f-68ffd199e3bb",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "foreignField": [
                                                                "0eae89ab-ba68-4b36-9912-21627935998f",
                                                                "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                            ],
                                                            "parentRelationship": "8f65aec7-228a-4cd0-a556-6ddb90c2a039",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "18f27ea0-61e8-4f9b-b97a-7689a4cf736a",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "rental",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "94a954a0-f4a0-414d-a549-157cfd497ba3",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "staff_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "b0168d10-2f65-4b74-a659-f08ac3e23aba"
                                                        }
                                                    ],
                                                    "GUID": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                    "required": true,
                                                    "childRelationships": [
                                                        "748305f2-b025-4b93-a4ec-e1327bbf8ebd",
                                                        "8f65aec7-228a-4cd0-a556-6ddb90c2a039",
                                                        "68d4da5c-088b-43c9-8831-af9093fd0cf0"
                                                    ],
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "staff_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "8f561e0b-38dc-49a4-a4d1-3d7fe3bdc469",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                    "foreignField": [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ],
                                                    "parentRelationship": "52ca8549-7849-461a-a2c2-cc6fcc5f6479",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "2df6e177-d945-4997-97fd-74c5f3633ae1",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "f9e52e96-f7a7-4a1f-8b93-0a66da121f2a",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "picture",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "bytea",
                                                    "length": 10,
                                                    "childType": "binary",
                                                    "type": "binary",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "udt_name": "bytea",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "e8b26dae-0c7d-4e35-9aac-1dbbe1333efb",
                                                    "required": false,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        },
                                                        "newField": {
                                                            "name": "picture",
                                                            "type": "binary",
                                                            "mode": "bytea"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "6efb9b0e-8705-4e9a-a6c8-fa3d73399410",
                                            "role": {
                                                "collectionName": "staff",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                        "constraintName": "staff_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "47369680-7f0f-4f2c-a1c4-e6047a7f7476",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('staff_staff_id_seq'::regclass)",
                                                        "GUID": "47369680-7f0f-4f2c-a1c4-e6047a7f7476",
                                                        "error": {},
                                                        "childRelationships": [
                                                            "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                            "1176da73-580a-44d1-bb64-b194cfe0c480",
                                                            "0efc6208-cac1-4e6c-8ec7-f48a71ad5742"
                                                        ],
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "staff_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "first_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "d76ceef1-df8a-4723-bb13-943737377378",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "first_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 45,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_name",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "091aec40-e653-4b94-a4d6-aea4807150d4",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "last_name",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "3670bcad-782a-445a-bf43-74cc350f4768"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "c05e113d-9c46-4317-a9b1-2d21a67a7f66",
                                                        "error": {},
                                                        "parentRelationship": "de5d6fab-0969-4e75-8d15-13e259c84972",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 50,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "email",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "ebba8be9-da6d-4ff6-8d16-a36afeb03dfa",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "email",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "4efacf76-d0db-4647-9ead-428c5f12bbc7",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "childType": "boolean",
                                                        "type": "boolean",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "name": "active",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "default": "true",
                                                        "GUID": "ba6cb230-7c5b-4273-9c78-3cd452c78347",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            },
                                                            "newField": {
                                                                "name": "active",
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 16,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "username",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "GUID": "fe6e1f13-a5bf-4bf9-a18e-4cad41e8dbf3",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "username",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "varchar",
                                                        "length": 40,
                                                        "childType": "char",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "password",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "6c9a5f11-35ff-4285-8edc-38ed373b0e4a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            },
                                                            "newField": {
                                                                "name": "password",
                                                                "type": "char",
                                                                "mode": "varchar"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "c48c1492-857f-4c24-ae3a-8b0c18094d42",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "bytea",
                                                        "childType": "binary",
                                                        "type": "binary",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "picture",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": false,
                                                        "unique": false,
                                                        "GUID": "71d31e55-8ecc-497e-96d6-7b888762ebb5",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            },
                                                            "newField": {
                                                                "name": "picture",
                                                                "type": "binary",
                                                                "mode": "bytea"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "83888e87-60c8-431a-b1a0-de4fcd02030a",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "606710fd-3963-4876-894f-4a67c06a802d",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "staff",
                                                        "old": "staff"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "storage_parameter": {
                                                        "new": {
                                                            "GUID": "baf47656-82b7-47f4-bc3f-cf21d449af88"
                                                        }
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "bfa3343a-15bb-4ea0-8062-6b1c8fab243c",
                                                                "constraintName": "staff_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "47369680-7f0f-4f2c-a1c4-e6047a7f7476",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "3fcd501a-4e49-45e1-a8a7-77fedc0dd236",
                                                                "indxName": "staff_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "7e9029e5-e2d9-489e-8660-40a46dd1e3e6",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "0d57d803-e697-4681-a50f-61ab89a7e494",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
                                                        "47369680-7f0f-4f2c-a1c4-e6047a7f7476": "staff_id",
                                                        "d76ceef1-df8a-4723-bb13-943737377378": "first_name",
                                                        "091aec40-e653-4b94-a4d6-aea4807150d4": "last_name",
                                                        "c05e113d-9c46-4317-a9b1-2d21a67a7f66": "address_id",
                                                        "ebba8be9-da6d-4ff6-8d16-a36afeb03dfa": "email",
                                                        "4efacf76-d0db-4647-9ead-428c5f12bbc7": "store_id",
                                                        "ba6cb230-7c5b-4273-9c78-3cd452c78347": "active",
                                                        "fe6e1f13-a5bf-4bf9-a18e-4cad41e8dbf3": "username",
                                                        "6c9a5f11-35ff-4285-8edc-38ed373b0e4a": "password",
                                                        "c48c1492-857f-4c24-ae3a-8b0c18094d42": "last_update",
                                                        "71d31e55-8ecc-497e-96d6-7b888762ebb5": "picture"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "0eae89ab-ba68-4b36-9912-21627935998f": "staff",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf": "staff_id",
                                                        "d713402c-31a0-4fc7-aff0-0c7a60b9aee9": "first_name",
                                                        "4f4f2215-d71d-49b0-8fa7-a07160701b2a": "last_name",
                                                        "8f561e0b-38dc-49a4-a4d1-3d7fe3bdc469": "address_id",
                                                        "e1b49ea6-a1f6-4081-bd41-77e02729db8e": "email",
                                                        "2df6e177-d945-4997-97fd-74c5f3633ae1": "store_id",
                                                        "62268b04-4252-4ad7-aa5f-dff9bd16ce4a": "active",
                                                        "509e0bc9-0025-4fca-a8dd-c902ff14f95b": "username",
                                                        "943ba7e4-b38d-4b8c-ac2d-d725fe399df2": "password",
                                                        "f9e52e96-f7a7-4a1f-8b93-0a66da121f2a": "last_update",
                                                        "e8b26dae-0c7d-4e35-9aac-1dbbe1333efb": "picture"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('staff_staff_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "staff_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "b0168d10-2f65-4b74-a659-f08ac3e23aba"
                                                                }
                                                            ],
                                                            "GUID": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                            "required": true,
                                                            "childRelationships": [
                                                                "748305f2-b025-4b93-a4ec-e1327bbf8ebd",
                                                                "8f65aec7-228a-4cd0-a556-6ddb90c2a039",
                                                                "68d4da5c-088b-43c9-8831-af9093fd0cf0"
                                                            ],
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "first_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "d713402c-31a0-4fc7-aff0-0c7a60b9aee9",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "first_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_name",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 45,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "4f4f2215-d71d-49b0-8fa7-a07160701b2a",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "last_name",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "8f561e0b-38dc-49a4-a4d1-3d7fe3bdc469",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "foreignField": [
                                                                "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                                "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                            ],
                                                            "parentRelationship": "52ca8549-7849-461a-a2c2-cc6fcc5f6479",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "email",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 50,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e1b49ea6-a1f6-4081-bd41-77e02729db8e",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "email",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "2df6e177-d945-4997-97fd-74c5f3633ae1",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "active",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "childType": "boolean",
                                                            "type": "boolean",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "true",
                                                            "udt_name": "bool",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "62268b04-4252-4ad7-aa5f-dff9bd16ce4a",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                },
                                                                "newField": {
                                                                    "name": "active",
                                                                    "type": "boolean"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "username",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 16,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "509e0bc9-0025-4fca-a8dd-c902ff14f95b",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "username",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "password",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "varchar",
                                                            "length": 40,
                                                            "childType": "char",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "varchar",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "943ba7e4-b38d-4b8c-ac2d-d725fe399df2",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                },
                                                                "newField": {
                                                                    "name": "password",
                                                                    "type": "char",
                                                                    "mode": "varchar"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "f9e52e96-f7a7-4a1f-8b93-0a66da121f2a",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "picture",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "bytea",
                                                            "length": 10,
                                                            "childType": "binary",
                                                            "type": "binary",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "udt_name": "bytea",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "e8b26dae-0c7d-4e35-9aac-1dbbe1333efb",
                                                            "required": false,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                },
                                                                "newField": {
                                                                    "name": "picture",
                                                                    "type": "binary",
                                                                    "mode": "bytea"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "staff",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "3629f530-eeb1-4d73-9686-8d9e139edaa8",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [
                                                {
                                                    "code": "",
                                                    "name": "store_id",
                                                    "isActivated": true,
                                                    "primaryKey": true,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "integer",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "nextval('store_store_id_seq'::regclass)",
                                                    "precision": 32,
                                                    "scale": 0,
                                                    "udt_name": "int4",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "primaryKeyOptions": [
                                                        {
                                                            "constraintName": "store_pkey",
                                                            "indexStorageParameters": "",
                                                            "indexTablespace": null,
                                                            "GUID": "4e50efdf-d865-4fb9-8a97-442974922cc9"
                                                        }
                                                    ],
                                                    "GUID": "95c392eb-6fa1-477a-bd52-9ce6304194be",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        },
                                                        "newField": {
                                                            "name": "store_id",
                                                            "type": "numeric",
                                                            "mode": "integer"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "manager_staff_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "fb7e5543-83c5-4627-9f5d-ffb20f49decf",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                    "foreignField": [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ],
                                                    "parentRelationship": "748305f2-b025-4b93-a4ec-e1327bbf8ebd",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "manager_staff_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "address_id",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "exclusiveMinimum": false,
                                                    "exclusiveMaximum": false,
                                                    "mode": "smallint",
                                                    "childType": "numeric",
                                                    "type": "numeric",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "precision": 16,
                                                    "scale": 0,
                                                    "udt_name": "int2",
                                                    "numberOfArrayDimensions": 0,
                                                    "timePrecision": "",
                                                    "GUID": "67e67292-afbe-41fa-ae6f-892d4150c45a",
                                                    "required": true,
                                                    "relationshipType": "Foreign Key",
                                                    "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                    "foreignField": [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ],
                                                    "parentRelationship": "145d1efa-1228-4363-b246-316a3fb337ff",
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        },
                                                        "newField": {
                                                            "name": "address_id",
                                                            "type": "numeric",
                                                            "mode": "smallint"
                                                        }
                                                    }
                                                },
                                                {
                                                    "code": "",
                                                    "name": "last_update",
                                                    "isActivated": true,
                                                    "primaryKey": false,
                                                    "unique": false,
                                                    "mode": "timestamp",
                                                    "scale": 7,
                                                    "childType": "datetime",
                                                    "type": "string",
                                                    "compositeKey": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "compositePartitionKey": false,
                                                    "compositePrimaryKey": false,
                                                    "compositeUniqueKey": false,
                                                    "triggerUpdateColumns": false,
                                                    "default": "now()",
                                                    "timePrecision": "",
                                                    "udt_name": "timestamp",
                                                    "numberOfArrayDimensions": 0,
                                                    "timezone": "WITHOUT TIME ZONE",
                                                    "GUID": "05f31a5f-c352-4f1f-bc9b-d3b806fd2f9b",
                                                    "required": true,
                                                    "error": {},
                                                    "compMod": {
                                                        "oldField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        },
                                                        "newField": {
                                                            "name": "last_update",
                                                            "type": "datetime",
                                                            "mode": "timestamp"
                                                        }
                                                    }
                                                }
                                            ],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "54f25b5e-8d31-4e8a-8603-7ea7fae06adf",
                                            "role": {
                                                "collectionName": "store",
                                                "code": "",
                                                "isActivated": true,
                                                "additionalProperties": true,
                                                "primaryKey": [
                                                    {
                                                        "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                        "constraintName": "store_pkey",
                                                        "compositePrimaryKey": [
                                                            {
                                                                "keyId": "2285adbd-180e-4873-9e2d-19bc915c093a",
                                                                "type": ""
                                                            }
                                                        ],
                                                        "indexStorageParameters": "",
                                                        "indexTablespace": null
                                                    }
                                                ],
                                                "uniqueKey": [],
                                                "properties": [
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": true,
                                                        "mode": "integer",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": true,
                                                        "compositeUniqueKey": false,
                                                        "name": "store_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "nextval('store_store_id_seq'::regclass)",
                                                        "GUID": "2285adbd-180e-4873-9e2d-19bc915c093a",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            },
                                                            "newField": {
                                                                "name": "store_id",
                                                                "type": "numeric",
                                                                "mode": "integer"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "manager_staff_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "606710fd-3963-4876-894f-4a67c06a802d",
                                                        "foreignField": [
                                                            "606710fd-3963-4876-894f-4a67c06a802d",
                                                            "47369680-7f0f-4f2c-a1c4-e6047a7f7476"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "35fb25df-3033-460c-9066-a10265dd852f",
                                                        "error": {},
                                                        "parentRelationship": "f9b0f681-a0da-4772-a56f-7635f3edea6a",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "manager_staff_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "exclusiveMinimum": false,
                                                        "exclusiveMaximum": false,
                                                        "primaryKey": false,
                                                        "mode": "smallint",
                                                        "childType": "numeric",
                                                        "type": "numeric",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "address_id",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "foreignCollection": "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                        "foreignField": [
                                                            "3aa8ab42-ca75-4e26-af78-c27ffae0b39d",
                                                            "3670bcad-782a-445a-bf43-74cc350f4768"
                                                        ],
                                                        "relationshipType": "Foreign Key",
                                                        "GUID": "75dc7d5e-909d-4d09-b51b-900f1a7fddb6",
                                                        "error": {},
                                                        "parentRelationship": "e538fb3b-8473-4562-8f5a-0eb51f93247f",
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            },
                                                            "newField": {
                                                                "name": "address_id",
                                                                "type": "numeric",
                                                                "mode": "smallint"
                                                            }
                                                        }
                                                    },
                                                    {
                                                        "primaryKey": false,
                                                        "mode": "timestamp",
                                                        "childType": "datetime",
                                                        "type": "string",
                                                        "compositeKey": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "compositePrimaryKey": false,
                                                        "compositeUniqueKey": false,
                                                        "name": "last_update",
                                                        "code": "",
                                                        "isActivated": true,
                                                        "required": true,
                                                        "unique": false,
                                                        "default": "now()",
                                                        "GUID": "d804c348-810a-4a54-b8d6-945b08b62e84",
                                                        "error": {},
                                                        "hackoladeMeta": {},
                                                        "compMod": {
                                                            "oldField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            },
                                                            "newField": {
                                                                "name": "last_update",
                                                                "type": "datetime",
                                                                "mode": "timestamp"
                                                            }
                                                        }
                                                    }
                                                ],
                                                "definitions": {
                                                    "type": "definitions",
                                                    "GUID": "ecce9ab7-fd79-4bd6-99da-2a4f408629c8",
                                                    "properties": []
                                                },
                                                "type": "object",
                                                "hackoladeMeta": {
                                                    "validationErrors": {}
                                                },
                                                "GUID": "4fd7816d-5c9e-442a-912f-5724cc5c7d60",
                                                "bucketId": "f63d012c-16f5-4cb8-ab0c-83ed07e00678",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "code": "",
                                                        "isActivated": true
                                                    },
                                                    "collectionName": {
                                                        "new": "store",
                                                        "old": "store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "additionalProperties": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "ifNotExist": {
                                                        "new": true
                                                    },
                                                    "inherits": {
                                                        "new": []
                                                    },
                                                    "on_commit": {
                                                        "new": "PRESERVE ROWS"
                                                    },
                                                    "table_tablespace_name": {
                                                        "new": "pg_default"
                                                    },
                                                    "primaryKey": {
                                                        "new": [],
                                                        "old": [
                                                            {
                                                                "GUID": "f9043024-960f-4f9e-af23-5c1b16d41121",
                                                                "constraintName": "store_pkey",
                                                                "compositePrimaryKey": [
                                                                    {
                                                                        "keyId": "2285adbd-180e-4873-9e2d-19bc915c093a",
                                                                        "type": ""
                                                                    }
                                                                ],
                                                                "indexStorageParameters": "",
                                                                "indexTablespace": null
                                                            }
                                                        ]
                                                    },
                                                    "uniqueKey": {
                                                        "new": [],
                                                        "old": []
                                                    },
                                                    "Indxs": {
                                                        "new": [
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "d658f555-6270-4001-8147-3aca1f7382cf",
                                                                "indxName": "idx_unq_manager_staff_id",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "fb7e5543-83c5-4627-9f5d-ffb20f49decf",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int2_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            },
                                                            {
                                                                "isActivated": true,
                                                                "index_method": "btree",
                                                                "ifNotExist": true,
                                                                "only": true,
                                                                "index_tablespace_name": "",
                                                                "GUID": "0e7af9e8-fe4e-40ba-bc47-33780c070cd9",
                                                                "indxName": "store_pkey",
                                                                "unique": true,
                                                                "columns": [
                                                                    {
                                                                        "keyId": "95c392eb-6fa1-477a-bd52-9ce6304194be",
                                                                        "sortOrder": "ASC",
                                                                        "nullsOrder": "NULLS LAST",
                                                                        "collation": null,
                                                                        "opclass": "pg_catalog.int4_ops"
                                                                    }
                                                                ],
                                                                "include": [],
                                                                "where": ""
                                                            }
                                                        ]
                                                    },
                                                    "chkConstr": {
                                                        "new": []
                                                    },
                                                    "triggers": {
                                                        "new": [
                                                            {
                                                                "triggerType": "BEFORE",
                                                                "GUID": "f89eb347-a3a4-4410-afc1-f4dbe1dbe653",
                                                                "name": "last_updated",
                                                                "triggerDescription": null,
                                                                "triggerConstraint": false,
                                                                "triggerEvents": [
                                                                    {
                                                                        "GUID": "d1738d1e-aa73-47e6-8403-213446ef2584",
                                                                        "triggerEvent": "UPDATE"
                                                                    }
                                                                ],
                                                                "triggerUpdateColumns": [],
                                                                "triggerReferencing": false,
                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                "triggerCondition": null,
                                                                "triggerFunction": "last_updated()"
                                                            }
                                                        ]
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
                                                        "2285adbd-180e-4873-9e2d-19bc915c093a": "store_id",
                                                        "35fb25df-3033-460c-9066-a10265dd852f": "manager_staff_id",
                                                        "75dc7d5e-909d-4d09-b51b-900f1a7fddb6": "address_id",
                                                        "d804c348-810a-4a54-b8d6-945b08b62e84": "last_update"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "e8ea894f-cab9-4bd0-ae6c-db59933ad06d": "store",
                                                        "95c392eb-6fa1-477a-bd52-9ce6304194be": "store_id",
                                                        "fb7e5543-83c5-4627-9f5d-ffb20f49decf": "manager_staff_id",
                                                        "67e67292-afbe-41fa-ae6f-892d4150c45a": "address_id",
                                                        "05f31a5f-c352-4f1f-bc9b-d3b806fd2f9b": "last_update"
                                                    },
                                                    "newProperties": [
                                                        {
                                                            "code": "",
                                                            "name": "store_id",
                                                            "isActivated": true,
                                                            "primaryKey": true,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "integer",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "nextval('store_store_id_seq'::regclass)",
                                                            "precision": 32,
                                                            "scale": 0,
                                                            "udt_name": "int4",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "primaryKeyOptions": [
                                                                {
                                                                    "constraintName": "store_pkey",
                                                                    "indexStorageParameters": "",
                                                                    "indexTablespace": null,
                                                                    "GUID": "4e50efdf-d865-4fb9-8a97-442974922cc9"
                                                                }
                                                            ],
                                                            "GUID": "95c392eb-6fa1-477a-bd52-9ce6304194be",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                },
                                                                "newField": {
                                                                    "name": "store_id",
                                                                    "type": "numeric",
                                                                    "mode": "integer"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "manager_staff_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "fb7e5543-83c5-4627-9f5d-ffb20f49decf",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "foreignField": [
                                                                "0eae89ab-ba68-4b36-9912-21627935998f",
                                                                "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                            ],
                                                            "parentRelationship": "748305f2-b025-4b93-a4ec-e1327bbf8ebd",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "manager_staff_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "address_id",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "exclusiveMinimum": false,
                                                            "exclusiveMaximum": false,
                                                            "mode": "smallint",
                                                            "childType": "numeric",
                                                            "type": "numeric",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "precision": 16,
                                                            "scale": 0,
                                                            "udt_name": "int2",
                                                            "numberOfArrayDimensions": 0,
                                                            "timePrecision": "",
                                                            "GUID": "67e67292-afbe-41fa-ae6f-892d4150c45a",
                                                            "required": true,
                                                            "relationshipType": "Foreign Key",
                                                            "foreignCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "foreignField": [
                                                                "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                                "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                            ],
                                                            "parentRelationship": "145d1efa-1228-4363-b246-316a3fb337ff",
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                },
                                                                "newField": {
                                                                    "name": "address_id",
                                                                    "type": "numeric",
                                                                    "mode": "smallint"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "code": "",
                                                            "name": "last_update",
                                                            "isActivated": true,
                                                            "primaryKey": false,
                                                            "unique": false,
                                                            "mode": "timestamp",
                                                            "scale": 7,
                                                            "childType": "datetime",
                                                            "type": "string",
                                                            "compositeKey": [
                                                                "compositePartitionKey",
                                                                "compositePrimaryKey",
                                                                "compositeUniqueKey",
                                                                "triggerUpdateColumns"
                                                            ],
                                                            "compositePartitionKey": false,
                                                            "compositePrimaryKey": false,
                                                            "compositeUniqueKey": false,
                                                            "triggerUpdateColumns": false,
                                                            "default": "now()",
                                                            "timePrecision": "",
                                                            "udt_name": "timestamp",
                                                            "numberOfArrayDimensions": 0,
                                                            "timezone": "WITHOUT TIME ZONE",
                                                            "GUID": "05f31a5f-c352-4f1f-bc9b-d3b806fd2f9b",
                                                            "required": true,
                                                            "error": {},
                                                            "compMod": {
                                                                "oldField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                },
                                                                "newField": {
                                                                    "name": "last_update",
                                                                    "type": "datetime",
                                                                    "mode": "timestamp"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "name": "store",
                                                "roleType": "entity"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "6c3b41ed-6aac-4966-ac04-2e3f51ac3434",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "fd65295c-daa7-4191-aa2b-df834ac4b97f"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "6dbf4dad-7771-4243-936e-f1620bf18ac1"
                },
                {
                    "name": "relationships",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_language_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "26f4c99d-82bf-41c0-86ae-41f919ff5a4b",
                                            "role": {
                                                "name": "film_language_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "eda78672-fe90-4798-b215-8c1505beff02",
                                                        "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "81a5c670-2699-419c-9730-c5d90bcc2dc9"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                "parentCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                "childCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "a57da2d3-1c7e-4d95-ac48-3d789e86d9c1",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1718,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1701.0000009536743
                                                        },
                                                        {
                                                            "x": 1743,
                                                            "y": 1487.0000009536743
                                                        },
                                                        {
                                                            "x": 1671.5,
                                                            "y": 1487.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "right"
                                                    ]
                                                },
                                                "compMod": {
                                                    "created": true,
                                                    "deleted": false
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "be8d5b90-904c-4514-971a-32a7b15d2064",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "cda3895c-b853-4947-b151-6e2626d15634"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "c35eb5ea-bae6-46bd-9b5f-8399c0a591ba"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "c245b8df-6632-44d0-9b2b-ea619427513d",
                                            "role": {
                                                "name": "store_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "e8ea894f-cab9-4bd0-ae6c-db59933ad06d",
                                                        "67e67292-afbe-41fa-ae6f-892d4150c45a"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "145d1efa-1228-4363-b246-316a3fb337ff",
                                                "parentCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                "childCollection": "e8ea894f-cab9-4bd0-ae6c-db59933ad06d",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "0344d25e-c116-4968-bb5b-c96d189a3127",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2338.4999995231624,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 2338.4999995231624,
                                                            "y": 2021.75
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 2021.75
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "6a0146c0-29c7-42f2-bd82-774a7757f9d1",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "store_manager_staff_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f84c3e13-f1e3-4792-8951-fe9e45021625",
                                            "role": {
                                                "name": "store_manager_staff_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "e8ea894f-cab9-4bd0-ae6c-db59933ad06d",
                                                        "fb7e5543-83c5-4627-9f5d-ffb20f49decf"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "748305f2-b025-4b93-a4ec-e1327bbf8ebd",
                                                "parentCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                "childCollection": "e8ea894f-cab9-4bd0-ae6c-db59933ad06d",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "072f7f81-4971-4f81-96f4-c55f3e726d97",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2240.1666661898294,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 2240.1666661898294,
                                                            "y": 2174.999999523163
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 2174.999999523163
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 2117
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "78892a0d-302a-4de5-bbc3-6478180732c9",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "fk_address_city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "9256d074-e9f6-430a-bc97-47e66aecdec4",
                                            "role": {
                                                "name": "fk_address_city",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                        "f536ace5-0164-44d8-bc88-36167f000bed"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "3ddedcb4-15ce-45ad-9dee-84b9fd356354"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "d05a9488-f2b7-4938-b36b-b6a44eaeba3e",
                                                "parentCollection": "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                "childCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "be45af05-da04-44e3-b8d4-c3c7ca6d156e",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1636.5000009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1582.7500009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1582.7500009536743
                                                        },
                                                        {
                                                            "x": 2338.499999523163,
                                                            "y": 1529.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "166f0b1a-c3fa-4988-848c-9c9d5b59ced8",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "fk_city",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "21ae1fd3-7255-450f-8d82-32b23001113e",
                                            "role": {
                                                "name": "fk_city",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "67de1da6-680c-4325-bab4-106a520c9d73",
                                                        "140be08e-c482-4b1c-844b-6d3513837d44"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                        "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1",
                                                "parentCollection": "67de1da6-680c-4325-bab4-106a520c9d73",
                                                "childCollection": "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "99dada41-7d3e-4177-9891-e83de78e5c38",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2472.499999523163,
                                                            "y": 1478.0000009536743
                                                        },
                                                        {
                                                            "x": 2497.499999523163,
                                                            "y": 1478.0000009536743
                                                        },
                                                        {
                                                            "x": 2497.499999523163,
                                                            "y": 1345.0000009536743
                                                        },
                                                        {
                                                            "x": 2472.499999523163,
                                                            "y": 1345.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "right"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a86f7244-ec54-4d1e-9ff4-eda8378eb099",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "7b607555-8f26-4bf6-9ed3-27e099ee7200",
                                            "role": {
                                                "name": "customer_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "7e278ab4-3485-4a0b-83c2-87e860b5c36e"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "79b7bfed-71b7-46c3-bb97-a9fda6959120",
                                                "parentCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                "childCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "039381f5-d19b-44d9-bdeb-85e115fcd9e6",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2503.4999990463257,
                                                            "y": 1901
                                                        },
                                                        {
                                                            "x": 2503.4999990463257,
                                                            "y": 1855.7500004768372
                                                        },
                                                        {
                                                            "x": 2405.999999523163,
                                                            "y": 1855.7500004768372
                                                        },
                                                        {
                                                            "x": 2405.999999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "2f464913-404a-418e-b364-742b791da543",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor_actor_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a21591bd-756f-49c4-b527-f79b7bff7753",
                                            "role": {
                                                "name": "film_actor_actor_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                        "6e861fe4-2954-4d49-a123-d7fce302a4e5"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "76b9bf06-5120-44ea-885c-41b95b0ea6f7",
                                                        "4a3da6f2-dd9c-4d54-bd37-15168bcd790b"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "8bcdfa69-5ff2-4013-894c-c56b10762b70",
                                                "parentCollection": "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                "childCollection": "76b9bf06-5120-44ea-885c-41b95b0ea6f7",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "a0264c4b-25c0-45e3-9a19-0ef9a1ae6a2b",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1905.8333333333333,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "f4117f6a-5b4c-40e8-b20b-088d091cc357",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_actor_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "ccd6c8fd-4f85-4975-a33a-a0233991185d",
                                            "role": {
                                                "name": "film_actor_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "76b9bf06-5120-44ea-885c-41b95b0ea6f7",
                                                        "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                "parentCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                "childCollection": "76b9bf06-5120-44ea-885c-41b95b0ea6f7",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "94e9ac16-927f-4c8d-9b25-5dc0df8825cf",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1809.1666666666667,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1809.1666666666667,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1628,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1628,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "efbc9b55-6f35-4dcc-a62f-2afebcc557ab",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category_category_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "e08ef9e1-d53e-48f2-83c6-ba4cd38c950a",
                                            "role": {
                                                "name": "film_category_category_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "fb828408-fac5-44d8-832b-aab61f639c85",
                                                        "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "1ed41ec5-a728-49c5-ae0e-05c0859d4868",
                                                        "2f8c81f8-bb75-44a1-a6d7-90d2ab868382"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "835f95b9-bace-4c73-b56d-25649fa9bbb8",
                                                "parentCollection": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                "childCollection": "1ed41ec5-a728-49c5-ae0e-05c0859d4868",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "0e4f97cc-6004-4611-a704-308ee934f44a",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1184,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1184,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "c9737b98-24ff-4a77-b51e-3d8616c4fde3",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_category_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "426bfc90-24c6-4c3d-aaed-3210e5105c13",
                                            "role": {
                                                "name": "film_category_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "1ed41ec5-a728-49c5-ae0e-05c0859d4868",
                                                        "3ed2da86-be1f-40ad-9e9a-d8841afdb190"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "0222384e-5b61-466e-b517-286113d044b4",
                                                "parentCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                "childCollection": "1ed41ec5-a728-49c5-ae0e-05c0859d4868",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "3eb2597e-5166-42da-9349-8ff257d1623b",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1272,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 1272,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1448,
                                                            "y": 1861.0000004768372
                                                        },
                                                        {
                                                            "x": 1448,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "3a9effe6-64e5-4409-8a23-e191933a9e8f",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "inventory_film_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "5081cde8-d41d-40ab-9063-ea6ccf15c28e",
                                            "role": {
                                                "name": "inventory_film_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                        "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "a0f9aa70-7439-42d1-a67a-8606beb96f9a",
                                                "parentCollection": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                "childCollection": "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "88deaa48-59d8-49b3-b344-66b6e8dc771e",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1538,
                                                            "y": 1952
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1892.5000004768372
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1892.5000004768372
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 1833.0000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "7e629cd8-5f71-4acf-8f5f-21c03712aa12",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_customer_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f61d8a17-01ac-4a39-90c0-913ecaf55e02",
                                            "role": {
                                                "name": "rental_customer_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                        "6ab619f9-0e0d-4227-b22d-05d3d402d143"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "6d9597f4-024c-4de8-9359-f72d295d9508",
                                                "parentCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                "childCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "46dfdca8-dcf1-410a-8377-6385f3380179",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1759.25,
                                                            "y": 2336.9999990463257
                                                        },
                                                        {
                                                            "x": 2063.374999523163,
                                                            "y": 2336.9999990463257
                                                        },
                                                        {
                                                            "x": 2063.374999523163,
                                                            "y": 1971
                                                        },
                                                        {
                                                            "x": 2367.4999990463257,
                                                            "y": 1971
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "df7c0461-e0fd-4809-aea1-be00ed6d0b85",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_inventory_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "86d082d4-1e07-46c1-8a10-bb27f202c398",
                                            "role": {
                                                "name": "rental_inventory_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                        "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                        "9b0c073b-fcfc-4446-855c-77060e91e9ca"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "55220fe8-d799-444e-a2b4-aba4ae898ab6",
                                                "parentCollection": "48b058a1-8b14-46e4-a37a-684eba95991e",
                                                "childCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "129fdaba-2d71-49b1-b8ea-a9fe1355420f",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2232.9999990463257
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2143.499999523163
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 2143.499999523163
                                                        },
                                                        {
                                                            "x": 1538,
                                                            "y": 2054
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "448ac4aa-3481-4507-a136-8ec1a24058c6",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "rental_staff_id_key",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "31c4f0c1-091e-4170-8fde-c6cd0bd281d3",
                                            "role": {
                                                "name": "rental_staff_id_key",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                        "7e3f2e27-8338-4e68-bf5f-68ffd199e3bb"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "8f65aec7-228a-4cd0-a556-6ddb90c2a039",
                                                "parentCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                "childCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                "customProperties": {
                                                    "relationshipOnDelete": "NO ACTION",
                                                    "relationshipOnUpdate": "NO ACTION",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "20398144-e0b1-4374-9cf1-2e60c4d195ed",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1759.25,
                                                            "y": 2284.9999990463257
                                                        },
                                                        {
                                                            "x": 1900.875,
                                                            "y": 2284.9999990463257
                                                        },
                                                        {
                                                            "x": 1900.875,
                                                            "y": 1965
                                                        },
                                                        {
                                                            "x": 2042.5,
                                                            "y": 1965
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "a3be7c58-2c4b-4bc9-b2d3-a78a29e75cfd",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff_address_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "1744b03d-8a99-43b3-b03e-e291ff9319a6",
                                            "role": {
                                                "name": "staff_address_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                        "5f7f4846-50a8-4ae6-8252-5791a4253d58"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "8f561e0b-38dc-49a4-a4d1-3d7fe3bdc469"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "52ca8549-7849-461a-a2c2-cc6fcc5f6479",
                                                "parentCollection": "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                "childCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "3803a6a6-2525-4c5a-875d-819555fbed29",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 2176.5,
                                                            "y": 1889
                                                        },
                                                        {
                                                            "x": 2176.5,
                                                            "y": 1849.7500004768372
                                                        },
                                                        {
                                                            "x": 2270.999999523163,
                                                            "y": 1849.7500004768372
                                                        },
                                                        {
                                                            "x": 2270.999999523163,
                                                            "y": 1810.5000009536743
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "832b6c86-c4ab-49bc-b41c-b3cfb2f64d30",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_customer_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "52145eeb-0608-4689-9fa0-607db01e7f02",
                                            "role": {
                                                "name": "payment_customer_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                        "8365ab97-2a9c-4734-8471-7abce6522b41"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "0032a19b-8cac-4fc7-bc64-9f5653024e6d",
                                                "parentCollection": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                "childCollection": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "f8c21c74-4b51-418a-a1e3-3f12a0ce2c5e",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1654.2500004768372,
                                                            "y": 2556.9999980926514
                                                        },
                                                        {
                                                            "x": 2010.8749997615814,
                                                            "y": 2556.9999980926514
                                                        },
                                                        {
                                                            "x": 2010.8749997615814,
                                                            "y": 2041
                                                        },
                                                        {
                                                            "x": 2367.4999990463257,
                                                            "y": 2041
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "0edce318-71b5-4851-88c1-c40e9fb8c0d1",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_rental_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "99847053-c669-4fbd-ad5f-1507a30560bd",
                                            "role": {
                                                "name": "payment_rental_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                        "726334a9-afda-4a51-886f-4023d745b205"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                        "eac35d0b-c783-4497-bdc4-a4f99811216c"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "5c14f9ec-64f8-4f54-9249-65d5b1a7400a",
                                                "parentCollection": "1a514ee7-1d0c-47ba-95ca-20f5b4190291",
                                                "childCollection": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                "customProperties": {
                                                    "relationshipOnDelete": "SET NULL",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "fc7b9934-3659-4b43-92a4-1f65fd3587cd",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1508.2500004768372,
                                                            "y": 2464.9999980926514
                                                        },
                                                        {
                                                            "x": 1508.2500004768372,
                                                            "y": 2426.9999985694885
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2426.9999985694885
                                                        },
                                                        {
                                                            "x": 1611.75,
                                                            "y": 2388.9999990463257
                                                        }
                                                    ],
                                                    "sides": [
                                                        "top",
                                                        "bottom"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "45568604-5e0e-43d7-ba91-900e4dd5b099",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "payment_staff_id_fkey",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "5d8c7d20-49ea-42a8-b342-f2bc75e8fc75",
                                            "role": {
                                                "name": "payment_staff_id_fkey",
                                                "relationshipType": "Foreign Key",
                                                "parentField": [
                                                    [
                                                        "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                    ]
                                                ],
                                                "parentCardinality": "1",
                                                "childField": [
                                                    [
                                                        "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                        "a7e4555b-416d-4602-9afa-5a02855275a3"
                                                    ]
                                                ],
                                                "isActivated": true,
                                                "childCardinality": "0..n",
                                                "GUID": "68d4da5c-088b-43c9-8831-af9093fd0cf0",
                                                "parentCollection": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                "childCollection": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                "customProperties": {
                                                    "relationshipOnDelete": "RESTRICT",
                                                    "relationshipOnUpdate": "CASCADE",
                                                    "relationshipMatch": "SIMPLE"
                                                },
                                                "hackoladeStyles": {
                                                    "GUID": "0cfc8fda-0a1d-42b5-9680-3121daf8e941",
                                                    "autoPositioning": true,
                                                    "type": "Orthogonal",
                                                    "thickness": 2,
                                                    "color": "#79c4ff",
                                                    "dataType": "",
                                                    "shape": [
                                                        {
                                                            "x": 1654.2500004768372,
                                                            "y": 2510.9999980926514
                                                        },
                                                        {
                                                            "x": 1848.3750002384186,
                                                            "y": 2510.9999980926514
                                                        },
                                                        {
                                                            "x": 1848.3750002384186,
                                                            "y": 2041
                                                        },
                                                        {
                                                            "x": 2042.5,
                                                            "y": 2041
                                                        }
                                                    ],
                                                    "sides": [
                                                        "right",
                                                        "left"
                                                    ]
                                                },
                                                "roleType": "relationship"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "c60d6d57-a1b2-4130-b240-4b9c06d9c655",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "711ee73a-4ff2-4d96-a9a9-7a372160c906"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "c7972a95-fd59-462a-87e3-1e2f824601e2"
                },
                {
                    "name": "views",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "925a6d80-306a-458b-84fc-f573635bf99c"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "c2f4fe63-099a-46c3-a0dd-6f8c55eb52e4"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "actor_info",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "2e47aa90-5619-46ce-905c-2198bf567fd2",
                                            "role": {
                                                "name": "actor_info",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "5cc34007-c7b1-4266-8727-232ccd8791cb"
                                                },
                                                "selectStatement": "SELECT a.actor_id,\n    a.first_name,\n    a.last_name,\n    group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT group_concat((f.title)::text) AS group_concat\n           FROM ((film f\n             JOIN film_category fc_1 ON ((f.film_id = fc_1.film_id)))\n             JOIN film_actor fa_1 ON ((f.film_id = fa_1.film_id)))\n          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))\n          GROUP BY fa_1.actor_id))) AS film_info\n   FROM (((actor a\n     LEFT JOIN film_actor fa ON ((a.actor_id = fa.actor_id)))\n     LEFT JOIN film_category fc ON ((fa.film_id = fc.film_id)))\n     LEFT JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY a.actor_id, a.first_name, a.last_name",
                                                "withCheckOption": false,
                                                "viewOn": "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "actor_id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/actor_id",
                                                        "GUID": "701355b0-67b6-404a-bd5a-96b9defcf76a",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "6e861fe4-2954-4d49-a123-d7fce302a4e5"
                                                        ],
                                                        "ref": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "first_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "4207de6d-4893-45a4-a62e-436a36b54ec6",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "1fd4a4db-1f59-4b40-934a-b96522914eb8"
                                                        ],
                                                        "ref": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "last_name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/last_name",
                                                        "GUID": "1e20fef1-785d-4415-a26e-52c1dc986154",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "3349c327-d1ae-4640-846a-b9aa56226b73"
                                                        ],
                                                        "ref": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "film_info",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/film_info",
                                                        "GUID": "57194611-8b48-42cc-9867-4808b446bb85",
                                                        "refIdPath": [],
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "b7034959-f051-4ab5-9e01-77e567cdf797",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "actor_info",
                                                        "old": "actor_info"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "5cc34007-c7b1-4266-8727-232ccd8791cb"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT a.actor_id,\n    a.first_name,\n    a.last_name,\n    group_concat(DISTINCT (((c.name)::text || ': '::text) || ( SELECT group_concat((f.title)::text) AS group_concat\n           FROM ((film f\n             JOIN film_category fc_1 ON ((f.film_id = fc_1.film_id)))\n             JOIN film_actor fa_1 ON ((f.film_id = fa_1.film_id)))\n          WHERE ((fc_1.category_id = c.category_id) AND (fa_1.actor_id = a.actor_id))\n          GROUP BY fa_1.actor_id))) AS film_info\n   FROM (((actor a\n     LEFT JOIN film_actor fa ON ((a.actor_id = fa.actor_id)))\n     LEFT JOIN film_category fc ON ((fa.film_id = fc.film_id)))\n     LEFT JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY a.actor_id, a.first_name, a.last_name"
                                                    },
                                                    "viewOn": {
                                                        "new": "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                        "old": "598d6c54-2278-4e16-9776-ff10b7fc0049"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
                                                        "2cec0cff-572f-4165-bf0c-ecf07d0c58d6": "actor_id",
                                                        "1bd18d43-fc0b-4064-87a2-f90073959991": "first_name",
                                                        "11e7381c-4861-4766-bdf4-2881482edb42": "last_name",
                                                        "80f51d1a-9089-46ce-a582-ae00fccd544d": "film_info"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "b7034959-f051-4ab5-9e01-77e567cdf797": "actor_info",
                                                        "701355b0-67b6-404a-bd5a-96b9defcf76a": "actor_id",
                                                        "4207de6d-4893-45a4-a62e-436a36b54ec6": "first_name",
                                                        "1e20fef1-785d-4415-a26e-52c1dc986154": "last_name",
                                                        "57194611-8b48-42cc-9867-4808b446bb85": "film_info"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "701355b0-67b6-404a-bd5a-96b9defcf76a": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                "name": "actor_id",
                                                                "definition": {
                                                                    "name": "actor_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('actor_actor_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "actor_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "107645a6-eb6c-494c-97cd-f26c564794d1"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "4207de6d-4893-45a4-a62e-436a36b54ec6": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "1e20fef1-785d-4415-a26e-52c1dc986154": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                "name": "last_name",
                                                                "definition": {
                                                                    "name": "last_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "57194611-8b48-42cc-9867-4808b446bb85": {
                                                                "bucket": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "collection": [
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definition": {}
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "actor",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                        "indxName": "actor_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                        "indxName": "idx_actor_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "84ea5ff3-aedc-448b-b7cd-b85e4d59caae",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "customer_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "f21ebe15-01e5-4344-99d4-43bd6131a27f",
                                            "role": {
                                                "name": "customer_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "e9ffff00-1530-4673-b4a8-2f8256553b9b"
                                                },
                                                "selectStatement": "SELECT cu.customer_id AS id,\n    (((cu.first_name)::text || ' '::text) || (cu.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n        CASE\n            WHEN cu.activebool THEN 'active'::text\n            ELSE ''::text\n        END AS notes,\n    cu.store_id AS sid\n   FROM (((customer cu\n     JOIN address a ON ((cu.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))",
                                                "withCheckOption": false,
                                                "viewOn": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/customer_id",
                                                        "GUID": "56bb23fa-f507-42fa-b738-9e2cc1682d68",
                                                        "refIdPath": [
                                                            "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "f7052b42-b28d-41e6-98b8-ae344792d48f"
                                                        ],
                                                        "ref": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/first_name",
                                                        "GUID": "e0ea3518-4265-42aa-9117-611bff683838",
                                                        "refIdPath": [
                                                            "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "5ffe8c38-9032-4e8a-8765-5e81c4bde1c8"
                                                        ],
                                                        "ref": "5ffe8c38-9032-4e8a-8765-5e81c4bde1c8",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "33ba1e1b-35c4-423b-be2c-149712080d4c",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "0f93610b-2501-4526-a583-2d3622d3caa3"
                                                        ],
                                                        "ref": "0f93610b-2501-4526-a583-2d3622d3caa3",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "5a4bbe39-0c1a-477b-b04f-be634309af68",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "19a568c0-6e4d-4350-b15b-6c0892bedb07"
                                                        ],
                                                        "ref": "19a568c0-6e4d-4350-b15b-6c0892bedb07",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "d7c037e7-662c-4f63-8857-337d3a4f241b",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "33945e74-8ae3-4639-a65a-c8861448b5e2"
                                                        ],
                                                        "ref": "33945e74-8ae3-4639-a65a-c8861448b5e2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "4834b236-c607-4410-ac42-be0cee288352",
                                                        "refIdPath": [
                                                            "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                            "711a3a07-b148-496c-8776-b4fbd72e7de7"
                                                        ],
                                                        "ref": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "a29719f8-d0fb-4bd5-9c73-b1791e2883e7",
                                                        "refIdPath": [
                                                            "67de1da6-680c-4325-bab4-106a520c9d73",
                                                            "84d53d33-def5-4ef7-b3b0-18119eb865f9"
                                                        ],
                                                        "ref": "84d53d33-def5-4ef7-b3b0-18119eb865f9",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "notes",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/activebool",
                                                        "GUID": "caf6923e-1840-4a4c-a3cf-eae79af84ee7",
                                                        "refIdPath": [
                                                            "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "ab88381d-4b9c-47b8-8551-64a24b1a1b26"
                                                        ],
                                                        "ref": "ab88381d-4b9c-47b8-8551-64a24b1a1b26",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/customer/store_id",
                                                        "GUID": "a3eb1fc2-e47d-42d0-88a3-75c0b8ad152c",
                                                        "refIdPath": [
                                                            "e2318042-04b4-4536-84f4-daa1188f3729",
                                                            "4c34f860-a2f8-4a5a-9392-582b741a4a1d"
                                                        ],
                                                        "ref": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "c2755487-5e63-4eac-8f39-d5fd89820a21",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "customer_list",
                                                        "old": "customer_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "e9ffff00-1530-4673-b4a8-2f8256553b9b"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT cu.customer_id AS id,\n    (((cu.first_name)::text || ' '::text) || (cu.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n        CASE\n            WHEN cu.activebool THEN 'active'::text\n            ELSE ''::text\n        END AS notes,\n    cu.store_id AS sid\n   FROM (((customer cu\n     JOIN address a ON ((cu.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))"
                                                    },
                                                    "viewOn": {
                                                        "new": "e2318042-04b4-4536-84f4-daa1188f3729",
                                                        "old": "9ffbb409-fe3e-425b-91b7-c63908114dac"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
                                                        "ed67cca0-991b-4ecd-92a2-8d34c97290d0": "id",
                                                        "29579c00-723d-4b0e-9e15-e23a42173904": "name",
                                                        "cb199351-857e-463b-8d90-258abec6d288": "address",
                                                        "67d5c726-6f97-4fc2-93dd-f3f43b33525c": "zip code",
                                                        "24306bc0-b277-4c28-a5c9-fc00b13e9be0": "phone",
                                                        "0107084e-754d-4001-bb0c-28c7246edcd3": "city",
                                                        "b1c9adc5-91c1-42ac-8ba3-a1e475001302": "country",
                                                        "41681406-a5f2-40cb-9f1c-ce4cbe0e9e15": "notes",
                                                        "e9dbf5b6-73d2-416a-82ba-a501acb36235": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "c2755487-5e63-4eac-8f39-d5fd89820a21": "customer_list",
                                                        "56bb23fa-f507-42fa-b738-9e2cc1682d68": "id",
                                                        "e0ea3518-4265-42aa-9117-611bff683838": "name",
                                                        "33ba1e1b-35c4-423b-be2c-149712080d4c": "address",
                                                        "5a4bbe39-0c1a-477b-b04f-be634309af68": "zip code",
                                                        "d7c037e7-662c-4f63-8857-337d3a4f241b": "phone",
                                                        "4834b236-c607-4410-ac42-be0cee288352": "city",
                                                        "a29719f8-d0fb-4bd5-9c73-b1791e2883e7": "country",
                                                        "caf6923e-1840-4a4c-a3cf-eae79af84ee7": "notes",
                                                        "a3eb1fc2-e47d-42d0-88a3-75c0b8ad152c": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "56bb23fa-f507-42fa-b738-9e2cc1682d68": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                "name": "customer_id",
                                                                "definition": {
                                                                    "name": "customer_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('customer_customer_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "customer_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "bd7089c4-8bef-4dab-ae78-3eba829d4011"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "e0ea3518-4265-42aa-9117-611bff683838": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "5ffe8c38-9032-4e8a-8765-5e81c4bde1c8",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "33ba1e1b-35c4-423b-be2c-149712080d4c": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "0f93610b-2501-4526-a583-2d3622d3caa3",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "5a4bbe39-0c1a-477b-b04f-be634309af68": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "19a568c0-6e4d-4350-b15b-6c0892bedb07",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "d7c037e7-662c-4f63-8857-337d3a4f241b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "33945e74-8ae3-4639-a65a-c8861448b5e2",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "4834b236-c607-4410-ac42-be0cee288352": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9c77cc96-5495-4e43-9230-6ea7147258ce",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "be1ede0b-b2e8-43a4-acb7-ec44f018dd7a",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "76a98bcc-ddb6-4f79-a906-8416aad2eb63",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c23bff87-54ec-494a-8531-41412c3864ac",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "a29719f8-d0fb-4bd5-9c73-b1791e2883e7": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "5c16d7c8-a0a7-4494-b44f-61906fadc599",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "140be08e-c482-4b1c-844b-6d3513837d44",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5011aefa-e643-438f-9ece-4add2108ee5f",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b0559afe-7565-4a15-9571-1259cd7495ce",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "84d53d33-def5-4ef7-b3b0-18119eb865f9",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "caf6923e-1840-4a4c-a3cf-eae79af84ee7": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "ab88381d-4b9c-47b8-8551-64a24b1a1b26",
                                                                "name": "activebool",
                                                                "definition": {
                                                                    "name": "activebool",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "boolean",
                                                                    "required": true,
                                                                    "default": "true"
                                                                }
                                                            },
                                                            "a3eb1fc2-e47d-42d0-88a3-75c0b8ad152c": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "customer",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                                "indxName": "customer_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                                "indxName": "idx_fk_address_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                                "indxName": "idx_fk_store_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                                "indxName": "idx_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "customer",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "7d0ddb34-2ff1-419e-836a-559c01fdf26c",
                                                                        "indxName": "customer_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "f7052b42-b28d-41e6-98b8-ae344792d48f",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "24629187-a5f3-4f37-b7ae-80ecf1614023",
                                                                        "indxName": "idx_fk_address_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "7e278ab4-3485-4a0b-83c2-87e860b5c36e",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "aba617d9-ee44-4ff8-ad80-0b26d88f1438",
                                                                        "indxName": "idx_fk_store_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "4c34f860-a2f8-4a5a-9392-582b741a4a1d",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "375739cf-e5c7-45ea-839f-59cd5cefe3d0",
                                                                        "indxName": "idx_last_name",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "c95d6f50-4afe-441b-85b7-902cc724b4a6",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "5410571e-2616-4dc4-aa3e-6e67efde3085",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "bd69b5f9-a36a-48a3-885e-cfb57b416697",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "eb7639a2-8aea-4263-8329-ea2f12740311",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "323eb0a7-d05b-47eb-a1f3-896ccd2a9bef",
                                            "role": {
                                                "name": "film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "06fd1c89-e3c8-43e4-b448-659f23ee3b18"
                                                },
                                                "selectStatement": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((actor.first_name)::text || ' '::text) || (actor.last_name)::text)) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating",
                                                "withCheckOption": false,
                                                "viewOn": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "d38f8b58-6bd4-4595-9553-0eaf74d46ce2",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                        ],
                                                        "ref": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "02abda14-f39b-4350-b959-29bdcd5d4014",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "e616e414-e4cc-43d5-b56f-0c1aef54d0bd"
                                                        ],
                                                        "ref": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "2748a364-5b10-46c7-be3a-249ff2a3dbd5",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "982161c4-c0f6-4517-aac9-7a4d50ab715f"
                                                        ],
                                                        "ref": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "b0333e12-507c-49b5-9860-231760a674b8",
                                                        "refIdPath": [
                                                            "fb828408-fac5-44d8-832b-aab61f639c85",
                                                            "e7c02480-6061-4c99-b809-039ada84757b"
                                                        ],
                                                        "ref": "e7c02480-6061-4c99-b809-039ada84757b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "bace3167-8f12-44d8-9bbc-8529f7eb9eec",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "f826f8d8-7e68-42a1-8865-4cb27a3bdbda"
                                                        ],
                                                        "ref": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "e9471994-8d13-46ec-a993-fcb4ffe2df91",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "f5a8935f-2096-434d-b902-67ee09f58ce1"
                                                        ],
                                                        "ref": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "46ce6b6d-0561-424d-8e9b-f97458f7511e",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "1d3819e7-a089-44bd-a969-7dca6f9939f7"
                                                        ],
                                                        "ref": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "3b2b0e6b-ae1b-49ce-893c-103ccac7384f",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "1fd4a4db-1f59-4b40-934a-b96522914eb8"
                                                        ],
                                                        "ref": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "52fb830f-7ce6-48fa-9869-e5c797e7cdc2",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "film_list",
                                                        "old": "film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "06fd1c89-e3c8-43e4-b448-659f23ee3b18"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((actor.first_name)::text || ' '::text) || (actor.last_name)::text)) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating"
                                                    },
                                                    "viewOn": {
                                                        "new": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
                                                        "ff2b4d17-9461-4c3d-b122-34387bee54f8": "fid",
                                                        "f89e93ee-868e-475c-8a5e-b33a5617a4d3": "title",
                                                        "1b8f6667-fcbd-4d96-b697-cda23437f5a9": "description",
                                                        "40d2cb77-cf8d-45ae-8ce3-ba65c35596e7": "category",
                                                        "e144552e-fb92-4502-aeee-5ba948adfc6d": "price",
                                                        "49c81a24-2928-4d38-b16a-0d438620045f": "length",
                                                        "0f38bee3-b589-435c-82af-38973c2c2d04": "rating",
                                                        "a12da86f-e8a7-47d3-860e-35e787e3f27b": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "52fb830f-7ce6-48fa-9869-e5c797e7cdc2": "film_list",
                                                        "d38f8b58-6bd4-4595-9553-0eaf74d46ce2": "fid",
                                                        "02abda14-f39b-4350-b959-29bdcd5d4014": "title",
                                                        "2748a364-5b10-46c7-be3a-249ff2a3dbd5": "description",
                                                        "b0333e12-507c-49b5-9860-231760a674b8": "category",
                                                        "bace3167-8f12-44d8-9bbc-8529f7eb9eec": "price",
                                                        "e9471994-8d13-46ec-a993-fcb4ffe2df91": "length",
                                                        "46ce6b6d-0561-424d-8e9b-f97458f7511e": "rating",
                                                        "3b2b0e6b-ae1b-49ce-893c-103ccac7384f": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "d38f8b58-6bd4-4595-9553-0eaf74d46ce2": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "02abda14-f39b-4350-b959-29bdcd5d4014": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "2748a364-5b10-46c7-be3a-249ff2a3dbd5": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "b0333e12-507c-49b5-9860-231760a674b8": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e7c02480-6061-4c99-b809-039ada84757b",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "bace3167-8f12-44d8-9bbc-8529f7eb9eec": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "e9471994-8d13-46ec-a993-fcb4ffe2df91": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "46ce6b6d-0561-424d-8e9b-f97458f7511e": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "3b2b0e6b-ae1b-49ce-893c-103ccac7384f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "156765e8-5961-4135-9b1c-f23c691f28fc",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "nicer_but_slower_film_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "a686e766-4835-4abc-bbef-6e796ef57b7d",
                                            "role": {
                                                "name": "nicer_but_slower_film_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "fcb0125d-16a3-4081-b90a-c931b3db3407"
                                                },
                                                "selectStatement": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((upper(\"substring\"((actor.first_name)::text, 1, 1)) || lower(\"substring\"((actor.first_name)::text, 2))) || upper(\"substring\"((actor.last_name)::text, 1, 1))) || lower(\"substring\"((actor.last_name)::text, 2)))) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating",
                                                "withCheckOption": false,
                                                "viewOn": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "fid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/film_id",
                                                        "GUID": "1e3416f4-0e00-4a93-b194-489c3f03a41d",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "841a6ce5-4104-4ea0-81af-f55cb4833526"
                                                        ],
                                                        "ref": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "title",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/title",
                                                        "GUID": "3936e17f-22df-45e8-893f-a104f48e4784",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "e616e414-e4cc-43d5-b56f-0c1aef54d0bd"
                                                        ],
                                                        "ref": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "description",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/description",
                                                        "GUID": "2a0a0b80-6e0f-4fb5-8f52-99ff33a78e76",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "982161c4-c0f6-4517-aac9-7a4d50ab715f"
                                                        ],
                                                        "ref": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "6f87d255-9832-421a-9765-edefa2d6aafa",
                                                        "refIdPath": [
                                                            "fb828408-fac5-44d8-832b-aab61f639c85",
                                                            "e7c02480-6061-4c99-b809-039ada84757b"
                                                        ],
                                                        "ref": "e7c02480-6061-4c99-b809-039ada84757b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "price",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rental_rate",
                                                        "GUID": "c8204fec-55f3-492d-a350-f4836a6e38d3",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "f826f8d8-7e68-42a1-8865-4cb27a3bdbda"
                                                        ],
                                                        "ref": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "length",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/length",
                                                        "GUID": "c5b0e708-03ee-490b-8322-21c8fdbea379",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "f5a8935f-2096-434d-b902-67ee09f58ce1"
                                                        ],
                                                        "ref": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "rating",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/film/rating",
                                                        "GUID": "be70b80b-a70e-424f-b8e0-07ea346bf47b",
                                                        "refIdPath": [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "1d3819e7-a089-44bd-a969-7dca6f9939f7"
                                                        ],
                                                        "ref": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "actors",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "99ea1db8-85f0-4a0b-b3b7-6b0ac63089fb",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "1fd4a4db-1f59-4b40-934a-b96522914eb8"
                                                        ],
                                                        "ref": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "99d5ff09-93ee-46d8-afc8-27d87716adfe",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "nicer_but_slower_film_list",
                                                        "old": "nicer_but_slower_film_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "fcb0125d-16a3-4081-b90a-c931b3db3407"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT film.film_id AS fid,\n    film.title,\n    film.description,\n    category.name AS category,\n    film.rental_rate AS price,\n    film.length,\n    film.rating,\n    group_concat((((upper(\"substring\"((actor.first_name)::text, 1, 1)) || lower(\"substring\"((actor.first_name)::text, 2))) || upper(\"substring\"((actor.last_name)::text, 1, 1))) || lower(\"substring\"((actor.last_name)::text, 2)))) AS actors\n   FROM ((((category\n     LEFT JOIN film_category ON ((category.category_id = film_category.category_id)))\n     LEFT JOIN film ON ((film_category.film_id = film.film_id)))\n     JOIN film_actor ON ((film.film_id = film_actor.film_id)))\n     JOIN actor ON ((film_actor.actor_id = actor.actor_id)))\n  GROUP BY film.film_id, film.title, film.description, category.name, film.rental_rate, film.length, film.rating"
                                                    },
                                                    "viewOn": {
                                                        "new": "fb828408-fac5-44d8-832b-aab61f639c85",
                                                        "old": "2c2f066f-cb66-4247-b9ae-f8defe49f589"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
                                                        "3e2a74f4-5851-4e15-8df3-151eec46a9a9": "fid",
                                                        "355d8b4d-4de4-4b20-b221-fcc1dc3b6b82": "title",
                                                        "fed5ad30-bb46-4a1b-94e4-44750e02624e": "description",
                                                        "c65eac55-fc90-457f-8f12-114acc266e22": "category",
                                                        "1ef05786-69b7-4f25-b7ea-4788250b5645": "price",
                                                        "31d64bc2-7aa3-4767-94ba-2d02cbcfa1bd": "length",
                                                        "c2379be1-7e16-46da-b62c-cf242514264b": "rating",
                                                        "7436b64e-ceab-4409-abfa-be600b5fad69": "actors"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "99d5ff09-93ee-46d8-afc8-27d87716adfe": "nicer_but_slower_film_list",
                                                        "1e3416f4-0e00-4a93-b194-489c3f03a41d": "fid",
                                                        "3936e17f-22df-45e8-893f-a104f48e4784": "title",
                                                        "2a0a0b80-6e0f-4fb5-8f52-99ff33a78e76": "description",
                                                        "6f87d255-9832-421a-9765-edefa2d6aafa": "category",
                                                        "c8204fec-55f3-492d-a350-f4836a6e38d3": "price",
                                                        "c5b0e708-03ee-490b-8322-21c8fdbea379": "length",
                                                        "be70b80b-a70e-424f-b8e0-07ea346bf47b": "rating",
                                                        "99ea1db8-85f0-4a0b-b3b7-6b0ac63089fb": "actors"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "1e3416f4-0e00-4a93-b194-489c3f03a41d": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                "name": "film_id",
                                                                "definition": {
                                                                    "name": "film_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "3936e17f-22df-45e8-893f-a104f48e4784": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                "name": "title",
                                                                "definition": {
                                                                    "name": "title",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "2a0a0b80-6e0f-4fb5-8f52-99ff33a78e76": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                "name": "description",
                                                                "definition": {
                                                                    "name": "description",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "6f87d255-9832-421a-9765-edefa2d6aafa": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e7c02480-6061-4c99-b809-039ada84757b",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "c8204fec-55f3-492d-a350-f4836a6e38d3": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                "name": "rental_rate",
                                                                "definition": {
                                                                    "name": "rental_rate",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "default": "4.99",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "c5b0e708-03ee-490b-8322-21c8fdbea379": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                "name": "length",
                                                                "definition": {
                                                                    "name": "length",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "be70b80b-a70e-424f-b8e0-07ea346bf47b": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "film",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "gist",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                                "indxName": "film_fulltext_idx",
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.tsvector_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                                "indxName": "film_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                                "indxName": "idx_fk_language_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                                "indxName": "idx_title",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                                "name": "film_fulltext_trigger",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                        "triggerEvent": "INSERT"
                                                                                    },
                                                                                    {
                                                                                        "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                            },
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                "name": "rating",
                                                                "definition": {
                                                                    "name": "rating",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model"
                                                                }
                                                            },
                                                            "99ea1db8-85f0-4a0b-b3b7-6b0ac63089fb": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "category",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                        "indxName": "category_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "6b2b363e-87ec-4603-b8a0-90f6b1d9150d",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_film_category",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "d61a47c5-a44e-4a44-b856-60b3bb81d2aa",
                                            "role": {
                                                "name": "sales_by_film_category",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "7a0640da-4c4a-4de2-ab6c-82ae9b8042e7"
                                                },
                                                "selectStatement": "SELECT c.name AS category,\n    sum(p.amount) AS total_sales\n   FROM (((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN film f ON ((i.film_id = f.film_id)))\n     JOIN film_category fc ON ((f.film_id = fc.film_id)))\n     JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY c.name\n  ORDER BY (sum(p.amount)) DESC",
                                                "withCheckOption": false,
                                                "viewOn": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "category",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/category/name",
                                                        "GUID": "630e4006-e17b-4a6f-bafd-a049f690d0fb",
                                                        "refIdPath": [
                                                            "fb828408-fac5-44d8-832b-aab61f639c85",
                                                            "e7c02480-6061-4c99-b809-039ada84757b"
                                                        ],
                                                        "ref": "e7c02480-6061-4c99-b809-039ada84757b",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "6019737e-ea8d-47d1-93ff-64c0dd2d1373",
                                                        "refIdPath": [
                                                            "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                            "405c4a5f-7497-45cb-b1d5-9ced11af558f"
                                                        ],
                                                        "ref": "405c4a5f-7497-45cb-b1d5-9ced11af558f",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "1b9572b1-6808-4d7a-b1cd-8f7166a3f037",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_film_category",
                                                        "old": "sales_by_film_category"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "7a0640da-4c4a-4de2-ab6c-82ae9b8042e7"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT c.name AS category,\n    sum(p.amount) AS total_sales\n   FROM (((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN film f ON ((i.film_id = f.film_id)))\n     JOIN film_category fc ON ((f.film_id = fc.film_id)))\n     JOIN category c ON ((fc.category_id = c.category_id)))\n  GROUP BY c.name\n  ORDER BY (sum(p.amount)) DESC"
                                                    },
                                                    "viewOn": {
                                                        "new": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
                                                        "8b785330-b5be-47e3-98c2-fb82839149be": "category",
                                                        "94861392-9510-4b3d-9b68-3aa7377b29f3": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "1b9572b1-6808-4d7a-b1cd-8f7166a3f037": "sales_by_film_category",
                                                        "630e4006-e17b-4a6f-bafd-a049f690d0fb": "category",
                                                        "6019737e-ea8d-47d1-93ff-64c0dd2d1373": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "630e4006-e17b-4a6f-bafd-a049f690d0fb": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "category",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "f8552b95-b2a5-4076-89ef-851b882899a5",
                                                                                "indxName": "category_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "4f2b7f7d-9912-4bea-9035-80f14fde0122",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "9b83073b-b6a9-4046-a182-296b36f5e940",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "e7c02480-6061-4c99-b809-039ada84757b",
                                                                "name": "name",
                                                                "definition": {
                                                                    "name": "name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 25,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "6019737e-ea8d-47d1-93ff-64c0dd2d1373": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "272989da-8215-4ba7-947e-451d97944da6",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "25d41653-b43b-4a87-b02f-4b48fb523025",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "4c378c29-1192-480a-b3eb-f571bbcd7197",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7937dda8-19b2-45d2-aee1-0cef69730097",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "405c4a5f-7497-45cb-b1d5-9ced11af558f",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "272989da-8215-4ba7-947e-451d97944da6",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "25d41653-b43b-4a87-b02f-4b48fb523025",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "4c378c29-1192-480a-b3eb-f571bbcd7197",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "7937dda8-19b2-45d2-aee1-0cef69730097",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "1c189fed-7a4c-4a87-883a-7d7dac28634c",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "sales_by_store",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "6d1ee517-6b2f-4543-a93c-4a144517c531",
                                            "role": {
                                                "name": "sales_by_store",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "c80b3e0b-ce1c-4c32-a47b-6e6bce1e2788"
                                                },
                                                "selectStatement": "SELECT (((c.city)::text || ','::text) || (cy.country)::text) AS store,\n    (((m.first_name)::text || ' '::text) || (m.last_name)::text) AS manager,\n    sum(p.amount) AS total_sales\n   FROM (((((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN store s ON ((i.store_id = s.store_id)))\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city c ON ((a.city_id = c.city_id)))\n     JOIN country cy ON ((c.country_id = cy.country_id)))\n     JOIN staff m ON ((s.manager_staff_id = m.staff_id)))\n  GROUP BY cy.country, c.city, s.store_id, m.first_name, m.last_name\n  ORDER BY cy.country, c.city",
                                                "withCheckOption": false,
                                                "viewOn": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "store",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "f3348902-626a-468c-84fb-fe0ea13be23f",
                                                        "refIdPath": [
                                                            "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                            "711a3a07-b148-496c-8776-b4fbd72e7de7"
                                                        ],
                                                        "ref": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "manager",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/actor/first_name",
                                                        "GUID": "883437a0-51e6-4edd-bdeb-695aa44dc23a",
                                                        "refIdPath": [
                                                            "7dbeb7ba-9845-4e8f-966a-9101985f5db8",
                                                            "1fd4a4db-1f59-4b40-934a-b96522914eb8"
                                                        ],
                                                        "ref": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "total_sales",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/payment/amount",
                                                        "GUID": "f595e1b8-f832-4806-9da6-87efef6d65b0",
                                                        "refIdPath": [
                                                            "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                            "405c4a5f-7497-45cb-b1d5-9ced11af558f"
                                                        ],
                                                        "ref": "405c4a5f-7497-45cb-b1d5-9ced11af558f",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "d31dbf6f-a555-4146-a329-e97941f04118",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "sales_by_store",
                                                        "old": "sales_by_store"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "c80b3e0b-ce1c-4c32-a47b-6e6bce1e2788"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT (((c.city)::text || ','::text) || (cy.country)::text) AS store,\n    (((m.first_name)::text || ' '::text) || (m.last_name)::text) AS manager,\n    sum(p.amount) AS total_sales\n   FROM (((((((payment p\n     JOIN rental r ON ((p.rental_id = r.rental_id)))\n     JOIN inventory i ON ((r.inventory_id = i.inventory_id)))\n     JOIN store s ON ((i.store_id = s.store_id)))\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city c ON ((a.city_id = c.city_id)))\n     JOIN country cy ON ((c.country_id = cy.country_id)))\n     JOIN staff m ON ((s.manager_staff_id = m.staff_id)))\n  GROUP BY cy.country, c.city, s.store_id, m.first_name, m.last_name\n  ORDER BY cy.country, c.city"
                                                    },
                                                    "viewOn": {
                                                        "new": "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3",
                                                        "old": "9fe85521-30b3-4ab0-af6d-72071b837174"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
                                                        "fbf38db8-4af1-456a-a601-bb6be2c151e5": "store",
                                                        "502fefbb-fae3-4276-9ce0-1b615590b755": "manager",
                                                        "814aeb32-e267-4fde-8aea-5561f3693423": "total_sales"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "d31dbf6f-a555-4146-a329-e97941f04118": "sales_by_store",
                                                        "f3348902-626a-468c-84fb-fe0ea13be23f": "store",
                                                        "883437a0-51e6-4edd-bdeb-695aa44dc23a": "manager",
                                                        "f595e1b8-f832-4806-9da6-87efef6d65b0": "total_sales"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "f3348902-626a-468c-84fb-fe0ea13be23f": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9c77cc96-5495-4e43-9230-6ea7147258ce",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "be1ede0b-b2e8-43a4-acb7-ec44f018dd7a",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "76a98bcc-ddb6-4f79-a906-8416aad2eb63",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c23bff87-54ec-494a-8531-41412c3864ac",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "883437a0-51e6-4edd-bdeb-695aa44dc23a": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "actor",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "dcab2b58-ac94-4258-81c8-90047b4d5574",
                                                                                "indxName": "actor_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "6e861fe4-2954-4d49-a123-d7fce302a4e5",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "441d8c47-07e7-4cde-a220-a7b51af608c1",
                                                                                "indxName": "idx_actor_last_name",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3349c327-d1ae-4640-846a-b9aa56226b73",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": "pg_catalog.\"default\"",
                                                                                        "opclass": "pg_catalog.text_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "2d3b5e06-e03f-48a9-af47-0f40f428811d",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "391a9985-5401-467d-b4db-ab0b155a41b3",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "1fd4a4db-1f59-4b40-934a-b96522914eb8",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "f595e1b8-f832-4806-9da6-87efef6d65b0": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "payment",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "272989da-8215-4ba7-947e-451d97944da6",
                                                                                "indxName": "idx_fk_customer_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "25d41653-b43b-4a87-b02f-4b48fb523025",
                                                                                "indxName": "idx_fk_rental_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "4c378c29-1192-480a-b3eb-f571bbcd7197",
                                                                                "indxName": "idx_fk_staff_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "7937dda8-19b2-45d2-aee1-0cef69730097",
                                                                                "indxName": "payment_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": []
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "405c4a5f-7497-45cb-b1d5-9ced11af558f",
                                                                "name": "amount",
                                                                "definition": {
                                                                    "name": "amount",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "numeric",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "payment",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "272989da-8215-4ba7-947e-451d97944da6",
                                                                        "indxName": "idx_fk_customer_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "8365ab97-2a9c-4734-8471-7abce6522b41",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "25d41653-b43b-4a87-b02f-4b48fb523025",
                                                                        "indxName": "idx_fk_rental_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "eac35d0b-c783-4497-bdc4-a4f99811216c",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "4c378c29-1192-480a-b3eb-f571bbcd7197",
                                                                        "indxName": "idx_fk_staff_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "a7e4555b-416d-4602-9afa-5a02855275a3",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "7937dda8-19b2-45d2-aee1-0cef69730097",
                                                                        "indxName": "payment_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": []
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "aa7d00ad-cbe7-4255-90a2-fb978a0699d7",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "staff_list",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "32eb1bab-6bd4-4098-a278-18a79bca3c41",
                                            "role": {
                                                "name": "staff_list",
                                                "code": "",
                                                "isActivated": true,
                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                "orReplace": false,
                                                "temporary": false,
                                                "recursive": false,
                                                "viewOptions": {
                                                    "GUID": "5946e9d6-b68d-4f90-bfcb-eb24a1625902"
                                                },
                                                "selectStatement": "SELECT s.staff_id AS id,\n    (((s.first_name)::text || ' '::text) || (s.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n    s.store_id AS sid\n   FROM (((staff s\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))",
                                                "withCheckOption": false,
                                                "viewOn": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                "triggers": [],
                                                "type": "object",
                                                "properties": [
                                                    {
                                                        "code": "",
                                                        "name": "id",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/staff_id",
                                                        "GUID": "7aac766c-d190-4f3f-978e-a43c490bf15d",
                                                        "refIdPath": [
                                                            "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "98918f39-d308-4ae2-98ca-f889f0d2ceaf"
                                                        ],
                                                        "ref": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "name",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/first_name",
                                                        "GUID": "406d2070-d914-4fb0-9278-4b6085176f2c",
                                                        "refIdPath": [
                                                            "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "d713402c-31a0-4fc7-aff0-0c7a60b9aee9"
                                                        ],
                                                        "ref": "d713402c-31a0-4fc7-aff0-0c7a60b9aee9",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "address",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/address",
                                                        "GUID": "265da4ae-7655-4091-9351-dd63477e7434",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "0f93610b-2501-4526-a583-2d3622d3caa3"
                                                        ],
                                                        "ref": "0f93610b-2501-4526-a583-2d3622d3caa3",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "zip code",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/postal_code",
                                                        "GUID": "a05e5e68-2a6c-466e-926f-f91455631a34",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "19a568c0-6e4d-4350-b15b-6c0892bedb07"
                                                        ],
                                                        "ref": "19a568c0-6e4d-4350-b15b-6c0892bedb07",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "phone",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/address/phone",
                                                        "GUID": "40d57cb2-7053-40d8-9ebb-3ffd78c14e8d",
                                                        "refIdPath": [
                                                            "b9ef4748-48f7-473b-95b7-024eb9717d61",
                                                            "33945e74-8ae3-4639-a65a-c8861448b5e2"
                                                        ],
                                                        "ref": "33945e74-8ae3-4639-a65a-c8861448b5e2",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "city",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/city/city",
                                                        "GUID": "837951a2-4c0c-4ab7-801f-9cc3a97b8dcf",
                                                        "refIdPath": [
                                                            "f0fa52ad-3d63-48b3-9441-37d6eb7d287a",
                                                            "711a3a07-b148-496c-8776-b4fbd72e7de7"
                                                        ],
                                                        "ref": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "country",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/country/country",
                                                        "GUID": "7f25dff8-081b-46e8-8c30-8e61d0ba2275",
                                                        "refIdPath": [
                                                            "67de1da6-680c-4325-bab4-106a520c9d73",
                                                            "84d53d33-def5-4ef7-b3b0-18119eb865f9"
                                                        ],
                                                        "ref": "84d53d33-def5-4ef7-b3b0-18119eb865f9",
                                                        "error": {}
                                                    },
                                                    {
                                                        "code": "",
                                                        "name": "sid",
                                                        "isActivated": true,
                                                        "primaryKey": false,
                                                        "unique": false,
                                                        "type": "reference",
                                                        "refType": "collectionReference",
                                                        "$ref": "#collection/definitions/staff/store_id",
                                                        "GUID": "f232c0ed-dc75-40d9-90e1-c6a50b7a3d15",
                                                        "refIdPath": [
                                                            "0eae89ab-ba68-4b36-9912-21627935998f",
                                                            "2df6e177-d945-4997-97fd-74c5f3633ae1"
                                                        ],
                                                        "ref": "2df6e177-d945-4997-97fd-74c5f3633ae1",
                                                        "error": {}
                                                    }
                                                ],
                                                "GUID": "d2473a2a-d222-473d-86c0-594c89fdef2c",
                                                "compMod": {
                                                    "keyspaceName": "public",
                                                    "bucketProperties": {
                                                        "name": "public",
                                                        "isActivated": true,
                                                        "ifNotExist": true,
                                                        "code": ""
                                                    },
                                                    "name": {
                                                        "new": "staff_list",
                                                        "old": "staff_list"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "bucketId": {
                                                        "new": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                        "old": "f63d012c-16f5-4cb8-ab0c-83ed07e00678"
                                                    },
                                                    "viewOptions": {
                                                        "new": {
                                                            "GUID": "5946e9d6-b68d-4f90-bfcb-eb24a1625902"
                                                        }
                                                    },
                                                    "selectStatement": {
                                                        "new": "SELECT s.staff_id AS id,\n    (((s.first_name)::text || ' '::text) || (s.last_name)::text) AS name,\n    a.address,\n    a.postal_code AS \"zip code\",\n    a.phone,\n    city.city,\n    country.country,\n    s.store_id AS sid\n   FROM (((staff s\n     JOIN address a ON ((s.address_id = a.address_id)))\n     JOIN city ON ((a.city_id = city.city_id)))\n     JOIN country ON ((city.country_id = country.country_id)))"
                                                    },
                                                    "viewOn": {
                                                        "new": "0eae89ab-ba68-4b36-9912-21627935998f",
                                                        "old": "606710fd-3963-4876-894f-4a67c06a802d"
                                                    },
                                                    "triggers": {
                                                        "new": []
                                                    },
                                                    "oldIdToNameHashTable": {
                                                        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
                                                        "04fdf354-691e-4fa3-86a2-8e98072e9914": "id",
                                                        "bf6e7b7a-f0eb-4cc7-8535-918e2fcc5d3c": "name",
                                                        "13d79ac7-9da1-4e0e-9130-536b9591ee37": "address",
                                                        "e29ec252-5db0-4e38-b23b-40e2608bba0e": "zip code",
                                                        "d391bc72-4f32-40f2-9325-1a8914d773c4": "phone",
                                                        "924bf368-dae9-4979-985f-49b6f7ead593": "city",
                                                        "163336e0-b55d-4cf3-aae9-bcf2a1cb3f30": "country",
                                                        "c9eb07c6-80b1-4ba5-895c-c81d0f643899": "sid"
                                                    },
                                                    "newIdToNameHashTable": {
                                                        "d2473a2a-d222-473d-86c0-594c89fdef2c": "staff_list",
                                                        "7aac766c-d190-4f3f-978e-a43c490bf15d": "id",
                                                        "406d2070-d914-4fb0-9278-4b6085176f2c": "name",
                                                        "265da4ae-7655-4091-9351-dd63477e7434": "address",
                                                        "a05e5e68-2a6c-466e-926f-f91455631a34": "zip code",
                                                        "40d57cb2-7053-40d8-9ebb-3ffd78c14e8d": "phone",
                                                        "837951a2-4c0c-4ab7-801f-9cc3a97b8dcf": "city",
                                                        "7f25dff8-081b-46e8-8c30-8e61d0ba2275": "country",
                                                        "f232c0ed-dc75-40d9-90e1-c6a50b7a3d15": "sid"
                                                    },
                                                    "collectionData": {
                                                        "collectionRefsDefinitionsMap": {
                                                            "7aac766c-d190-4f3f-978e-a43c490bf15d": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "baf47656-82b7-47f4-bc3f-cf21d449af88"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3fcd501a-4e49-45e1-a8a7-77fedc0dd236",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7e9029e5-e2d9-489e-8660-40a46dd1e3e6",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "0d57d803-e697-4681-a50f-61ab89a7e494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                "name": "staff_id",
                                                                "definition": {
                                                                    "name": "staff_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "integer",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "default": "nextval('staff_staff_id_seq'::regclass)",
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": true,
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "staff_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "b0168d10-2f65-4b74-a659-f08ac3e23aba"
                                                                        }
                                                                    ],
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            },
                                                            "406d2070-d914-4fb0-9278-4b6085176f2c": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "baf47656-82b7-47f4-bc3f-cf21d449af88"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3fcd501a-4e49-45e1-a8a7-77fedc0dd236",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7e9029e5-e2d9-489e-8660-40a46dd1e3e6",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "0d57d803-e697-4681-a50f-61ab89a7e494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "d713402c-31a0-4fc7-aff0-0c7a60b9aee9",
                                                                "name": "first_name",
                                                                "definition": {
                                                                    "name": "first_name",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 45,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "265da4ae-7655-4091-9351-dd63477e7434": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "0f93610b-2501-4526-a583-2d3622d3caa3",
                                                                "name": "address",
                                                                "definition": {
                                                                    "name": "address",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "a05e5e68-2a6c-466e-926f-f91455631a34": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "19a568c0-6e4d-4350-b15b-6c0892bedb07",
                                                                "name": "postal_code",
                                                                "definition": {
                                                                    "name": "postal_code",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 10,
                                                                    "required": false,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "40d57cb2-7053-40d8-9ebb-3ffd78c14e8d": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "address",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "a89348e2-bca7-4a12-a24f-3ccac3032cd1",
                                                                                "indxName": "address_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "5f7f4846-50a8-4ae6-8252-5791a4253d58",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "ebe958e4-8f90-45b4-8050-67f1db8676c8",
                                                                                "indxName": "idx_fk_city_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "3ddedcb4-15ce-45ad-9dee-84b9fd356354",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7bf7552d-e343-478f-b7f4-59dc4b299da4",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "2b8b62bd-a69d-4f70-8c9a-ad8b2436934d",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "33945e74-8ae3-4639-a65a-c8861448b5e2",
                                                                "name": "phone",
                                                                "definition": {
                                                                    "name": "phone",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 20,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "837951a2-4c0c-4ab7-801f-9cc3a97b8dcf": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "city",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "9c77cc96-5495-4e43-9230-6ea7147258ce",
                                                                                "indxName": "city_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "f536ace5-0164-44d8-bc88-36167f000bed",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            },
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "be1ede0b-b2e8-43a4-acb7-ec44f018dd7a",
                                                                                "indxName": "idx_fk_country_id",
                                                                                "unique": false,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int2_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "76a98bcc-ddb6-4f79-a906-8416aad2eb63",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "c23bff87-54ec-494a-8531-41412c3864ac",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "711a3a07-b148-496c-8776-b4fbd72e7de7",
                                                                "name": "city",
                                                                "definition": {
                                                                    "name": "city",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "7f25dff8-081b-46e8-8c30-8e61d0ba2275": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "country",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "5c16d7c8-a0a7-4494-b44f-61906fadc599",
                                                                                "indxName": "country_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "140be08e-c482-4b1c-844b-6d3513837d44",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "5011aefa-e643-438f-9ece-4add2108ee5f",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "b0559afe-7565-4a15-9571-1259cd7495ce",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "84d53d33-def5-4ef7-b3b0-18119eb865f9",
                                                                "name": "country",
                                                                "definition": {
                                                                    "name": "country",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "char",
                                                                    "mode": "varchar",
                                                                    "length": 50,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false
                                                                }
                                                            },
                                                            "f232c0ed-dc75-40d9-90e1-c6a50b7a3d15": {
                                                                "bucket": [
                                                                    {
                                                                        "name": "public",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "ifNotExist": true
                                                                    },
                                                                    {
                                                                        "UDFs": [
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "1f940469-b1ea-4bb1-9e35-026f992052cf",
                                                                                "name": "_group_concat",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "48042e60-40a2-41ac-a865-7394e31badb2",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "c4a7846d-7fe5-448c-8d31-63dfab357dbe",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "text",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "text",
                                                                                "functionBody": "\nSELECT CASE\n  WHEN $2 IS NULL THEN $1\n  WHEN $1 IS NULL THEN $2\n  ELSE $1 || ', ' || $2\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "e13534c7-d1b9-446a-a4b3-3f355156a91b",
                                                                                "name": "film_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "602d1757-3073-45d4-a0a4-6c71294d6413",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "b5afc1c8-e94b-4ef3-abe3-99d8a9fbfecb",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "d90e95c8-f09b-4b63-9881-aaaece94bc32",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n     SELECT inventory_id\n     FROM inventory\n     WHERE film_id = $1\n     AND store_id = $2\n     AND inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "be898839-9030-4032-8f49-8004804f4202",
                                                                                "name": "film_not_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bba06c7b-330e-4fa1-9f06-ea06aaf6e7d7",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_film_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "af41013b-1d41-4f7b-ab74-e0d7d7ce0114",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_store_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "f90102ec-ede3-4944-8c45-6a2b69245182",
                                                                                        "argumentMode": "OUT",
                                                                                        "argumentName": "p_film_count",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\n    SELECT inventory_id\n    FROM inventory\n    WHERE film_id = $1\n    AND store_id = $2\n    AND NOT inventory_in_stock(inventory_id);\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "27fde8e1-0cec-4314-8f3f-2cd4806434bc",
                                                                                "name": "get_customer_balance",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "8e4a0753-318d-445a-9f6a-9b8db3964fde",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_customer_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "083e920c-a2c0-4c67-b3fa-805489f4d737",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_effective_date",
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "numeric",
                                                                                "functionBody": "\n       --#OK, WE NEED TO CALCULATE THE CURRENT BALANCE GIVEN A CUSTOMER_ID AND A DATE\n       --#THAT WE WANT THE BALANCE TO BE EFFECTIVE FOR. THE BALANCE IS:\n       --#   1) RENTAL FEES FOR ALL PREVIOUS RENTALS\n       --#   2) ONE DOLLAR FOR EVERY DAY THE PREVIOUS RENTALS ARE OVERDUE\n       --#   3) IF A FILM IS MORE THAN RENTAL_DURATION * 2 OVERDUE, CHARGE THE REPLACEMENT_COST\n       --#   4) SUBTRACT ALL PAYMENTS MADE BEFORE THE DATE SPECIFIED\nDECLARE\n    v_rentfees DECIMAL(5,2); --#FEES PAID TO RENT THE VIDEOS INITIALLY\n    v_overfees INTEGER;      --#LATE FEES FOR PRIOR RENTALS\n    v_payments DECIMAL(5,2); --#SUM OF PAYMENTS MADE PREVIOUSLY\nBEGIN\n    SELECT COALESCE(SUM(film.rental_rate),0) INTO v_rentfees\n    FROM film, inventory, rental\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(IF((rental.return_date - rental.rental_date) > (film.rental_duration * '1 day'::interval),\n        ((rental.return_date - rental.rental_date) - (film.rental_duration * '1 day'::interval)),0)),0) INTO v_overfees\n    FROM rental, inventory, film\n    WHERE film.film_id = inventory.film_id\n      AND inventory.inventory_id = rental.inventory_id\n      AND rental.rental_date <= p_effective_date\n      AND rental.customer_id = p_customer_id;\n\n    SELECT COALESCE(SUM(payment.amount),0) INTO v_payments\n    FROM payment\n    WHERE payment.payment_date <= p_effective_date\n    AND payment.customer_id = p_customer_id;\n\n    RETURN v_rentfees + v_overfees - v_payments;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "8f724c74-4447-4c4a-9a27-6ed3b21abb0f",
                                                                                "name": "inventory_held_by_customer",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "541ae437-2b56-4aa9-b90e-b07d9baaa513",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "int4",
                                                                                "functionBody": "\nDECLARE\n    v_customer_id INTEGER;\nBEGIN\n\n  SELECT customer_id INTO v_customer_id\n  FROM rental\n  WHERE return_date IS NULL\n  AND inventory_id = p_inventory_id;\n\n  RETURN v_customer_id;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "98913a82-9838-4208-bca9-5365252cdd7a",
                                                                                "name": "inventory_in_stock",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "1ab4d741-d632-4b83-89d8-d0e009254cc0",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "p_inventory_id",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "bool",
                                                                                "functionBody": "\nDECLARE\n    v_rentals INTEGER;\n    v_out     INTEGER;\nBEGIN\n    -- AN ITEM IS IN-STOCK IF THERE ARE EITHER NO ROWS IN THE rental TABLE\n    -- FOR THE ITEM OR ALL ROWS HAVE return_date POPULATED\n\n    SELECT count(*) INTO v_rentals\n    FROM rental\n    WHERE inventory_id = p_inventory_id;\n\n    IF v_rentals = 0 THEN\n      RETURN TRUE;\n    END IF;\n\n    SELECT COUNT(rental_id) INTO v_out\n    FROM inventory LEFT JOIN rental USING(inventory_id)\n    WHERE inventory.inventory_id = p_inventory_id\n    AND rental.return_date IS NULL;\n\n    IF v_out > 0 THEN\n      RETURN FALSE;\n    ELSE\n      RETURN TRUE;\n    END IF;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "sql",
                                                                                "functionVolatility": "IMMUTABLE",
                                                                                "functionNullArgs": "STRICT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "9b0cfec8-6030-4809-b3e7-baed9b65368e",
                                                                                "name": "last_day",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "bb7d02ce-446e-4a88-b786-0b1ad2810d49",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": null,
                                                                                        "argumentType": "timestamp without time zone",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "date",
                                                                                "functionBody": "\n  SELECT CASE\n    WHEN EXTRACT(MONTH FROM $1) = 12 THEN\n      (((EXTRACT(YEAR FROM $1) + 1) operator(pg_catalog.||) '-01-01')::date - INTERVAL '1 day')::date\n    ELSE\n      ((EXTRACT(YEAR FROM $1) operator(pg_catalog.||) '-' operator(pg_catalog.||) (EXTRACT(MONTH FROM $1) + 1) operator(pg_catalog.||) '-01')::date - INTERVAL '1 day')::date\n    END\n",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "INVOKER",
                                                                                "functionParallel": "",
                                                                                "GUID": "30e846c3-43b1-48f1-9605-1ae63503a7f9",
                                                                                "name": "last_updated",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [],
                                                                                "functionReturnsSetOf": false,
                                                                                "functionReturnType": "trigger",
                                                                                "functionBody": "\nBEGIN\n    NEW.last_update = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND ",
                                                                                "functionLeakProof": false
                                                                            },
                                                                            {
                                                                                "functionLanguage": "plpgsql",
                                                                                "functionVolatility": "VOLATILE",
                                                                                "functionNullArgs": "CALLED ON NULL INPUT",
                                                                                "functionSqlSecurity": "DEFINER",
                                                                                "functionParallel": "",
                                                                                "GUID": "92026b1b-b7dd-477e-9f6b-42d70fa1abb9",
                                                                                "name": "rewards_report",
                                                                                "functionDescription": null,
                                                                                "functionArguments": [
                                                                                    {
                                                                                        "GUID": "60709b55-e197-4147-8e3a-2dd4ab6726fa",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_monthly_purchases",
                                                                                        "argumentType": "integer",
                                                                                        "defaultExpression": null
                                                                                    },
                                                                                    {
                                                                                        "GUID": "2bd1d3f4-1494-48a5-9652-5b5ca43bd1a5",
                                                                                        "argumentMode": "IN",
                                                                                        "argumentName": "min_dollar_amount_purchased",
                                                                                        "argumentType": "numeric",
                                                                                        "defaultExpression": null
                                                                                    }
                                                                                ],
                                                                                "functionReturnsSetOf": true,
                                                                                "functionReturnType": "customer",
                                                                                "functionBody": "\nDECLARE\n    last_month_start DATE;\n    last_month_end DATE;\nrr RECORD;\ntmpSQL TEXT;\nBEGIN\n\n    /* Some sanity checks... */\n    IF min_monthly_purchases = 0 THEN\n        RAISE EXCEPTION 'Minimum monthly purchases parameter must be > 0';\n    END IF;\n    IF min_dollar_amount_purchased = 0.00 THEN\n        RAISE EXCEPTION 'Minimum monthly dollar amount purchased parameter must be > $0.00';\n    END IF;\n\n    last_month_start := CURRENT_DATE - '3 month'::interval;\n    last_month_start := to_date((extract(YEAR FROM last_month_start) || '-' || extract(MONTH FROM last_month_start) || '-01'),'YYYY-MM-DD');\n    last_month_end := LAST_DAY(last_month_start);\n\n    /*\n    Create a temporary storage area for Customer IDs.\n    */\n    CREATE TEMPORARY TABLE tmpCustomer (customer_id INTEGER NOT NULL PRIMARY KEY);\n\n    /*\n    Find all customers meeting the monthly purchase requirements\n    */\n\n    tmpSQL := 'INSERT INTO tmpCustomer (customer_id)\n        SELECT p.customer_id\n        FROM payment AS p\n        WHERE DATE(p.payment_date) BETWEEN '||quote_literal(last_month_start) ||' AND '|| quote_literal(last_month_end) || '\n        GROUP BY customer_id\n        HAVING SUM(p.amount) > '|| min_dollar_amount_purchased || '\n        AND COUNT(customer_id) > ' ||min_monthly_purchases ;\n\n    EXECUTE tmpSQL;\n\n    /*\n    Output ALL customer information of matching rewardees.\n    Customize output as needed.\n    */\n    FOR rr IN EXECUTE 'SELECT c.* FROM tmpCustomer AS t INNER JOIN customer AS c ON t.customer_id = c.customer_id' LOOP\n        RETURN NEXT rr;\n    END LOOP;\n\n    /* Clean up */\n    tmpSQL := 'DROP TABLE tmpCustomer';\n    EXECUTE tmpSQL;\n\nRETURN;\nEND\n",
                                                                                "functionLeakProof": false
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "Procedures": []
                                                                    },
                                                                    {
                                                                        "backgroundColor": {
                                                                            "r": 216,
                                                                            "g": 0,
                                                                            "b": 115,
                                                                            "a": 1
                                                                        }
                                                                    }
                                                                ],
                                                                "collection": [
                                                                    {
                                                                        "collectionName": "staff",
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                        "additionalProperties": true,
                                                                        "temporary": false,
                                                                        "unlogged": false,
                                                                        "ifNotExist": true,
                                                                        "inherits": [],
                                                                        "storage_parameter": {
                                                                            "GUID": "baf47656-82b7-47f4-bc3f-cf21d449af88"
                                                                        },
                                                                        "on_commit": "PRESERVE ROWS",
                                                                        "table_tablespace_name": "pg_default"
                                                                    },
                                                                    {
                                                                        "primaryKey": [],
                                                                        "uniqueKey": []
                                                                    },
                                                                    {
                                                                        "Indxs": [
                                                                            {
                                                                                "isActivated": true,
                                                                                "index_method": "btree",
                                                                                "ifNotExist": true,
                                                                                "only": true,
                                                                                "index_tablespace_name": "",
                                                                                "GUID": "3fcd501a-4e49-45e1-a8a7-77fedc0dd236",
                                                                                "indxName": "staff_pkey",
                                                                                "unique": true,
                                                                                "columns": [
                                                                                    {
                                                                                        "keyId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                                        "sortOrder": "ASC",
                                                                                        "nullsOrder": "NULLS LAST",
                                                                                        "collation": null,
                                                                                        "opclass": "pg_catalog.int4_ops"
                                                                                    }
                                                                                ],
                                                                                "include": [],
                                                                                "where": ""
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "chkConstr": []
                                                                    },
                                                                    {
                                                                        "triggers": [
                                                                            {
                                                                                "triggerType": "BEFORE",
                                                                                "GUID": "7e9029e5-e2d9-489e-8660-40a46dd1e3e6",
                                                                                "name": "last_updated",
                                                                                "triggerDescription": null,
                                                                                "triggerConstraint": false,
                                                                                "triggerEvents": [
                                                                                    {
                                                                                        "GUID": "0d57d803-e697-4681-a50f-61ab89a7e494",
                                                                                        "triggerEvent": "UPDATE"
                                                                                    }
                                                                                ],
                                                                                "triggerUpdateColumns": [],
                                                                                "triggerReferencing": false,
                                                                                "triggerEachRowStatement": "FOR EACH ROW",
                                                                                "triggerCondition": null,
                                                                                "triggerFunction": "last_updated()"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {},
                                                                    {}
                                                                ],
                                                                "definitionId": "2df6e177-d945-4997-97fd-74c5f3633ae1",
                                                                "name": "store_id",
                                                                "definition": {
                                                                    "name": "store_id",
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "childType": "numeric",
                                                                    "mode": "smallint",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "required": true,
                                                                    "compositePrimaryKey": false,
                                                                    "primaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false
                                                                }
                                                            }
                                                        },
                                                        "entityData": [
                                                            {
                                                                "collectionName": "staff",
                                                                "code": "",
                                                                "isActivated": true,
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "additionalProperties": true,
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "ifNotExist": true,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "baf47656-82b7-47f4-bc3f-cf21d449af88"
                                                                },
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default"
                                                            },
                                                            {
                                                                "primaryKey": [],
                                                                "uniqueKey": []
                                                            },
                                                            {
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "3fcd501a-4e49-45e1-a8a7-77fedc0dd236",
                                                                        "indxName": "staff_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "98918f39-d308-4ae2-98ca-f889f0d2ceaf",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "chkConstr": []
                                                            },
                                                            {
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "7e9029e5-e2d9-489e-8660-40a46dd1e3e6",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "0d57d803-e697-4681-a50f-61ab89a7e494",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ]
                                                            },
                                                            {},
                                                            {}
                                                        ],
                                                        "relatedSchemas": {},
                                                        "relatedContainers": {}
                                                    }
                                                },
                                                "roleType": "view"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "8dcc8e2a-8f55-48ef-9f4b-88f644734499",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "60a75fa8-a7df-409f-8fcd-d16f26f32ebf"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "68f5f309-dd38-49b2-b76f-3e929944651b"
                },
                {
                    "name": "modelDefinitions",
                    "hackoladeMeta": {},
                    "isActivated": true,
                    "primaryKey": false,
                    "unique": false,
                    "subtype": "object",
                    "properties": [
                        {
                            "name": "added",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ec5c95a7-a236-4ca4-bba1-11d48d8f3ddc"
                        },
                        {
                            "name": "deleted",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "e69a26be-831b-4ded-9811-f379e5ddf1b3"
                        },
                        {
                            "name": "modified",
                            "hackoladeMeta": {},
                            "isActivated": true,
                            "primaryKey": false,
                            "unique": false,
                            "type": "array",
                            "properties": [
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "mpaa_rating",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "e89f5a06-9d07-426c-a02e-73e81dbfd4e8",
                                            "compMod": {
                                                "name": {
                                                    "new": "mpaa_rating",
                                                    "old": "mpaa_rating"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "enum",
                                                    "old": "enum"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "enum": {
                                                    "new": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ],
                                                    "old": [
                                                        "G",
                                                        "PG",
                                                        "PG-13",
                                                        "R",
                                                        "NC-17"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                    "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "1d3819e7-a089-44bd-a969-7dca6f9939f7"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "a1ebbf93-8f00-43f8-af1a-2fc78d2d32a3"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                        }
                                                                    ],
                                                                    "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                                        "0222384e-5b61-466e-b517-286113d044b4",
                                                                        "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "024ec66f-330c-44e0-9787-bb3231f6e9d0",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                                    "foreignField": [
                                                                        "eda78672-fe90-4798-b215-8c1505beff02",
                                                                        "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                                    ],
                                                                    "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "d6f59e2b-bb03-40b8-acb5-625d2aa875ed",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                                        }
                                                                    ],
                                                                    "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "a0265cbb-3069-45d2-b97f-8b069dd82ff9",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "mpaa_rating",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "enum",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "enum": [
                                                    "G",
                                                    "PG",
                                                    "PG-13",
                                                    "R",
                                                    "NC-17"
                                                ],
                                                "GUID": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "1d3819e7-a089-44bd-a969-7dca6f9939f7"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "mpaa_rating",
                                                        "old": "mpaa_rating"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "enum",
                                                        "old": "enum"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "enum": {
                                                        "new": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ],
                                                        "old": [
                                                            "G",
                                                            "PG",
                                                            "PG-13",
                                                            "R",
                                                            "NC-17"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                        "old": "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "1d3819e7-a089-44bd-a969-7dca6f9939f7"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "a1ebbf93-8f00-43f8-af1a-2fc78d2d32a3"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                            }
                                                                        ],
                                                                        "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                                            "0222384e-5b61-466e-b517-286113d044b4",
                                                                            "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "024ec66f-330c-44e0-9787-bb3231f6e9d0",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                                        "refIdPath": [
                                                                            "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                            "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                            "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                    "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                                        "foreignField": [
                                                                            "eda78672-fe90-4798-b215-8c1505beff02",
                                                                            "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                                        ],
                                                                        "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "d6f59e2b-bb03-40b8-acb5-625d2aa875ed",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                                        "refIdPath": [
                                                                            "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                            "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                            "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                    "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                                            }
                                                                        ],
                                                                        "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "a0265cbb-3069-45d2-b97f-8b069dd82ff9",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "258123b2-9b5c-4760-ac20-6d0475ff4a4e",
                                    "arrayItem": true
                                },
                                {
                                    "hackoladeMeta": {},
                                    "isActivated": true,
                                    "primaryKey": false,
                                    "unique": false,
                                    "subtype": "object",
                                    "properties": [
                                        {
                                            "name": "year",
                                            "hackoladeMeta": {},
                                            "isActivated": true,
                                            "primaryKey": false,
                                            "unique": false,
                                            "subtype": "object",
                                            "properties": [],
                                            "childType": "object",
                                            "type": "document",
                                            "compositeKey": [
                                                "compositePartitionKey",
                                                "compositePrimaryKey",
                                                "compositeUniqueKey",
                                                "triggerUpdateColumns"
                                            ],
                                            "compositePartitionKey": false,
                                            "compositePrimaryKey": false,
                                            "compositeUniqueKey": false,
                                            "triggerUpdateColumns": false,
                                            "GUID": "90e67e54-6f35-4e78-9f9b-a9fefe1c6b4c",
                                            "compMod": {
                                                "name": {
                                                    "new": "year",
                                                    "old": "year"
                                                },
                                                "isActivated": {
                                                    "new": true,
                                                    "old": true
                                                },
                                                "childType": {
                                                    "new": "domain",
                                                    "old": "char"
                                                },
                                                "type": {
                                                    "new": "string",
                                                    "old": "string"
                                                },
                                                "compositeKey": {
                                                    "new": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ],
                                                    "old": [
                                                        "compositePartitionKey",
                                                        "compositePrimaryKey",
                                                        "compositeUniqueKey",
                                                        "triggerUpdateColumns"
                                                    ]
                                                },
                                                "GUID": {
                                                    "new": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                    "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                },
                                                "error": {
                                                    "new": {},
                                                    "old": {}
                                                },
                                                "definitionRefs": {
                                                    "new": [
                                                        [
                                                            "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "024ec66f-330c-44e0-9787-bb3231f6e9d0"
                                                        ]
                                                    ],
                                                    "old": [
                                                        [
                                                            "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                            "6ee12eb2-1a2d-4960-a3c5-bdcd853d0811"
                                                        ]
                                                    ]
                                                },
                                                "bucketsWithCurrentDefinition": {
                                                    "public": [
                                                        {
                                                            "collectionName": "film",
                                                            "type": "object",
                                                            "properties": [
                                                                {
                                                                    "code": "",
                                                                    "name": "film_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": true,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "integer",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "nextval('film_film_id_seq'::regclass)",
                                                                    "precision": 32,
                                                                    "scale": 0,
                                                                    "udt_name": "int4",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "primaryKeyOptions": [
                                                                        {
                                                                            "constraintName": "film_pkey",
                                                                            "indexStorageParameters": "",
                                                                            "indexTablespace": null,
                                                                            "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                        }
                                                                    ],
                                                                    "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                    "required": true,
                                                                    "childRelationships": [
                                                                        "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                                        "0222384e-5b61-466e-b517-286113d044b4",
                                                                        "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                                    ],
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        },
                                                                        "newField": {
                                                                            "name": "film_id",
                                                                            "type": "numeric",
                                                                            "mode": "integer"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "title",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "varchar",
                                                                    "length": 255,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "varchar",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        },
                                                                        "newField": {
                                                                            "name": "title",
                                                                            "type": "char",
                                                                            "mode": "varchar"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "description",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "text",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "description",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "024ec66f-330c-44e0-9787-bb3231f6e9d0",
                                                                    "type": "reference",
                                                                    "name": "release_year",
                                                                    "$ref": "#model/definitions/year",
                                                                    "refType": "model",
                                                                    "ref": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "release_year",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "language_id",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                    "required": true,
                                                                    "relationshipType": "Foreign Key",
                                                                    "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                                    "foreignField": [
                                                                        "eda78672-fe90-4798-b215-8c1505beff02",
                                                                        "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                                    ],
                                                                    "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "language_id",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_duration",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "3",
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_duration",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "rental_rate",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "4.99",
                                                                    "precision": 4,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "rental_rate",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "length",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "smallint",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "precision": 16,
                                                                    "scale": 0,
                                                                    "udt_name": "int2",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        },
                                                                        "newField": {
                                                                            "name": "length",
                                                                            "type": "numeric",
                                                                            "mode": "smallint"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "replacement_cost",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "exclusiveMinimum": false,
                                                                    "exclusiveMaximum": false,
                                                                    "mode": "numeric",
                                                                    "childType": "numeric",
                                                                    "type": "numeric",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "19.99",
                                                                    "precision": 5,
                                                                    "scale": 2,
                                                                    "udt_name": "numeric",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "d6f59e2b-bb03-40b8-acb5-625d2aa875ed",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        },
                                                                        "newField": {
                                                                            "name": "replacement_cost",
                                                                            "type": "numeric",
                                                                            "mode": "numeric"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "GUID": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                    "type": "reference",
                                                                    "name": "rating",
                                                                    "$ref": "#model/definitions/mpaa_rating",
                                                                    "refType": "model",
                                                                    "ref": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                                    "refIdPath": [
                                                                        "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                        "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                        "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                    ],
                                                                    "code": "",
                                                                    "isActivated": true,
                                                                    "required": false,
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                            ]
                                                                        },
                                                                        "newField": {
                                                                            "name": "rating",
                                                                            "type": "reference",
                                                                            "refIdPath": [
                                                                                "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                            ]
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "last_update",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "timestamp",
                                                                    "scale": 7,
                                                                    "childType": "datetime",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "default": "now()",
                                                                    "timePrecision": "",
                                                                    "udt_name": "timestamp",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timezone": "WITHOUT TIME ZONE",
                                                                    "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        },
                                                                        "newField": {
                                                                            "name": "last_update",
                                                                            "type": "datetime",
                                                                            "mode": "timestamp"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "special_features",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "text",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "_text",
                                                                    "numberOfArrayDimensions": 1,
                                                                    "timePrecision": "",
                                                                    "array_type": [
                                                                        {
                                                                            "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                                        }
                                                                    ],
                                                                    "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                                    "required": false,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        },
                                                                        "newField": {
                                                                            "name": "special_features",
                                                                            "type": "char",
                                                                            "mode": "text"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "code": "",
                                                                    "name": "fulltext",
                                                                    "isActivated": true,
                                                                    "primaryKey": false,
                                                                    "unique": false,
                                                                    "mode": "tsvector",
                                                                    "length": 10,
                                                                    "childType": "char",
                                                                    "type": "string",
                                                                    "compositeKey": [
                                                                        "compositePartitionKey",
                                                                        "compositePrimaryKey",
                                                                        "compositeUniqueKey",
                                                                        "triggerUpdateColumns"
                                                                    ],
                                                                    "compositePartitionKey": false,
                                                                    "compositePrimaryKey": false,
                                                                    "compositeUniqueKey": false,
                                                                    "triggerUpdateColumns": false,
                                                                    "udt_name": "tsvector",
                                                                    "numberOfArrayDimensions": 0,
                                                                    "timePrecision": "",
                                                                    "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                    "required": true,
                                                                    "error": {},
                                                                    "compMod": {
                                                                        "oldField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "char"
                                                                        },
                                                                        "newField": {
                                                                            "name": "fulltext",
                                                                            "type": "char",
                                                                            "mode": "tsvector"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "definitions": {
                                                                "type": "definitions",
                                                                "GUID": "a0265cbb-3069-45d2-b97f-8b069dd82ff9",
                                                                "properties": []
                                                            },
                                                            "isActivated": true,
                                                            "additionalProperties": true,
                                                            "memory_optimized": false,
                                                            "collectionUsers": [],
                                                            "ifNotExist": true,
                                                            "on_commit": "PRESERVE ROWS",
                                                            "table_tablespace_name": "pg_default",
                                                            "GUID": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                            "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                            "code": "",
                                                            "temporary": false,
                                                            "unlogged": false,
                                                            "inherits": [],
                                                            "storage_parameter": {
                                                                "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                            },
                                                            "primaryKey": [],
                                                            "uniqueKey": [],
                                                            "Indxs": [
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "gist",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                    "indxName": "film_fulltext_idx",
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.tsvector_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                    "indxName": "film_pkey",
                                                                    "unique": true,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int4_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                    "indxName": "idx_fk_language_id",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": null,
                                                                            "opclass": "pg_catalog.int2_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                },
                                                                {
                                                                    "isActivated": true,
                                                                    "index_method": "btree",
                                                                    "ifNotExist": true,
                                                                    "only": true,
                                                                    "index_tablespace_name": "",
                                                                    "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                    "indxName": "idx_title",
                                                                    "unique": false,
                                                                    "columns": [
                                                                        {
                                                                            "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                            "sortOrder": "ASC",
                                                                            "nullsOrder": "NULLS LAST",
                                                                            "collation": "pg_catalog.\"default\"",
                                                                            "opclass": "pg_catalog.text_ops"
                                                                        }
                                                                    ],
                                                                    "include": [],
                                                                    "where": ""
                                                                }
                                                            ],
                                                            "chkConstr": [],
                                                            "triggers": [
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                    "name": "film_fulltext_trigger",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                            "triggerEvent": "INSERT"
                                                                        },
                                                                        {
                                                                            "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                },
                                                                {
                                                                    "triggerType": "BEFORE",
                                                                    "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                    "name": "last_updated",
                                                                    "triggerDescription": null,
                                                                    "triggerConstraint": false,
                                                                    "triggerEvents": [
                                                                        {
                                                                            "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                            "triggerEvent": "UPDATE"
                                                                        }
                                                                    ],
                                                                    "triggerUpdateColumns": [],
                                                                    "triggerReferencing": false,
                                                                    "triggerEachRowStatement": "FOR EACH ROW",
                                                                    "triggerCondition": null,
                                                                    "triggerFunction": "last_updated()"
                                                                }
                                                            ],
                                                            "hackoladeMeta": {
                                                                "validationErrors": {}
                                                            }
                                                        }
                                                    ]
                                                },
                                                "created": false,
                                                "deleted": false,
                                                "modified": true
                                            },
                                            "role": {
                                                "code": "",
                                                "name": "year",
                                                "isActivated": true,
                                                "primaryKey": false,
                                                "unique": false,
                                                "childType": "domain",
                                                "type": "string",
                                                "compositeKey": [
                                                    "compositePartitionKey",
                                                    "compositePrimaryKey",
                                                    "compositeUniqueKey",
                                                    "triggerUpdateColumns"
                                                ],
                                                "compositePartitionKey": false,
                                                "compositePrimaryKey": false,
                                                "compositeUniqueKey": false,
                                                "triggerUpdateColumns": false,
                                                "underlyingType": "integer",
                                                "collation": "",
                                                "default": "",
                                                "required": false,
                                                "checkConstraints": [
                                                    {
                                                        "name": "year_check",
                                                        "expression": "((VALUE >= 1901) AND (VALUE <= 2155))",
                                                        "GUID": "4ecc05c5-5dc1-4e81-b746-f15b8459a872"
                                                    }
                                                ],
                                                "GUID": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                "error": {},
                                                "definitionRefs": [
                                                    [
                                                        "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                        "024ec66f-330c-44e0-9787-bb3231f6e9d0"
                                                    ]
                                                ],
                                                "compMod": {
                                                    "name": {
                                                        "new": "year",
                                                        "old": "year"
                                                    },
                                                    "isActivated": {
                                                        "new": true,
                                                        "old": true
                                                    },
                                                    "childType": {
                                                        "new": "domain",
                                                        "old": "char"
                                                    },
                                                    "type": {
                                                        "new": "string",
                                                        "old": "string"
                                                    },
                                                    "compositeKey": {
                                                        "new": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ],
                                                        "old": [
                                                            "compositePartitionKey",
                                                            "compositePrimaryKey",
                                                            "compositeUniqueKey",
                                                            "triggerUpdateColumns"
                                                        ]
                                                    },
                                                    "GUID": {
                                                        "new": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                        "old": "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                    },
                                                    "error": {
                                                        "new": {},
                                                        "old": {}
                                                    },
                                                    "definitionRefs": {
                                                        "new": [
                                                            [
                                                                "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "024ec66f-330c-44e0-9787-bb3231f6e9d0"
                                                            ]
                                                        ],
                                                        "old": [
                                                            [
                                                                "fe8365a0-9834-4bd4-a47b-911a9ae78e06",
                                                                "6ee12eb2-1a2d-4960-a3c5-bdcd853d0811"
                                                            ]
                                                        ]
                                                    },
                                                    "bucketsWithCurrentDefinition": {
                                                        "public": [
                                                            {
                                                                "collectionName": "film",
                                                                "type": "object",
                                                                "properties": [
                                                                    {
                                                                        "code": "",
                                                                        "name": "film_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": true,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "integer",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "nextval('film_film_id_seq'::regclass)",
                                                                        "precision": 32,
                                                                        "scale": 0,
                                                                        "udt_name": "int4",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "primaryKeyOptions": [
                                                                            {
                                                                                "constraintName": "film_pkey",
                                                                                "indexStorageParameters": "",
                                                                                "indexTablespace": null,
                                                                                "GUID": "346f8a3c-e95a-4564-8a94-a61b457669bd"
                                                                            }
                                                                        ],
                                                                        "GUID": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                        "required": true,
                                                                        "childRelationships": [
                                                                            "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43",
                                                                            "0222384e-5b61-466e-b517-286113d044b4",
                                                                            "a0f9aa70-7439-42d1-a67a-8606beb96f9a"
                                                                        ],
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            },
                                                                            "newField": {
                                                                                "name": "film_id",
                                                                                "type": "numeric",
                                                                                "mode": "integer"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "title",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "varchar",
                                                                        "length": 255,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "varchar",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            },
                                                                            "newField": {
                                                                                "name": "title",
                                                                                "type": "char",
                                                                                "mode": "varchar"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "description",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "text",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "982161c4-c0f6-4517-aac9-7a4d50ab715f",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "description",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "024ec66f-330c-44e0-9787-bb3231f6e9d0",
                                                                        "type": "reference",
                                                                        "name": "release_year",
                                                                        "$ref": "#model/definitions/year",
                                                                        "refType": "model",
                                                                        "ref": "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e",
                                                                        "refIdPath": [
                                                                            "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                            "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                            "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "52a01f94-9d41-4f97-8576-634c7b91c85f"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "release_year",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                    "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "language_id",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                        "required": true,
                                                                        "relationshipType": "Foreign Key",
                                                                        "foreignCollection": "eda78672-fe90-4798-b215-8c1505beff02",
                                                                        "foreignField": [
                                                                            "eda78672-fe90-4798-b215-8c1505beff02",
                                                                            "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e"
                                                                        ],
                                                                        "parentRelationship": "0093b5ed-e363-43bf-98da-40e2c8d48928",
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "language_id",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_duration",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "3",
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "8c6ca4b3-8440-4afc-bc2e-3a07055bed91",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_duration",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "rental_rate",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "4.99",
                                                                        "precision": 4,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f826f8d8-7e68-42a1-8865-4cb27a3bdbda",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "rental_rate",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "length",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "smallint",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "precision": 16,
                                                                        "scale": 0,
                                                                        "udt_name": "int2",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "f5a8935f-2096-434d-b902-67ee09f58ce1",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            },
                                                                            "newField": {
                                                                                "name": "length",
                                                                                "type": "numeric",
                                                                                "mode": "smallint"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "replacement_cost",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "exclusiveMinimum": false,
                                                                        "exclusiveMaximum": false,
                                                                        "mode": "numeric",
                                                                        "childType": "numeric",
                                                                        "type": "numeric",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "19.99",
                                                                        "precision": 5,
                                                                        "scale": 2,
                                                                        "udt_name": "numeric",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "d6f59e2b-bb03-40b8-acb5-625d2aa875ed",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            },
                                                                            "newField": {
                                                                                "name": "replacement_cost",
                                                                                "type": "numeric",
                                                                                "mode": "numeric"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "GUID": "1d3819e7-a089-44bd-a969-7dca6f9939f7",
                                                                        "type": "reference",
                                                                        "name": "rating",
                                                                        "$ref": "#model/definitions/mpaa_rating",
                                                                        "refType": "model",
                                                                        "ref": "ebfec91b-d1fa-43b1-9b81-ae89688ca90b",
                                                                        "refIdPath": [
                                                                            "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                            "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                            "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                        ],
                                                                        "code": "",
                                                                        "isActivated": true,
                                                                        "required": false,
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "402984b9-c6ef-465d-9bc6-e83601c480a5",
                                                                                    "a8aeeb1d-9317-471c-8f9a-b91e87279e7a",
                                                                                    "aef4047c-1b18-4be6-8785-760ae34f2043"
                                                                                ]
                                                                            },
                                                                            "newField": {
                                                                                "name": "rating",
                                                                                "type": "reference",
                                                                                "refIdPath": [
                                                                                    "d4578d0e-22e2-40dd-b7c0-ce96c8b4af21",
                                                                                    "c33aa8ee-8498-44c6-9523-b2e51e661845",
                                                                                    "ebfec91b-d1fa-43b1-9b81-ae89688ca90b"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "last_update",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "timestamp",
                                                                        "scale": 7,
                                                                        "childType": "datetime",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "default": "now()",
                                                                        "timePrecision": "",
                                                                        "udt_name": "timestamp",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timezone": "WITHOUT TIME ZONE",
                                                                        "GUID": "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            },
                                                                            "newField": {
                                                                                "name": "last_update",
                                                                                "type": "datetime",
                                                                                "mode": "timestamp"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "special_features",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "text",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "_text",
                                                                        "numberOfArrayDimensions": 1,
                                                                        "timePrecision": "",
                                                                        "array_type": [
                                                                            {
                                                                                "GUID": "2128589e-1b35-448f-96ce-2bf33e830ff4"
                                                                            }
                                                                        ],
                                                                        "GUID": "fdc4cc8f-f4ac-4113-b466-b5042c37c484",
                                                                        "required": false,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            },
                                                                            "newField": {
                                                                                "name": "special_features",
                                                                                "type": "char",
                                                                                "mode": "text"
                                                                            }
                                                                        }
                                                                    },
                                                                    {
                                                                        "code": "",
                                                                        "name": "fulltext",
                                                                        "isActivated": true,
                                                                        "primaryKey": false,
                                                                        "unique": false,
                                                                        "mode": "tsvector",
                                                                        "length": 10,
                                                                        "childType": "char",
                                                                        "type": "string",
                                                                        "compositeKey": [
                                                                            "compositePartitionKey",
                                                                            "compositePrimaryKey",
                                                                            "compositeUniqueKey",
                                                                            "triggerUpdateColumns"
                                                                        ],
                                                                        "compositePartitionKey": false,
                                                                        "compositePrimaryKey": false,
                                                                        "compositeUniqueKey": false,
                                                                        "triggerUpdateColumns": false,
                                                                        "udt_name": "tsvector",
                                                                        "numberOfArrayDimensions": 0,
                                                                        "timePrecision": "",
                                                                        "GUID": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                        "required": true,
                                                                        "error": {},
                                                                        "compMod": {
                                                                            "oldField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "char"
                                                                            },
                                                                            "newField": {
                                                                                "name": "fulltext",
                                                                                "type": "char",
                                                                                "mode": "tsvector"
                                                                            }
                                                                        }
                                                                    }
                                                                ],
                                                                "definitions": {
                                                                    "type": "definitions",
                                                                    "GUID": "a0265cbb-3069-45d2-b97f-8b069dd82ff9",
                                                                    "properties": []
                                                                },
                                                                "isActivated": true,
                                                                "additionalProperties": true,
                                                                "memory_optimized": false,
                                                                "collectionUsers": [],
                                                                "ifNotExist": true,
                                                                "on_commit": "PRESERVE ROWS",
                                                                "table_tablespace_name": "pg_default",
                                                                "GUID": "2f811f5a-923f-4a4b-8539-2f01355d2429",
                                                                "bucketId": "e5e0cde1-a3da-4532-bf7b-00f75e8e1685",
                                                                "code": "",
                                                                "temporary": false,
                                                                "unlogged": false,
                                                                "inherits": [],
                                                                "storage_parameter": {
                                                                    "GUID": "a9541346-9fa5-437d-b64d-e9ef56cbacfb"
                                                                },
                                                                "primaryKey": [],
                                                                "uniqueKey": [],
                                                                "Indxs": [
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "gist",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "44caceb7-9e1c-41d1-b8ce-a1e4ddc002df",
                                                                        "indxName": "film_fulltext_idx",
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "edd6263b-6e75-45be-9247-f6a972d6d19f",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.tsvector_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "6fff2c68-baab-43ea-9727-9ca1beafee66",
                                                                        "indxName": "film_pkey",
                                                                        "unique": true,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "841a6ce5-4104-4ea0-81af-f55cb4833526",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int4_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "74b57493-2263-4b0c-b6b9-6a1d31ab806a",
                                                                        "indxName": "idx_fk_language_id",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "81a5c670-2699-419c-9730-c5d90bcc2dc9",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": null,
                                                                                "opclass": "pg_catalog.int2_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    },
                                                                    {
                                                                        "isActivated": true,
                                                                        "index_method": "btree",
                                                                        "ifNotExist": true,
                                                                        "only": true,
                                                                        "index_tablespace_name": "",
                                                                        "GUID": "55c38b32-c6eb-44fc-8b6d-55c947e13b6f",
                                                                        "indxName": "idx_title",
                                                                        "unique": false,
                                                                        "columns": [
                                                                            {
                                                                                "keyId": "e616e414-e4cc-43d5-b56f-0c1aef54d0bd",
                                                                                "sortOrder": "ASC",
                                                                                "nullsOrder": "NULLS LAST",
                                                                                "collation": "pg_catalog.\"default\"",
                                                                                "opclass": "pg_catalog.text_ops"
                                                                            }
                                                                        ],
                                                                        "include": [],
                                                                        "where": ""
                                                                    }
                                                                ],
                                                                "chkConstr": [],
                                                                "triggers": [
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "9c9981dc-99fb-4d23-b459-28f7837a9649",
                                                                        "name": "film_fulltext_trigger",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "679d6691-9326-4d80-bf0d-38ce67a06f57",
                                                                                "triggerEvent": "INSERT"
                                                                            },
                                                                            {
                                                                                "GUID": "68b8ebde-7463-47af-9fff-2057d9fa0a14",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "tsvector_update_trigger('fulltext', 'pg_catalog.english', 'title', 'description')"
                                                                    },
                                                                    {
                                                                        "triggerType": "BEFORE",
                                                                        "GUID": "22befb2a-1ac5-4dae-8820-781ff73c806d",
                                                                        "name": "last_updated",
                                                                        "triggerDescription": null,
                                                                        "triggerConstraint": false,
                                                                        "triggerEvents": [
                                                                            {
                                                                                "GUID": "204578f6-fbf1-4118-ab99-1e7b368d7fd5",
                                                                                "triggerEvent": "UPDATE"
                                                                            }
                                                                        ],
                                                                        "triggerUpdateColumns": [],
                                                                        "triggerReferencing": false,
                                                                        "triggerEachRowStatement": "FOR EACH ROW",
                                                                        "triggerCondition": null,
                                                                        "triggerFunction": "last_updated()"
                                                                    }
                                                                ],
                                                                "hackoladeMeta": {
                                                                    "validationErrors": {}
                                                                }
                                                            }
                                                        ]
                                                    },
                                                    "created": false,
                                                    "deleted": false,
                                                    "modified": true,
                                                    "oldProperties": []
                                                },
                                                "roleType": "definition"
                                            }
                                        }
                                    ],
                                    "childType": "object",
                                    "type": "document",
                                    "compositeKey": [
                                        "compositePartitionKey",
                                        "compositePrimaryKey",
                                        "compositeUniqueKey",
                                        "triggerUpdateColumns"
                                    ],
                                    "compositePartitionKey": false,
                                    "compositePrimaryKey": false,
                                    "compositeUniqueKey": false,
                                    "triggerUpdateColumns": false,
                                    "GUID": "7a3e9108-9550-421c-b9cb-7bf2adb5d051",
                                    "arrayItem": true
                                }
                            ],
                            "additionalItems": true,
                            "compositeKey": [
                                "compositePartitionKey",
                                "compositePrimaryKey",
                                "compositeUniqueKey",
                                "triggerUpdateColumns"
                            ],
                            "compositePartitionKey": false,
                            "compositePrimaryKey": false,
                            "compositeUniqueKey": false,
                            "triggerUpdateColumns": false,
                            "GUID": "ab435443-31e8-4e9a-8fce-ecd046b8511c"
                        }
                    ],
                    "childType": "object",
                    "type": "document",
                    "compositeKey": [
                        "compositePartitionKey",
                        "compositePrimaryKey",
                        "compositeUniqueKey",
                        "triggerUpdateColumns"
                    ],
                    "compositePartitionKey": false,
                    "compositePrimaryKey": false,
                    "compositeUniqueKey": false,
                    "triggerUpdateColumns": false,
                    "GUID": "bec6dd22-b4a4-4fe6-ab02-52987555b1ec"
                }
            ],
            "definitions": {
                "type": "definitions",
                "properties": [],
                "GUID": "d15921df-73bc-4c3d-9db7-cad0fe00aa08"
            },
            "isActivated": true,
            "additionalProperties": false,
            "memory_optimized": false,
            "collectionUsers": [],
            "ifNotExist": true,
            "on_commit": "PRESERVE ROWS",
            "table_tablespace_name": "pg_default",
            "GUID": "36d2d68d-bad6-4cf5-90ea-a828475fea1d"
        }
    ],
    "buckets": [],
    "views": [],
    "relationships": [],
    "users": [],
    "diagramViews": [],
    "idToNameHashTable": {
        "802521a6-e6a4-415d-9ba2-2b0f820c412c": "added",
        "41834f05-9eb9-4751-aadd-70b76d06b787": "deleted",
        "9ec03c28-fb57-4e69-a95d-e554e631b46d": "modified",
        "f63d012c-16f5-4cb8-ab0c-83ed07e00678": "public",
        "e5e0cde1-a3da-4532-bf7b-00f75e8e1685": "public",
        "07bdd829-f4ae-4e34-b541-709a7282c1be": "public",
        "e6e7a6c2-8f76-4905-900c-919ae71656e1": "added",
        "c82a259e-5f75-429a-9c02-102ceb454cd2": "deleted",
        "fd65295c-daa7-4191-aa2b-df834ac4b97f": "modified",
        "598d6c54-2278-4e16-9776-ff10b7fc0049": "actor",
        "3aa8ab42-ca75-4e26-af78-c27ffae0b39d": "address",
        "2c2f066f-cb66-4247-b9ae-f8defe49f589": "category",
        "eec1da4e-c313-4cd1-99d3-6bf4b095645e": "city",
        "8d07f2f0-9546-49c8-8d00-f51f54b0d71e": "country",
        "9ffbb409-fe3e-425b-91b7-c63908114dac": "customer",
        "fe8365a0-9834-4bd4-a47b-911a9ae78e06": "film",
        "778aab3c-fb93-4786-90ff-7cbc4b08b4e0": "film_actor",
        "fe5a1aab-f5e2-4eec-8d67-edf3f2243110": "film_category",
        "f29c19d2-bda9-4560-bb22-439e8789d495": "inventory",
        "9fe85521-30b3-4ab0-af6d-72071b837174": "payment",
        "3090385d-d8f0-4b82-9df0-35bfe792ec63": "rental",
        "606710fd-3963-4876-894f-4a67c06a802d": "staff",
        "4fd7816d-5c9e-442a-912f-5724cc5c7d60": "store",
        "7dbeb7ba-9845-4e8f-966a-9101985f5db8": "actor",
        "b9ef4748-48f7-473b-95b7-024eb9717d61": "address",
        "fb828408-fac5-44d8-832b-aab61f639c85": "category",
        "f0fa52ad-3d63-48b3-9441-37d6eb7d287a": "city",
        "67de1da6-680c-4325-bab4-106a520c9d73": "country",
        "e2318042-04b4-4536-84f4-daa1188f3729": "customer",
        "2f811f5a-923f-4a4b-8539-2f01355d2429": "film",
        "76b9bf06-5120-44ea-885c-41b95b0ea6f7": "film_actor",
        "1ed41ec5-a728-49c5-ae0e-05c0859d4868": "film_category",
        "48b058a1-8b14-46e4-a37a-684eba95991e": "inventory",
        "eda78672-fe90-4798-b215-8c1505beff02": "language",
        "efad3edd-b1e4-406a-aa5a-d3e1c33da3a3": "payment",
        "1a514ee7-1d0c-47ba-95ca-20f5b4190291": "rental",
        "0eae89ab-ba68-4b36-9912-21627935998f": "staff",
        "e8ea894f-cab9-4bd0-ae6c-db59933ad06d": "store",
        "6e861fe4-2954-4d49-a123-d7fce302a4e5": "actor_id",
        "48392814-0d77-4042-8074-5b5d7fc6bde1": "last_update",
        "5f7f4846-50a8-4ae6-8252-5791a4253d58": "address_id",
        "3ddedcb4-15ce-45ad-9dee-84b9fd356354": "city_id",
        "ff2af33a-7f7e-4e32-88ad-8e866c84a938": "last_update",
        "daf2f254-cf54-4bf3-bb73-a95aa5a8f3e3": "category_id",
        "9972ec65-faa5-47ed-9703-7f1a53706642": "last_update",
        "f536ace5-0164-44d8-bc88-36167f000bed": "city_id",
        "4818e7a2-b634-4ecd-a0d6-c4015df2cbfe": "country_id",
        "392738c3-600a-4498-b0d1-0073581d3ccd": "last_update",
        "140be08e-c482-4b1c-844b-6d3513837d44": "country_id",
        "670a9409-e5f0-4a6f-84f6-cf927706220f": "last_update",
        "f7052b42-b28d-41e6-98b8-ae344792d48f": "customer_id",
        "4c34f860-a2f8-4a5a-9392-582b741a4a1d": "store_id",
        "7e278ab4-3485-4a0b-83c2-87e860b5c36e": "address_id",
        "c6632dc4-0feb-44b2-a39c-3e5692648e19": "create_date",
        "7538bdf3-706e-432f-9204-896772354d36": "last_update",
        "1491afe4-74d0-4fb3-8640-2973d152b205": "active",
        "841a6ce5-4104-4ea0-81af-f55cb4833526": "film_id",
        "81a5c670-2699-419c-9730-c5d90bcc2dc9": "language_id",
        "8c6ca4b3-8440-4afc-bc2e-3a07055bed91": "rental_duration",
        "f5a8935f-2096-434d-b902-67ee09f58ce1": "length",
        "3a5ccdf9-8cfe-4c15-8d62-b1a7380dce03": "last_update",
        "fdc4cc8f-f4ac-4113-b466-b5042c37c484": "special_features",
        "edd6263b-6e75-45be-9247-f6a972d6d19f": "fulltext",
        "4a3da6f2-dd9c-4d54-bd37-15168bcd790b": "actor_id",
        "4dcfa8c0-74b9-4ebd-80c5-8a9054213b1b": "film_id",
        "e0ed86d9-45c0-42c3-8ef9-a4e4b7c8612f": "last_update",
        "3ed2da86-be1f-40ad-9e9a-d8841afdb190": "film_id",
        "2f8c81f8-bb75-44a1-a6d7-90d2ab868382": "category_id",
        "84bb97a2-8520-472d-a1ee-e907649f0bff": "last_update",
        "aa97440c-dd2c-42b8-abf0-f2b8c448dc6f": "inventory_id",
        "af3ce3be-99fe-4bc2-a4b8-6f4b8d811f49": "film_id",
        "7d3b2513-a4ac-446c-8fdf-e87c6e5f63cb": "store_id",
        "4a2a8a23-6a4c-4990-9ae1-ff96b2e4429d": "last_update",
        "ef1dcabf-b4db-48b2-acd6-f566aa8a76e7": "payment_id",
        "8365ab97-2a9c-4734-8471-7abce6522b41": "customer_id",
        "a7e4555b-416d-4602-9afa-5a02855275a3": "staff_id",
        "eac35d0b-c783-4497-bdc4-a4f99811216c": "rental_id",
        "27e14ccf-4861-45ee-afa4-3b9cb3896499": "payment_date",
        "726334a9-afda-4a51-886f-4023d745b205": "rental_id",
        "15f8e37f-2415-4b5d-a823-5ab5622f2e73": "rental_date",
        "9b0c073b-fcfc-4446-855c-77060e91e9ca": "inventory_id",
        "6ab619f9-0e0d-4227-b22d-05d3d402d143": "customer_id",
        "3ae2f428-bf72-44e6-b218-f720e119accf": "return_date",
        "7e3f2e27-8338-4e68-bf5f-68ffd199e3bb": "staff_id",
        "18f27ea0-61e8-4f9b-b97a-7689a4cf736a": "last_update",
        "98918f39-d308-4ae2-98ca-f889f0d2ceaf": "staff_id",
        "8f561e0b-38dc-49a4-a4d1-3d7fe3bdc469": "address_id",
        "2df6e177-d945-4997-97fd-74c5f3633ae1": "store_id",
        "f9e52e96-f7a7-4a1f-8b93-0a66da121f2a": "last_update",
        "e8b26dae-0c7d-4e35-9aac-1dbbe1333efb": "picture",
        "95c392eb-6fa1-477a-bd52-9ce6304194be": "store_id",
        "fb7e5543-83c5-4627-9f5d-ffb20f49decf": "manager_staff_id",
        "67e67292-afbe-41fa-ae6f-892d4150c45a": "address_id",
        "05f31a5f-c352-4f1f-bc9b-d3b806fd2f9b": "last_update",
        "4b1db752-0fb0-4a72-8cda-0f117a532565": "language",
        "857be1a6-a625-4fdc-bf8a-e316e7fee5a1": "actor",
        "fdd21812-ac99-4a99-8b84-f57ff6ef6eb2": "address",
        "a2f57697-bde1-4cc9-be56-c32b1b3f1658": "category",
        "3f151fac-d5f2-4e38-b264-ca8370332f46": "city",
        "8aca168e-0b28-479a-95a9-d8b578e17bd2": "country",
        "718c3eb3-5072-4a93-900a-2e102cb6983e": "customer",
        "f9dd567e-3b5f-485b-8f3c-e175ca4b79f7": "film",
        "87dfdd06-3053-4da8-9ca2-40972649a7dc": "film_actor",
        "9b4adc46-f7df-409d-9d6b-0982eeac6797": "film_category",
        "5eb4e54c-117f-4d4b-b55a-91391394a88b": "inventory",
        "be9f1f44-a09d-4ad2-94cc-5d71ba770570": "payment",
        "8604f49e-61d0-4aaa-868c-1b237620ffff": "rental",
        "6efb9b0e-8705-4e9a-a6c8-fa3d73399410": "staff",
        "54f25b5e-8d31-4e8a-8603-7ea7fae06adf": "store",
        "cda3895c-b853-4947-b151-6e2626d15634": "added",
        "c35eb5ea-bae6-46bd-9b5f-8399c0a591ba": "deleted",
        "711ee73a-4ff2-4d96-a9a9-7a372160c906": "modified",
        "e538fb3b-8473-4562-8f5a-0eb51f93247f": "store_address_id_fkey",
        "f9b0f681-a0da-4772-a56f-7635f3edea6a": "store_manager_staff_id_fkey",
        "5b249fee-16bc-40e4-9fd1-2cc46c80b472": "fk_address_city",
        "d374bba1-7534-4b1b-8812-6aa507c55623": "fk_city",
        "895c41b9-14d8-4f7c-a4aa-266885a40463": "customer_address_id_fkey",
        "3b8f74ab-376d-49fe-8808-6241fa630e32": "film_actor_actor_id_fkey",
        "b5042932-7c3b-4f73-afec-43ac367c7a1f": "film_actor_film_id_fkey",
        "d03dd0f4-e0ba-481d-830d-6a3d8a197237": "film_category_category_id_fkey",
        "fd86f209-5a4b-4ea7-b035-f61e8f5c2380": "film_category_film_id_fkey",
        "9a562a77-30a2-4ccb-b5e0-0d8b01ee9f6b": "inventory_film_id_fkey",
        "c1c0d07a-bcfc-4365-9a16-6e69b51b83a7": "rental_customer_id_fkey",
        "7e0103a3-1f38-493a-aa5a-86fa4266ffc4": "rental_inventory_id_fkey",
        "1176da73-580a-44d1-bb64-b194cfe0c480": "rental_staff_id_key",
        "de5d6fab-0969-4e75-8d15-13e259c84972": "staff_address_id_fkey",
        "bb069ade-4229-4938-a44d-e3a732655054": "payment_customer_id_fkey",
        "e0c8efb3-5638-47c5-97f9-0d1c7ac7bfe8": "payment_rental_id_fkey",
        "0efc6208-cac1-4e6c-8ec7-f48a71ad5742": "payment_staff_id_fkey",
        "145d1efa-1228-4363-b246-316a3fb337ff": "store_address_id_fkey",
        "748305f2-b025-4b93-a4ec-e1327bbf8ebd": "store_manager_staff_id_fkey",
        "d05a9488-f2b7-4938-b36b-b6a44eaeba3e": "fk_address_city",
        "e10d25a6-5e1b-4f3b-ad69-fe631850e5b1": "fk_city",
        "79b7bfed-71b7-46c3-bb97-a9fda6959120": "customer_address_id_fkey",
        "8bcdfa69-5ff2-4013-894c-c56b10762b70": "film_actor_actor_id_fkey",
        "2a8a58d8-52f1-4a65-9b2c-b4fe1f484b43": "film_actor_film_id_fkey",
        "835f95b9-bace-4c73-b56d-25649fa9bbb8": "film_category_category_id_fkey",
        "0222384e-5b61-466e-b517-286113d044b4": "film_category_film_id_fkey",
        "a0f9aa70-7439-42d1-a67a-8606beb96f9a": "inventory_film_id_fkey",
        "6d9597f4-024c-4de8-9359-f72d295d9508": "rental_customer_id_fkey",
        "55220fe8-d799-444e-a2b4-aba4ae898ab6": "rental_inventory_id_fkey",
        "8f65aec7-228a-4cd0-a556-6ddb90c2a039": "rental_staff_id_key",
        "52ca8549-7849-461a-a2c2-cc6fcc5f6479": "staff_address_id_fkey",
        "0032a19b-8cac-4fc7-bc64-9f5653024e6d": "payment_customer_id_fkey",
        "5c14f9ec-64f8-4f54-9249-65d5b1a7400a": "payment_rental_id_fkey",
        "68d4da5c-088b-43c9-8831-af9093fd0cf0": "payment_staff_id_fkey",
        "0093b5ed-e363-43bf-98da-40e2c8d48928": "film_language_id_fkey",
        "dd6d9f2b-af3c-4161-81e0-1c50a3abda0e": "language_id",
        "26f4c99d-82bf-41c0-86ae-41f919ff5a4b": "film_language_id_fkey",
        "c245b8df-6632-44d0-9b2b-ea619427513d": "store_address_id_fkey",
        "f84c3e13-f1e3-4792-8951-fe9e45021625": "store_manager_staff_id_fkey",
        "9256d074-e9f6-430a-bc97-47e66aecdec4": "fk_address_city",
        "21ae1fd3-7255-450f-8d82-32b23001113e": "fk_city",
        "7b607555-8f26-4bf6-9ed3-27e099ee7200": "customer_address_id_fkey",
        "a21591bd-756f-49c4-b527-f79b7bff7753": "film_actor_actor_id_fkey",
        "ccd6c8fd-4f85-4975-a33a-a0233991185d": "film_actor_film_id_fkey",
        "e08ef9e1-d53e-48f2-83c6-ba4cd38c950a": "film_category_category_id_fkey",
        "426bfc90-24c6-4c3d-aaed-3210e5105c13": "film_category_film_id_fkey",
        "5081cde8-d41d-40ab-9063-ea6ccf15c28e": "inventory_film_id_fkey",
        "f61d8a17-01ac-4a39-90c0-913ecaf55e02": "rental_customer_id_fkey",
        "86d082d4-1e07-46c1-8a10-bb27f202c398": "rental_inventory_id_fkey",
        "31c4f0c1-091e-4170-8fde-c6cd0bd281d3": "rental_staff_id_key",
        "1744b03d-8a99-43b3-b03e-e291ff9319a6": "staff_address_id_fkey",
        "52145eeb-0608-4689-9fa0-607db01e7f02": "payment_customer_id_fkey",
        "99847053-c669-4fbd-ad5f-1507a30560bd": "payment_rental_id_fkey",
        "5d8c7d20-49ea-42a8-b342-f2bc75e8fc75": "payment_staff_id_fkey",
        "925a6d80-306a-458b-84fc-f573635bf99c": "added",
        "c2f4fe63-099a-46c3-a0dd-6f8c55eb52e4": "deleted",
        "60a75fa8-a7df-409f-8fcd-d16f26f32ebf": "modified",
        "6031f9e9-f39e-408b-8db4-749873a39ef6": "actor_info",
        "8e64d6b2-7304-4cd3-9fea-9396f39e4ff3": "customer_list",
        "bba0d326-fb86-4319-bd70-c897070d4dc9": "film_list",
        "d74f0d6d-b851-4b2e-b0b1-287fbc34d272": "nicer_but_slower_film_list",
        "2124b0b7-ad75-4489-8d89-024432252885": "sales_by_film_category",
        "57208685-83ef-49ea-a3d8-382651e5796d": "sales_by_store",
        "315c22ce-0105-4d75-8c6f-1e50f4db6d27": "staff_list",
        "b7034959-f051-4ab5-9e01-77e567cdf797": "actor_info",
        "c2755487-5e63-4eac-8f39-d5fd89820a21": "customer_list",
        "52fb830f-7ce6-48fa-9869-e5c797e7cdc2": "film_list",
        "99d5ff09-93ee-46d8-afc8-27d87716adfe": "nicer_but_slower_film_list",
        "1b9572b1-6808-4d7a-b1cd-8f7166a3f037": "sales_by_film_category",
        "d31dbf6f-a555-4146-a329-e97941f04118": "sales_by_store",
        "d2473a2a-d222-473d-86c0-594c89fdef2c": "staff_list",
        "2e47aa90-5619-46ce-905c-2198bf567fd2": "actor_info",
        "f21ebe15-01e5-4344-99d4-43bd6131a27f": "customer_list",
        "323eb0a7-d05b-47eb-a1f3-896ccd2a9bef": "film_list",
        "a686e766-4835-4abc-bbef-6e796ef57b7d": "nicer_but_slower_film_list",
        "d61a47c5-a44e-4a44-b856-60b3bb81d2aa": "sales_by_film_category",
        "6d1ee517-6b2f-4543-a93c-4a144517c531": "sales_by_store",
        "32eb1bab-6bd4-4098-a278-18a79bca3c41": "staff_list",
        "ec5c95a7-a236-4ca4-bba1-11d48d8f3ddc": "added",
        "e69a26be-831b-4ded-9811-f379e5ddf1b3": "deleted",
        "ab435443-31e8-4e9a-8fce-ecd046b8511c": "modified",
        "aef4047c-1b18-4be6-8785-760ae34f2043": "mpaa_rating",
        "52a01f94-9d41-4f97-8576-634c7b91c85f": "year",
        "ebfec91b-d1fa-43b1-9b81-ae89688ca90b": "mpaa_rating",
        "7473aae7-4fd5-4d23-9f8e-776a08fc6d0e": "year",
        "e89f5a06-9d07-426c-a02e-73e81dbfd4e8": "mpaa_rating",
        "90e67e54-6f35-4e78-9f9b-a9fefe1c6b4c": "year",
        "36d2d68d-bad6-4cf5-90ea-a828475fea1d": "comparisonModelCollection",
        "3f342048-a0ab-4c04-ae39-6a496d150b0e": "containers",
        "6dbf4dad-7771-4243-936e-f1620bf18ac1": "entities",
        "c7972a95-fd59-462a-87e3-1e2f824601e2": "relationships",
        "68f5f309-dd38-49b2-b76f-3e929944651b": "views",
        "bec6dd22-b4a4-4fe6-ab02-52987555b1ec": "modelDefinitions"
    },
    "definitions": {
        "type": "definitions",
        "properties": [
            {
                "childType": "enum",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "name": "mpaa_rating",
                "isActivated": true,
                "primaryKey": false,
                "enum": [
                    "G",
                    "PG",
                    "PG-13",
                    "R",
                    "NC-17"
                ],
                "hackoladeMeta": {},
                "error": {},
                "GUID": "aef4047c-1b18-4be6-8785-760ae34f2043",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            },
            {
                "primaryKey": false,
                "mode": "varchar",
                "length": 10,
                "childType": "char",
                "type": "string",
                "compositeKey": [
                    "compositePartitionKey",
                    "compositePrimaryKey",
                    "compositeUniqueKey",
                    "triggerUpdateColumns"
                ],
                "compositePrimaryKey": false,
                "compositeUniqueKey": false,
                "name": "year",
                "isActivated": true,
                "required": false,
                "unique": false,
                "default": "",
                "hackoladeMeta": {},
                "error": {},
                "GUID": "52a01f94-9d41-4f97-8576-634c7b91c85f",
                "parentRelationship": "",
                "childRelationships": [],
                "properties": [],
                "definitionRefs": []
            }
        ],
        "GUID": "c33aa8ee-8498-44c6-9523-b2e51e661845"
    },
    "polyglotDefinitions": {
        "type": "polyglotDefinitions",
        "properties": [],
        "GUID": "2a8e33fc-89a2-4e0e-a991-28fa2c6b6c2f"
    },
    "externalDefinitions": {
        "type": "externalDefinitions",
        "properties": [],
        "GUID": "9fecf280-c6fe-4b12-94ea-429dc80db97c"
    },
    "sources": [],
    "decorativeSymbols": [],
    "dbVersion": "v5.0",
    "dbVendor": "PostgreSQL",
    "tablespace_name": "pg_default",
    "encoding": "UTF8",
    "appTarget": "PostgreSQL",
    "creationTS": "2023-05-23T14:22:09.927Z",
    "GUID": "9af525a2-b33c-4694-a8c8-5fdefe27bdf9",
    "compMode": true,
    "isCreatedByPlugin": true,
    "pluginInformation": {
        "pluginName": "PostgreSQL",
        "pluginVersion": "0.1.42",
        "pluginEngineVersion": "1.0.0"
    },
    "lastModifTS": "2023-05-23T14:22:10.039Z",
    "persistenceSchemaVersion": "6",
    "applicationInformation": {
        "version": "6.10.2"
    },
    "settings": {
        "centralPane": {
            "dbLevel": {
                "erd": [
                    {
                        "GUID": "36d2d68d-bad6-4cf5-90ea-a828475fea1d",
                        "x": 50,
                        "y": 50,
                        "width": 200,
                        "height": 100,
                        "color": {}
                    }
                ],
                "erdDefinitions": {
                    "erd": [],
                    "rootPath": [],
                    "entities": [],
                    "decorativeSymbols": []
                },
                "buckets": [],
                "collapsedNodes": [],
                "activeRelationship": "",
                "activeRelationshipFields": {
                    "childField": [],
                    "parentField": []
                },
                "selectedCollections": [],
                "displayColorPicker": false,
                "graphView": {
                    "erd": [],
                    "buckets": [],
                    "decorativeSymbols": [],
                    "forceLayout": true,
                    "defaultLinkLength": 300
                },
                "diagramViews": [],
                "decorativeSymbols": [],
                "nestedCollectionsLayout": "horizontal",
                "options": [],
                "relationshipUpdateDisabled": false
            },
            "collectionLevel": {},
            "changed": false
        },
        "dtDiagram": {
            "collapsedNodes": [],
            "shouldDistributeCollections": false
        }
    }
}